"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@storyblok";
exports.ids = ["vendor-chunks/@storyblok"];
exports.modules = {

/***/ "(ssr)/./node_modules/@storyblok/react/dist/bridge-loader.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@storyblok/react/dist/bridge-loader.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ i)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./storyblok-js.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/storyblok-js.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nconst t = async (e)=>{\n    await (0,_storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_1__.loadStoryblokBridge)(), new window.StoryblokBridge(e).on([\n        \"published\",\n        \"change\"\n    ], ()=>{\n        window.location.reload();\n    });\n}, i = ({ options: e })=>(t(e), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0b3J5Ymxvay9yZWFjdC9kaXN0L2JyaWRnZS1sb2FkZXIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs2REFDc0I7QUFDd0M7QUFDOUQsTUFBTUcsSUFBSSxPQUFPQztJQUNmLE1BQU1GLHNFQUFDQSxJQUFJLElBQUlHLE9BQU9DLGVBQWUsQ0FBQ0YsR0FBR0csRUFBRSxDQUFDO1FBQUM7UUFBYTtLQUFTLEVBQUU7UUFDbkVGLE9BQU9HLFFBQVEsQ0FBQ0MsTUFBTTtJQUN4QjtBQUNGLEdBQUdDLElBQUksQ0FBQyxFQUFFQyxTQUFTUCxDQUFDLEVBQUUsR0FBTUQsQ0FBQUEsRUFBRUMsSUFBSSxhQUFhLGlCQUFHSixnREFBZSxDQUFDQSwyQ0FBVSxFQUFFLEtBQUk7QUFHaEYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0YXBwLy4vbm9kZV9tb2R1bGVzL0BzdG9yeWJsb2svcmVhY3QvZGlzdC9icmlkZ2UtbG9hZGVyLm1qcz85YjkzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IG8gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBsb2FkU3RvcnlibG9rQnJpZGdlIGFzIHIgfSBmcm9tIFwiLi9zdG9yeWJsb2stanMubWpzXCI7XG5jb25zdCB0ID0gYXN5bmMgKGUpID0+IHtcbiAgYXdhaXQgcigpLCBuZXcgd2luZG93LlN0b3J5Ymxva0JyaWRnZShlKS5vbihbXCJwdWJsaXNoZWRcIiwgXCJjaGFuZ2VcIl0sICgpID0+IHtcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gIH0pO1xufSwgaSA9ICh7IG9wdGlvbnM6IGUgfSkgPT4gKHQoZSksIC8qIEBfX1BVUkVfXyAqLyBvLmNyZWF0ZUVsZW1lbnQoby5GcmFnbWVudCwgbnVsbCkpO1xuZXhwb3J0IHtcbiAgaSBhcyBkZWZhdWx0XG59O1xuIl0sIm5hbWVzIjpbIm8iLCJsb2FkU3RvcnlibG9rQnJpZGdlIiwiciIsInQiLCJlIiwid2luZG93IiwiU3RvcnlibG9rQnJpZGdlIiwib24iLCJsb2NhdGlvbiIsInJlbG9hZCIsImkiLCJvcHRpb25zIiwiY3JlYXRlRWxlbWVudCIsIkZyYWdtZW50IiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@storyblok/react/dist/bridge-loader.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@storyblok/react/dist/client.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@storyblok/react/dist/client.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useStoryblokState: () => (/* binding */ n)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./storyblok-js.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/storyblok-js.mjs\");\n\n\nconst n = (e = null, d = {}) => {\n  const [f, s] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e), o = (e == null ? void 0 : e.internalId) ?? (e == null ? void 0 : e.id) ?? 0, r = typeof window < \"u\" && typeof window.storyblokRegisterEvent < \"u\";\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    s(e), !(!r || !e) && (0,_storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_1__.registerStoryblokBridge)(\n      o,\n      (u) => s(u),\n      d\n    );\n  }, [e]), f;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0b3J5Ymxvay9yZWFjdC9kaXN0L2NsaWVudC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNEO0FBQ1k7QUFDbEUsMkJBQTJCO0FBQzNCLGlCQUFpQiwrQ0FBQztBQUNsQixTQUFTLGdEQUFDO0FBQ1YseUJBQXlCLDBFQUFDO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBR0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0YXBwLy4vbm9kZV9tb2R1bGVzL0BzdG9yeWJsb2svcmVhY3QvZGlzdC9jbGllbnQubWpzP2M2ZDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgYXMgYywgdXNlRWZmZWN0IGFzIHAgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHJlZ2lzdGVyU3RvcnlibG9rQnJpZGdlIGFzIGIgfSBmcm9tIFwiLi9zdG9yeWJsb2stanMubWpzXCI7XG5jb25zdCBuID0gKGUgPSBudWxsLCBkID0ge30pID0+IHtcbiAgY29uc3QgW2YsIHNdID0gYyhlKSwgbyA9IChlID09IG51bGwgPyB2b2lkIDAgOiBlLmludGVybmFsSWQpID8/IChlID09IG51bGwgPyB2b2lkIDAgOiBlLmlkKSA/PyAwLCByID0gdHlwZW9mIHdpbmRvdyA8IFwidVwiICYmIHR5cGVvZiB3aW5kb3cuc3RvcnlibG9rUmVnaXN0ZXJFdmVudCA8IFwidVwiO1xuICByZXR1cm4gcCgoKSA9PiB7XG4gICAgcyhlKSwgISghciB8fCAhZSkgJiYgYihcbiAgICAgIG8sXG4gICAgICAodSkgPT4gcyh1KSxcbiAgICAgIGRcbiAgICApO1xuICB9LCBbZV0pLCBmO1xufTtcbmV4cG9ydCB7XG4gIG4gYXMgdXNlU3RvcnlibG9rU3RhdGVcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@storyblok/react/dist/client.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@storyblok/react/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@storyblok/react/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RichTextResolver: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_1__.RichTextResolver),\n/* harmony export */   RichTextSchema: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_1__.RichTextSchema),\n/* harmony export */   StoryblokComponent: () => (/* reexport safe */ _storyblok_component_mjs__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   apiPlugin: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_1__.apiPlugin),\n/* harmony export */   getComponent: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_2__.getComponent),\n/* harmony export */   getCustomFallbackComponent: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_2__.getCustomFallbackComponent),\n/* harmony export */   getEnableFallbackComponent: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_2__.getEnableFallbackComponent),\n/* harmony export */   getStoryblokApi: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_2__.useStoryblokApi),\n/* harmony export */   loadStoryblokBridge: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_1__.loadStoryblokBridge),\n/* harmony export */   registerStoryblokBridge: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_1__.registerStoryblokBridge),\n/* harmony export */   renderRichText: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_1__.renderRichText),\n/* harmony export */   setComponents: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_2__.setComponents),\n/* harmony export */   storyblokEditable: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_1__.storyblokEditable),\n/* harmony export */   storyblokInit: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_2__.storyblokInit),\n/* harmony export */   useStoryblok: () => (/* binding */ b),\n/* harmony export */   useStoryblokApi: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_2__.useStoryblokApi),\n/* harmony export */   useStoryblokBridge: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_1__.registerStoryblokBridge),\n/* harmony export */   useStoryblokState: () => (/* reexport safe */ _client_mjs__WEBPACK_IMPORTED_MODULE_3__.useStoryblokState)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./storyblok-js.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/storyblok-js.mjs\");\n/* harmony import */ var _index2_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index2.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/index2.mjs\");\n/* harmony import */ var _client_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./client.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/client.mjs\");\n/* harmony import */ var _storyblok_component_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./storyblok-component.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/storyblok-component.mjs\");\n\n\n\n\n\n\n\nconst b = (s, e = {}, o = {}) => {\n  const [l, n] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}), i = typeof window < \"u\" && typeof window.storyblokRegisterEvent < \"u\", t = (0,_index2_mjs__WEBPACK_IMPORTED_MODULE_2__.useStoryblokApi)();\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!t) {\n      console.error(\n        \"You can't use useStoryblok if you're not loading apiPlugin.\"\n      );\n      return;\n    }\n    async function a() {\n      const { data: r } = await t.get(\n        `cdn/stories/${s}`,\n        e\n      );\n      n(r.story), i && r.story.id && (0,_storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_1__.registerStoryblokBridge)(\n        r.story.id,\n        (y) => n(y),\n        o\n      );\n    }\n    a();\n  }, [s, JSON.stringify(e), t]), t ? (o.resolveRelations = o.resolveRelations ?? e.resolve_relations, o.resolveLinks = o.resolveLinks ?? e.resolve_links, l) : null;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0b3J5Ymxvay9yZWFjdC9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRDtBQUNZO0FBQ3FHO0FBQ25IO0FBQ3VHO0FBQ3JHO0FBQ0c7QUFDekQsb0JBQW9CLFFBQVE7QUFDNUIsaUJBQWlCLCtDQUFDLEdBQUcsOEVBQThFLDREQUFDO0FBQ3BHLFNBQVMsZ0RBQUM7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsVUFBVTtBQUN4Qix1QkFBdUIsRUFBRTtBQUN6QjtBQUNBO0FBQ0EscUNBQXFDLDBFQUFDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQW9CRSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRhcHAvLi9ub2RlX21vZHVsZXMvQHN0b3J5Ymxvay9yZWFjdC9kaXN0L2luZGV4Lm1qcz8wZTU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlIGFzIGYsIHVzZUVmZmVjdCBhcyB1IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyByZWdpc3RlclN0b3J5Ymxva0JyaWRnZSBhcyBrIH0gZnJvbSBcIi4vc3RvcnlibG9rLWpzLm1qc1wiO1xuaW1wb3J0IHsgUmljaFRleHRSZXNvbHZlciBhcyB2LCBSaWNoVGV4dFNjaGVtYSBhcyB4LCBhcGlQbHVnaW4gYXMgUiwgbG9hZFN0b3J5Ymxva0JyaWRnZSBhcyBDLCByZW5kZXJSaWNoVGV4dCBhcyB3LCBzdG9yeWJsb2tFZGl0YWJsZSBhcyBCIH0gZnJvbSBcIi4vc3RvcnlibG9rLWpzLm1qc1wiO1xuaW1wb3J0IHsgdXNlU3RvcnlibG9rQXBpIGFzIGMgfSBmcm9tIFwiLi9pbmRleDIubWpzXCI7XG5pbXBvcnQgeyBnZXRDb21wb25lbnQgYXMgaCwgZ2V0Q3VzdG9tRmFsbGJhY2tDb21wb25lbnQgYXMgQSwgZ2V0RW5hYmxlRmFsbGJhY2tDb21wb25lbnQgYXMgVCwgc2V0Q29tcG9uZW50cyBhcyBGLCBzdG9yeWJsb2tJbml0IGFzIEkgfSBmcm9tIFwiLi9pbmRleDIubWpzXCI7XG5pbXBvcnQgeyB1c2VTdG9yeWJsb2tTdGF0ZSBhcyBOIH0gZnJvbSBcIi4vY2xpZW50Lm1qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBfIH0gZnJvbSBcIi4vc3RvcnlibG9rLWNvbXBvbmVudC5tanNcIjtcbmNvbnN0IGIgPSAocywgZSA9IHt9LCBvID0ge30pID0+IHtcbiAgY29uc3QgW2wsIG5dID0gZih7fSksIGkgPSB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgJiYgdHlwZW9mIHdpbmRvdy5zdG9yeWJsb2tSZWdpc3RlckV2ZW50IDwgXCJ1XCIsIHQgPSBjKCk7XG4gIHJldHVybiB1KCgpID0+IHtcbiAgICBpZiAoIXQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiWW91IGNhbid0IHVzZSB1c2VTdG9yeWJsb2sgaWYgeW91J3JlIG5vdCBsb2FkaW5nIGFwaVBsdWdpbi5cIlxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXN5bmMgZnVuY3Rpb24gYSgpIHtcbiAgICAgIGNvbnN0IHsgZGF0YTogciB9ID0gYXdhaXQgdC5nZXQoXG4gICAgICAgIGBjZG4vc3Rvcmllcy8ke3N9YCxcbiAgICAgICAgZVxuICAgICAgKTtcbiAgICAgIG4oci5zdG9yeSksIGkgJiYgci5zdG9yeS5pZCAmJiBrKFxuICAgICAgICByLnN0b3J5LmlkLFxuICAgICAgICAoeSkgPT4gbih5KSxcbiAgICAgICAgb1xuICAgICAgKTtcbiAgICB9XG4gICAgYSgpO1xuICB9LCBbcywgSlNPTi5zdHJpbmdpZnkoZSksIHRdKSwgdCA/IChvLnJlc29sdmVSZWxhdGlvbnMgPSBvLnJlc29sdmVSZWxhdGlvbnMgPz8gZS5yZXNvbHZlX3JlbGF0aW9ucywgby5yZXNvbHZlTGlua3MgPSBvLnJlc29sdmVMaW5rcyA/PyBlLnJlc29sdmVfbGlua3MsIGwpIDogbnVsbDtcbn07XG5leHBvcnQge1xuICB2IGFzIFJpY2hUZXh0UmVzb2x2ZXIsXG4gIHggYXMgUmljaFRleHRTY2hlbWEsXG4gIF8gYXMgU3RvcnlibG9rQ29tcG9uZW50LFxuICBSIGFzIGFwaVBsdWdpbixcbiAgaCBhcyBnZXRDb21wb25lbnQsXG4gIEEgYXMgZ2V0Q3VzdG9tRmFsbGJhY2tDb21wb25lbnQsXG4gIFQgYXMgZ2V0RW5hYmxlRmFsbGJhY2tDb21wb25lbnQsXG4gIGMgYXMgZ2V0U3RvcnlibG9rQXBpLFxuICBDIGFzIGxvYWRTdG9yeWJsb2tCcmlkZ2UsXG4gIGsgYXMgcmVnaXN0ZXJTdG9yeWJsb2tCcmlkZ2UsXG4gIHcgYXMgcmVuZGVyUmljaFRleHQsXG4gIEYgYXMgc2V0Q29tcG9uZW50cyxcbiAgQiBhcyBzdG9yeWJsb2tFZGl0YWJsZSxcbiAgSSBhcyBzdG9yeWJsb2tJbml0LFxuICBiIGFzIHVzZVN0b3J5YmxvayxcbiAgYyBhcyB1c2VTdG9yeWJsb2tBcGksXG4gIGsgYXMgdXNlU3RvcnlibG9rQnJpZGdlLFxuICBOIGFzIHVzZVN0b3J5Ymxva1N0YXRlXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@storyblok/react/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@storyblok/react/dist/index2.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@storyblok/react/dist/index2.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RichTextResolver: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.RichTextResolver),\n/* harmony export */   RichTextSchema: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.RichTextSchema),\n/* harmony export */   StoryblokComponent: () => (/* reexport safe */ _storyblok_component_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   apiPlugin: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.apiPlugin),\n/* harmony export */   getComponent: () => (/* binding */ i),\n/* harmony export */   getCustomFallbackComponent: () => (/* binding */ m),\n/* harmony export */   getEnableFallbackComponent: () => (/* binding */ k),\n/* harmony export */   getStoryblokApi: () => (/* binding */ b),\n/* harmony export */   loadStoryblokBridge: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.loadStoryblokBridge),\n/* harmony export */   registerStoryblokBridge: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.registerStoryblokBridge),\n/* harmony export */   renderRichText: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.renderRichText),\n/* harmony export */   setComponents: () => (/* binding */ c),\n/* harmony export */   storyblokEditable: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.storyblokEditable),\n/* harmony export */   storyblokInit: () => (/* binding */ p),\n/* harmony export */   useStoryblokApi: () => (/* binding */ b),\n/* harmony export */   useStoryblokBridge: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.registerStoryblokBridge)\n/* harmony export */ });\n/* harmony import */ var _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./storyblok-js.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/storyblok-js.mjs\");\n/* harmony import */ var _storyblok_component_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./storyblok-component.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/storyblok-component.mjs\");\n\n\n\nlet t = null, e = {}, r = !1, l = null;\nconst b = () => (t || console.error(\n  \"You can't use getStoryblokApi if you're not loading apiPlugin.\"\n), t), c = (o) => (e = o, e), i = (o) => e[o] ? e[o] : (console.error(`Component ${o} doesn't exist.`), !1), k = () => r, m = () => l, p = (o = {}) => {\n  const { storyblokApi: n } = (0,_storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.storyblokInit)(o);\n  t = n, e = o.components, r = o.enableFallbackComponent, l = o.customFallbackComponent;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0b3J5Ymxvay9yZWFjdC9kaXN0L2luZGV4Mi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdEO0FBQzJLO0FBQzFLO0FBQ3pELG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0EsbUZBQW1GLEdBQUcsNERBQTREO0FBQ2xKLFVBQVUsa0JBQWtCLEVBQUUsZ0VBQUM7QUFDL0I7QUFDQTtBQWtCRSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRhcHAvLi9ub2RlX21vZHVsZXMvQHN0b3J5Ymxvay9yZWFjdC9kaXN0L2luZGV4Mi5tanM/NDRmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdG9yeWJsb2tJbml0IGFzIHMgfSBmcm9tIFwiLi9zdG9yeWJsb2stanMubWpzXCI7XG5pbXBvcnQgeyBSaWNoVGV4dFJlc29sdmVyIGFzIGcsIFJpY2hUZXh0U2NoZW1hIGFzIEMsIGFwaVBsdWdpbiBhcyBkLCBsb2FkU3RvcnlibG9rQnJpZGdlIGFzIGYsIHJlZ2lzdGVyU3RvcnlibG9rQnJpZGdlIGFzIFMsIHJlbmRlclJpY2hUZXh0IGFzIHgsIHN0b3J5Ymxva0VkaXRhYmxlIGFzIEYsIHJlZ2lzdGVyU3RvcnlibG9rQnJpZGdlIGFzIEEgfSBmcm9tIFwiLi9zdG9yeWJsb2stanMubWpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIEIgfSBmcm9tIFwiLi9zdG9yeWJsb2stY29tcG9uZW50Lm1qc1wiO1xubGV0IHQgPSBudWxsLCBlID0ge30sIHIgPSAhMSwgbCA9IG51bGw7XG5jb25zdCBiID0gKCkgPT4gKHQgfHwgY29uc29sZS5lcnJvcihcbiAgXCJZb3UgY2FuJ3QgdXNlIGdldFN0b3J5Ymxva0FwaSBpZiB5b3UncmUgbm90IGxvYWRpbmcgYXBpUGx1Z2luLlwiXG4pLCB0KSwgYyA9IChvKSA9PiAoZSA9IG8sIGUpLCBpID0gKG8pID0+IGVbb10gPyBlW29dIDogKGNvbnNvbGUuZXJyb3IoYENvbXBvbmVudCAke299IGRvZXNuJ3QgZXhpc3QuYCksICExKSwgayA9ICgpID0+IHIsIG0gPSAoKSA9PiBsLCBwID0gKG8gPSB7fSkgPT4ge1xuICBjb25zdCB7IHN0b3J5Ymxva0FwaTogbiB9ID0gcyhvKTtcbiAgdCA9IG4sIGUgPSBvLmNvbXBvbmVudHMsIHIgPSBvLmVuYWJsZUZhbGxiYWNrQ29tcG9uZW50LCBsID0gby5jdXN0b21GYWxsYmFja0NvbXBvbmVudDtcbn07XG5leHBvcnQge1xuICBnIGFzIFJpY2hUZXh0UmVzb2x2ZXIsXG4gIEMgYXMgUmljaFRleHRTY2hlbWEsXG4gIEIgYXMgU3RvcnlibG9rQ29tcG9uZW50LFxuICBkIGFzIGFwaVBsdWdpbixcbiAgaSBhcyBnZXRDb21wb25lbnQsXG4gIG0gYXMgZ2V0Q3VzdG9tRmFsbGJhY2tDb21wb25lbnQsXG4gIGsgYXMgZ2V0RW5hYmxlRmFsbGJhY2tDb21wb25lbnQsXG4gIGIgYXMgZ2V0U3RvcnlibG9rQXBpLFxuICBmIGFzIGxvYWRTdG9yeWJsb2tCcmlkZ2UsXG4gIFMgYXMgcmVnaXN0ZXJTdG9yeWJsb2tCcmlkZ2UsXG4gIHggYXMgcmVuZGVyUmljaFRleHQsXG4gIGMgYXMgc2V0Q29tcG9uZW50cyxcbiAgRiBhcyBzdG9yeWJsb2tFZGl0YWJsZSxcbiAgcCBhcyBzdG9yeWJsb2tJbml0LFxuICBiIGFzIHVzZVN0b3J5Ymxva0FwaSxcbiAgQSBhcyB1c2VTdG9yeWJsb2tCcmlkZ2Vcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@storyblok/react/dist/index2.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@storyblok/react/dist/rsc.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@storyblok/react/dist/rsc.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BridgeLoader: () => (/* reexport safe */ _bridge_loader_mjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   RichTextResolver: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.RichTextResolver),\n/* harmony export */   RichTextSchema: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.RichTextSchema),\n/* harmony export */   StoryblokBridgeLoader: () => (/* reexport safe */ _bridge_loader_mjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   StoryblokComponent: () => (/* reexport safe */ _storyblok_component_mjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   StoryblokStory: () => (/* reexport safe */ _story_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   apiPlugin: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.apiPlugin),\n/* harmony export */   getComponent: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_1__.getComponent),\n/* harmony export */   getCustomFallbackComponent: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_1__.getCustomFallbackComponent),\n/* harmony export */   getEnableFallbackComponent: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_1__.getEnableFallbackComponent),\n/* harmony export */   getStoryblokApi: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_1__.useStoryblokApi),\n/* harmony export */   loadStoryblokBridge: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.loadStoryblokBridge),\n/* harmony export */   registerStoryblokBridge: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.registerStoryblokBridge),\n/* harmony export */   renderRichText: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.renderRichText),\n/* harmony export */   setComponents: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_1__.setComponents),\n/* harmony export */   storyblokEditable: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.storyblokEditable),\n/* harmony export */   storyblokInit: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_1__.storyblokInit),\n/* harmony export */   useStoryblokApi: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_1__.useStoryblokApi),\n/* harmony export */   useStoryblokBridge: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.registerStoryblokBridge)\n/* harmony export */ });\n/* harmony import */ var _bridge_loader_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bridge-loader.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/bridge-loader.mjs\");\n/* harmony import */ var _index2_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index2.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/index2.mjs\");\n/* harmony import */ var _story_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./story.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/story.mjs\");\n/* harmony import */ var _storyblok_component_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./storyblok-component.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/storyblok-component.mjs\");\n/* harmony import */ var _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./storyblok-js.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/storyblok-js.mjs\");\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0b3J5Ymxvay9yZWFjdC9kaXN0L3JzYy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlFO0FBQ3NJO0FBQzVKO0FBQ2M7QUFDMEs7QUFxQmpPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGFwcC8uL25vZGVfbW9kdWxlcy9Ac3RvcnlibG9rL3JlYWN0L2Rpc3QvcnNjLm1qcz8wYmExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlZmF1bHQgYXMgdCwgZGVmYXVsdCBhcyByIH0gZnJvbSBcIi4vYnJpZGdlLWxvYWRlci5tanNcIjtcbmltcG9ydCB7IGdldENvbXBvbmVudCBhcyBhLCBnZXRDdXN0b21GYWxsYmFja0NvbXBvbmVudCBhcyBpLCBnZXRFbmFibGVGYWxsYmFja0NvbXBvbmVudCBhcyBzLCB1c2VTdG9yeWJsb2tBcGkgYXMgYiwgc2V0Q29tcG9uZW50cyBhcyBkLCBzdG9yeWJsb2tJbml0IGFzIGssIHVzZVN0b3J5Ymxva0FwaSBhcyBuIH0gZnJvbSBcIi4vaW5kZXgyLm1qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBnIH0gZnJvbSBcIi4vc3RvcnkubWpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIG0gfSBmcm9tIFwiLi9zdG9yeWJsb2stY29tcG9uZW50Lm1qc1wiO1xuaW1wb3J0IHsgUmljaFRleHRSZXNvbHZlciBhcyBmLCBSaWNoVGV4dFNjaGVtYSBhcyB1LCBhcGlQbHVnaW4gYXMgeCwgbG9hZFN0b3J5Ymxva0JyaWRnZSBhcyBjLCByZWdpc3RlclN0b3J5Ymxva0JyaWRnZSBhcyBCLCByZW5kZXJSaWNoVGV4dCBhcyBDLCBzdG9yeWJsb2tFZGl0YWJsZSBhcyBoLCByZWdpc3RlclN0b3J5Ymxva0JyaWRnZSBhcyBSIH0gZnJvbSBcIi4vc3RvcnlibG9rLWpzLm1qc1wiO1xuZXhwb3J0IHtcbiAgdCBhcyBCcmlkZ2VMb2FkZXIsXG4gIGYgYXMgUmljaFRleHRSZXNvbHZlcixcbiAgdSBhcyBSaWNoVGV4dFNjaGVtYSxcbiAgciBhcyBTdG9yeWJsb2tCcmlkZ2VMb2FkZXIsXG4gIG0gYXMgU3RvcnlibG9rQ29tcG9uZW50LFxuICBnIGFzIFN0b3J5Ymxva1N0b3J5LFxuICB4IGFzIGFwaVBsdWdpbixcbiAgYSBhcyBnZXRDb21wb25lbnQsXG4gIGkgYXMgZ2V0Q3VzdG9tRmFsbGJhY2tDb21wb25lbnQsXG4gIHMgYXMgZ2V0RW5hYmxlRmFsbGJhY2tDb21wb25lbnQsXG4gIGIgYXMgZ2V0U3RvcnlibG9rQXBpLFxuICBjIGFzIGxvYWRTdG9yeWJsb2tCcmlkZ2UsXG4gIEIgYXMgcmVnaXN0ZXJTdG9yeWJsb2tCcmlkZ2UsXG4gIEMgYXMgcmVuZGVyUmljaFRleHQsXG4gIGQgYXMgc2V0Q29tcG9uZW50cyxcbiAgaCBhcyBzdG9yeWJsb2tFZGl0YWJsZSxcbiAgayBhcyBzdG9yeWJsb2tJbml0LFxuICBuIGFzIHVzZVN0b3J5Ymxva0FwaSxcbiAgUiBhcyB1c2VTdG9yeWJsb2tCcmlkZ2Vcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@storyblok/react/dist/rsc.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@storyblok/react/dist/story.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@storyblok/react/dist/story.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ S)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _client_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./client.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/client.mjs\");\n/* harmony import */ var _storyblok_component_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./storyblok-component.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/storyblok-component.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nconst S = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ story: t, bridgeOptions: o, ...e }, n)=>(typeof t.content == \"string\" && (t.content = JSON.parse(t.content)), t = (0,_client_mjs__WEBPACK_IMPORTED_MODULE_1__.useStoryblokState)(t, o), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_storyblok_component_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        ref: n,\n        blok: t.content,\n        ...e\n    })));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0b3J5Ymxvay9yZWFjdC9kaXN0L3N0b3J5Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OzZEQUMyQztBQUNXO0FBQ1o7QUFDMUMsTUFBTU0sa0JBQUlKLGlEQUFDQSxDQUNULENBQUMsRUFBRUssT0FBT0MsQ0FBQyxFQUFFQyxlQUFlQyxDQUFDLEVBQUUsR0FBR0MsR0FBRyxFQUFFQyxJQUFPLFFBQU9KLEVBQUVLLE9BQU8sSUFBSSxZQUFhTCxDQUFBQSxFQUFFSyxPQUFPLEdBQUdDLEtBQUtDLEtBQUssQ0FBQ1AsRUFBRUssT0FBTyxJQUFJTCxJQUFJSiw4REFBQ0EsQ0FBQ0ksR0FBR0UsSUFBSSxhQUFhLGlCQUFHVixnREFBZSxDQUFDSyxnRUFBQ0EsRUFBRTtRQUFFWSxLQUFLTDtRQUFHTSxNQUFNVixFQUFFSyxPQUFPO1FBQUUsR0FBR0YsQ0FBQztJQUFDLEVBQUM7QUFJcE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0YXBwLy4vbm9kZV9tb2R1bGVzL0BzdG9yeWJsb2svcmVhY3QvZGlzdC9zdG9yeS5tanM/ODE0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcbmltcG9ydCByLCB7IGZvcndhcmRSZWYgYXMgZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlU3RvcnlibG9rU3RhdGUgYXMgbSB9IGZyb20gXCIuL2NsaWVudC5tanNcIjtcbmltcG9ydCBhIGZyb20gXCIuL3N0b3J5Ymxvay1jb21wb25lbnQubWpzXCI7XG5jb25zdCBTID0gZihcbiAgKHsgc3Rvcnk6IHQsIGJyaWRnZU9wdGlvbnM6IG8sIC4uLmUgfSwgbikgPT4gKHR5cGVvZiB0LmNvbnRlbnQgPT0gXCJzdHJpbmdcIiAmJiAodC5jb250ZW50ID0gSlNPTi5wYXJzZSh0LmNvbnRlbnQpKSwgdCA9IG0odCwgbyksIC8qIEBfX1BVUkVfXyAqLyByLmNyZWF0ZUVsZW1lbnQoYSwgeyByZWY6IG4sIGJsb2s6IHQuY29udGVudCwgLi4uZSB9KSlcbik7XG5leHBvcnQge1xuICBTIGFzIGRlZmF1bHRcbn07XG4iXSwibmFtZXMiOlsiciIsImZvcndhcmRSZWYiLCJmIiwidXNlU3RvcnlibG9rU3RhdGUiLCJtIiwiYSIsIlMiLCJzdG9yeSIsInQiLCJicmlkZ2VPcHRpb25zIiwibyIsImUiLCJuIiwiY29udGVudCIsIkpTT04iLCJwYXJzZSIsImNyZWF0ZUVsZW1lbnQiLCJyZWYiLCJibG9rIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@storyblok/react/dist/story.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@storyblok/react/dist/storyblok-component.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@storyblok/react/dist/storyblok-component.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ u)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _index2_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index2.mjs */ \"(ssr)/./node_modules/@storyblok/react/dist/index2.mjs\");\n\n\nconst u = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(\n  ({ blok: t, ...o }, l) => {\n    if (!t)\n      return console.error(\n        \"Please provide a 'blok' property to the StoryblokComponent\"\n      ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, \"Please provide a blok property to the StoryblokComponent\");\n    const n = (0,_index2_mjs__WEBPACK_IMPORTED_MODULE_1__.getComponent)(t.component);\n    if (n)\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(n, { ref: l, blok: t, ...o });\n    if ((0,_index2_mjs__WEBPACK_IMPORTED_MODULE_1__.getEnableFallbackComponent)()) {\n      const r = (0,_index2_mjs__WEBPACK_IMPORTED_MODULE_1__.getCustomFallbackComponent)();\n      return r ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(r, { blok: t, ...o }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", null, \"Component could not be found for blok\", \" \", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", null, t.component), \"! Is it configured correctly?\"));\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null);\n  }\n);\nu.displayName = \"StoryblokComponent\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0b3J5Ymxvay9yZWFjdC9kaXN0L3N0b3J5Ymxvay1jb21wb25lbnQubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUN3RTtBQUNuSCxVQUFVLGlEQUFDO0FBQ1gsS0FBSyxlQUFlO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixnREFBZTtBQUN4QyxjQUFjLHlEQUFDO0FBQ2Y7QUFDQSw2QkFBNkIsZ0RBQWUsTUFBTSx1QkFBdUI7QUFDekUsUUFBUSx1RUFBQztBQUNULGdCQUFnQix1RUFBQztBQUNqQixpQ0FBaUMsZ0RBQWUsTUFBTSxlQUFlLG9CQUFvQixnREFBZSxDQUFDLDJDQUFVLHdCQUF3QixnREFBZSwwRUFBMEUsZ0RBQWU7QUFDblA7QUFDQSwyQkFBMkIsZ0RBQWU7QUFDMUM7QUFDQTtBQUNBO0FBR0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0YXBwLy4vbm9kZV9tb2R1bGVzL0BzdG9yeWJsb2svcmVhY3QvZGlzdC9zdG9yeWJsb2stY29tcG9uZW50Lm1qcz9lM2NlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlLCB7IGZvcndhcmRSZWYgYXMgbSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZ2V0Q29tcG9uZW50IGFzIGEsIGdldEVuYWJsZUZhbGxiYWNrQ29tcG9uZW50IGFzIHAsIGdldEN1c3RvbUZhbGxiYWNrQ29tcG9uZW50IGFzIGMgfSBmcm9tIFwiLi9pbmRleDIubWpzXCI7XG5jb25zdCB1ID0gbShcbiAgKHsgYmxvazogdCwgLi4ubyB9LCBsKSA9PiB7XG4gICAgaWYgKCF0KVxuICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiUGxlYXNlIHByb3ZpZGUgYSAnYmxvaycgcHJvcGVydHkgdG8gdGhlIFN0b3J5Ymxva0NvbXBvbmVudFwiXG4gICAgICApLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFwiUGxlYXNlIHByb3ZpZGUgYSBibG9rIHByb3BlcnR5IHRvIHRoZSBTdG9yeWJsb2tDb21wb25lbnRcIik7XG4gICAgY29uc3QgbiA9IGEodC5jb21wb25lbnQpO1xuICAgIGlmIChuKVxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQobiwgeyByZWY6IGwsIGJsb2s6IHQsIC4uLm8gfSk7XG4gICAgaWYgKHAoKSkge1xuICAgICAgY29uc3QgciA9IGMoKTtcbiAgICAgIHJldHVybiByID8gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChyLCB7IGJsb2s6IHQsIC4uLm8gfSkgOiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIFwiQ29tcG9uZW50IGNvdWxkIG5vdCBiZSBmb3VuZCBmb3IgYmxva1wiLCBcIiBcIiwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCBudWxsLCB0LmNvbXBvbmVudCksIFwiISBJcyBpdCBjb25maWd1cmVkIGNvcnJlY3RseT9cIikpO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsKTtcbiAgfVxuKTtcbnUuZGlzcGxheU5hbWUgPSBcIlN0b3J5Ymxva0NvbXBvbmVudFwiO1xuZXhwb3J0IHtcbiAgdSBhcyBkZWZhdWx0XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@storyblok/react/dist/storyblok-component.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@storyblok/react/dist/storyblok-js.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@storyblok/react/dist/storyblok-js.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RichTextResolver: () => (/* binding */ v),\n/* harmony export */   RichTextSchema: () => (/* binding */ ne),\n/* harmony export */   apiPlugin: () => (/* binding */ pe),\n/* harmony export */   isRichTextEmpty: () => (/* binding */ de),\n/* harmony export */   loadStoryblokBridge: () => (/* binding */ be),\n/* harmony export */   registerStoryblokBridge: () => (/* binding */ fe),\n/* harmony export */   renderRichText: () => (/* binding */ ye),\n/* harmony export */   storyblokEditable: () => (/* binding */ ge),\n/* harmony export */   storyblokInit: () => (/* binding */ me),\n/* harmony export */   useStoryblokBridge: () => (/* binding */ fe)\n/* harmony export */ });\nlet _ = !1;\nconst j = [], O = (n) => new Promise((e, t) => {\n  if (typeof window > \"u\" || (window.storyblokRegisterEvent = (r) => {\n    if (window.location === window.parent.location) {\n      console.warn(\"You are not in Draft Mode or in the Visual Editor.\");\n      return;\n    }\n    _ ? r() : j.push(r);\n  }, document.getElementById(\"storyblok-javascript-bridge\"))) return;\n  const s = document.createElement(\"script\");\n  s.async = !0, s.src = n, s.id = \"storyblok-javascript-bridge\", s.onerror = (r) => t(r), s.onload = (r) => {\n    j.forEach((o) => o()), _ = !0, e(r);\n  }, document.getElementsByTagName(\"head\")[0].appendChild(s);\n});\nvar P = Object.defineProperty, C = (n, e, t) => e in n ? P(n, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : n[e] = t, c = (n, e, t) => C(n, typeof e != \"symbol\" ? e + \"\" : e, t);\nfunction x(n) {\n  return !(n !== n || n === 1 / 0 || n === -1 / 0);\n}\nfunction I(n, e, t) {\n  if (!x(e))\n    throw new TypeError(\"Expected `limit` to be a finite number\");\n  if (!x(t))\n    throw new TypeError(\"Expected `interval` to be a finite number\");\n  const s = [];\n  let r = [], o = 0;\n  const i = function() {\n    o++;\n    const a = setTimeout(function() {\n      o--, s.length > 0 && i(), r = r.filter(function(h) {\n        return h !== a;\n      });\n    }, t);\n    r.indexOf(a) < 0 && r.push(a);\n    const u = s.shift();\n    u.resolve(n.apply(u.self, u.args));\n  }, l = function(...a) {\n    const u = this;\n    return new Promise(function(h, d) {\n      s.push({\n        resolve: h,\n        reject: d,\n        args: a,\n        self: u\n      }), o < e && i();\n    });\n  };\n  return l.abort = function() {\n    r.forEach(clearTimeout), r = [], s.forEach(function(a) {\n      a.reject(function() {\n        Error.call(this, \"Throttled function aborted\"), this.name = \"AbortError\";\n      });\n    }), s.length = 0;\n  }, l;\n}\nclass b {\n  constructor() {\n    c(this, \"isCDNUrl\", (e = \"\") => e.indexOf(\"/cdn/\") > -1), c(this, \"getOptionsPage\", (e, t = 25, s = 1) => ({\n      ...e,\n      per_page: t,\n      page: s\n    })), c(this, \"delay\", (e) => new Promise((t) => setTimeout(t, e))), c(this, \"arrayFrom\", (e = 0, t) => [...Array(e)].map(t)), c(this, \"range\", (e = 0, t = e) => {\n      const s = Math.abs(t - e) || 0, r = e < t ? 1 : -1;\n      return this.arrayFrom(s, (o, i) => i * r + e);\n    }), c(this, \"asyncMap\", async (e, t) => Promise.all(e.map(t))), c(this, \"flatMap\", (e = [], t) => e.map(t).reduce((s, r) => [...s, ...r], [])), c(this, \"escapeHTML\", function(e) {\n      const t = {\n        \"&\": \"&amp;\",\n        \"<\": \"&lt;\",\n        \">\": \"&gt;\",\n        '\"': \"&quot;\",\n        \"'\": \"&#39;\"\n      }, s = /[&<>\"']/g, r = RegExp(s.source);\n      return e && r.test(e) ? e.replace(s, (o) => t[o]) : e;\n    });\n  }\n  /**\n   * @method stringify\n   * @param  {Object} params\n   * @param  {String} prefix\n   * @param  {Boolean} isArray\n   * @return {String} Stringified object\n   */\n  stringify(e, t, s) {\n    const r = [];\n    for (const o in e) {\n      if (!Object.prototype.hasOwnProperty.call(e, o))\n        continue;\n      const i = e[o], l = s ? \"\" : encodeURIComponent(o);\n      let a;\n      typeof i == \"object\" ? a = this.stringify(\n        i,\n        t ? t + encodeURIComponent(\"[\" + l + \"]\") : l,\n        Array.isArray(i)\n      ) : a = (t ? t + encodeURIComponent(\"[\" + l + \"]\") : l) + \"=\" + encodeURIComponent(i), r.push(a);\n    }\n    return r.join(\"&\");\n  }\n  /**\n   * @method getRegionURL\n   * @param  {String} regionCode region code, could be eu, us, cn, ap or ca\n   * @return {String} The base URL of the region\n   */\n  getRegionURL(e) {\n    const t = \"api.storyblok.com\", s = \"api-us.storyblok.com\", r = \"app.storyblokchina.cn\", o = \"api-ap.storyblok.com\", i = \"api-ca.storyblok.com\";\n    switch (e) {\n      case \"us\":\n        return s;\n      case \"cn\":\n        return r;\n      case \"ap\":\n        return o;\n      case \"ca\":\n        return i;\n      default:\n        return t;\n    }\n  }\n}\nconst A = function(n, e) {\n  const t = {};\n  for (const s in n) {\n    const r = n[s];\n    e.indexOf(s) > -1 && r !== null && (t[s] = r);\n  }\n  return t;\n}, N = (n) => n === \"email\", L = () => ({\n  singleTag: \"hr\"\n}), M = () => ({\n  tag: \"blockquote\"\n}), H = () => ({\n  tag: \"ul\"\n}), U = (n) => ({\n  tag: [\n    \"pre\",\n    {\n      tag: \"code\",\n      attrs: n.attrs\n    }\n  ]\n}), z = () => ({\n  singleTag: \"br\"\n}), q = (n) => ({\n  tag: `h${n.attrs.level}`\n}), B = (n) => ({\n  singleTag: [\n    {\n      tag: \"img\",\n      attrs: A(n.attrs, [\"src\", \"alt\", \"title\"])\n    }\n  ]\n}), D = () => ({\n  tag: \"li\"\n}), V = () => ({\n  tag: \"ol\"\n}), J = () => ({\n  tag: \"p\"\n}), F = (n) => ({\n  tag: [\n    {\n      tag: \"span\",\n      attrs: {\n        \"data-type\": \"emoji\",\n        \"data-name\": n.attrs.name,\n        emoji: n.attrs.emoji\n      }\n    }\n  ]\n}), W = () => ({\n  tag: \"b\"\n}), Y = () => ({\n  tag: \"s\"\n}), K = () => ({\n  tag: \"u\"\n}), Q = () => ({\n  tag: \"strong\"\n}), X = () => ({\n  tag: \"code\"\n}), Z = () => ({\n  tag: \"i\"\n}), G = (n) => {\n  if (!n.attrs)\n    return {\n      tag: \"\"\n    };\n  const e = new b().escapeHTML, t = { ...n.attrs }, { linktype: s = \"url\" } = n.attrs;\n  if (delete t.linktype, t.href && (t.href = e(n.attrs.href || \"\")), N(s) && (t.href = `mailto:${t.href}`), t.anchor && (t.href = `${t.href}#${t.anchor}`, delete t.anchor), t.custom) {\n    for (const r in t.custom)\n      t[r] = t.custom[r];\n    delete t.custom;\n  }\n  return {\n    tag: [\n      {\n        tag: \"a\",\n        attrs: t\n      }\n    ]\n  };\n}, ee = (n) => ({\n  tag: [\n    {\n      tag: \"span\",\n      attrs: n.attrs\n    }\n  ]\n}), te = () => ({\n  tag: \"sub\"\n}), se = () => ({\n  tag: \"sup\"\n}), re = (n) => ({\n  tag: [\n    {\n      tag: \"span\",\n      attrs: n.attrs\n    }\n  ]\n}), oe = (n) => {\n  var e;\n  return (e = n.attrs) != null && e.color ? {\n    tag: [\n      {\n        tag: \"span\",\n        attrs: {\n          style: `background-color:${n.attrs.color};`\n        }\n      }\n    ]\n  } : {\n    tag: \"\"\n  };\n}, ie = (n) => {\n  var e;\n  return (e = n.attrs) != null && e.color ? {\n    tag: [\n      {\n        tag: \"span\",\n        attrs: {\n          style: `color:${n.attrs.color}`\n        }\n      }\n    ]\n  } : {\n    tag: \"\"\n  };\n}, ne = {\n  nodes: {\n    horizontal_rule: L,\n    blockquote: M,\n    bullet_list: H,\n    code_block: U,\n    hard_break: z,\n    heading: q,\n    image: B,\n    list_item: D,\n    ordered_list: V,\n    paragraph: J,\n    emoji: F\n  },\n  marks: {\n    bold: W,\n    strike: Y,\n    underline: K,\n    strong: Q,\n    code: X,\n    italic: Z,\n    link: G,\n    styled: ee,\n    subscript: te,\n    superscript: se,\n    anchor: re,\n    highlight: oe,\n    textStyle: ie\n  }\n}, ae = function(n) {\n  const e = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    '\"': \"&quot;\",\n    \"'\": \"&#39;\"\n  }, t = /[&<>\"']/g, s = RegExp(t.source);\n  return n && s.test(n) ? n.replace(t, (r) => e[r]) : n;\n};\nclass le {\n  constructor(e) {\n    c(this, \"marks\"), c(this, \"nodes\"), e || (e = ne), this.marks = e.marks || [], this.nodes = e.nodes || [];\n  }\n  addNode(e, t) {\n    this.nodes[e] = t;\n  }\n  addMark(e, t) {\n    this.marks[e] = t;\n  }\n  render(e, t = { optimizeImages: !1 }) {\n    if (console.warn(\n      \"Warning ⚠️: The RichTextResolver class is deprecated and will be removed in the next major release. Please use the `@storyblok/richtext` package instead. https://github.com/storyblok/richtext/\"\n    ), e && e.content && Array.isArray(e.content)) {\n      let s = \"\";\n      return e.content.forEach((r) => {\n        s += this.renderNode(r);\n      }), t.optimizeImages ? this.optimizeImages(s, t.optimizeImages) : s;\n    }\n    return console.warn(\n      `The render method must receive an Object with a \"content\" field.\n\t\t\tThe \"content\" field must be an array of nodes as the type ISbRichtext.\n\t\t\tISbRichtext:\n\t\t\t\tcontent?: ISbRichtext[]\n\t\t\t\tmarks?: ISbRichtext[]\n\t\t\t\tattrs?: any\n\t\t\t\ttext?: string\n\t\t\t\ttype: string\n\t\t\t\t\n\t\t\t\tExample:\n\t\t\t\t{\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttext: 'Hello World',\n\t\t\t\t\t\t\t\t\ttype: 'text'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\ttype: 'paragraph'\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\ttype: 'doc'\n\t\t\t\t}`\n    ), \"\";\n  }\n  optimizeImages(e, t) {\n    let s = 0, r = 0, o = \"\", i = \"\";\n    typeof t != \"boolean\" && (typeof t.width == \"number\" && t.width > 0 && (o += `width=\"${t.width}\" `, s = t.width), typeof t.height == \"number\" && t.height > 0 && (o += `height=\"${t.height}\" `, r = t.height), (t.loading === \"lazy\" || t.loading === \"eager\") && (o += `loading=\"${t.loading}\" `), typeof t.class == \"string\" && t.class.length > 0 && (o += `class=\"${t.class}\" `), t.filters && (typeof t.filters.blur == \"number\" && t.filters.blur >= 0 && t.filters.blur <= 100 && (i += `:blur(${t.filters.blur})`), typeof t.filters.brightness == \"number\" && t.filters.brightness >= -100 && t.filters.brightness <= 100 && (i += `:brightness(${t.filters.brightness})`), t.filters.fill && (t.filters.fill.match(/[0-9A-Fa-f]{6}/g) || t.filters.fill === \"transparent\") && (i += `:fill(${t.filters.fill})`), t.filters.format && [\"webp\", \"png\", \"jpeg\"].includes(t.filters.format) && (i += `:format(${t.filters.format})`), typeof t.filters.grayscale == \"boolean\" && t.filters.grayscale && (i += \":grayscale()\"), typeof t.filters.quality == \"number\" && t.filters.quality >= 0 && t.filters.quality <= 100 && (i += `:quality(${t.filters.quality})`), t.filters.rotate && [90, 180, 270].includes(t.filters.rotate) && (i += `:rotate(${t.filters.rotate})`), i.length > 0 && (i = \"/filters\" + i))), o.length > 0 && (e = e.replace(/<img/g, `<img ${o.trim()}`));\n    const l = s > 0 || r > 0 || i.length > 0 ? `${s}x${r}${i}` : \"\";\n    return e = e.replace(\n      /a.storyblok.com\\/f\\/(\\d+)\\/([^.]+)\\.(gif|jpg|jpeg|png|tif|tiff|bmp)/g,\n      `a.storyblok.com/f/$1/$2.$3/m/${l}`\n    ), typeof t != \"boolean\" && (t.sizes || t.srcset) && (e = e.replace(/<img.*?src=[\"|'](.*?)[\"|']/g, (a) => {\n      var u, h;\n      const d = a.match(\n        /a.storyblok.com\\/f\\/(\\d+)\\/([^.]+)\\.(gif|jpg|jpeg|png|tif|tiff|bmp)/g\n      );\n      if (d && d.length > 0) {\n        const g = {\n          srcset: (u = t.srcset) == null ? void 0 : u.map((p) => {\n            if (typeof p == \"number\")\n              return `//${d}/m/${p}x0${i} ${p}w`;\n            if (typeof p == \"object\" && p.length === 2) {\n              let k = 0, $ = 0;\n              return typeof p[0] == \"number\" && (k = p[0]), typeof p[1] == \"number\" && ($ = p[1]), `//${d}/m/${k}x${$}${i} ${k}w`;\n            }\n          }).join(\", \"),\n          sizes: (h = t.sizes) == null ? void 0 : h.map((p) => p).join(\", \")\n        };\n        let f = \"\";\n        return g.srcset && (f += `srcset=\"${g.srcset}\" `), g.sizes && (f += `sizes=\"${g.sizes}\" `), a.replace(/<img/g, `<img ${f.trim()}`);\n      }\n      return a;\n    })), e;\n  }\n  renderNode(e) {\n    const t = [];\n    e.marks && e.marks.forEach((r) => {\n      const o = this.getMatchingMark(r);\n      o && o.tag !== \"\" && t.push(this.renderOpeningTag(o.tag));\n    });\n    const s = this.getMatchingNode(e);\n    return s && s.tag && t.push(this.renderOpeningTag(s.tag)), e.content ? e.content.forEach((r) => {\n      t.push(this.renderNode(r));\n    }) : e.text ? t.push(ae(e.text)) : s && s.singleTag ? t.push(this.renderTag(s.singleTag, \" /\")) : s && s.html ? t.push(s.html) : e.type === \"emoji\" && t.push(this.renderEmoji(e)), s && s.tag && t.push(this.renderClosingTag(s.tag)), e.marks && e.marks.slice(0).reverse().forEach((r) => {\n      const o = this.getMatchingMark(r);\n      o && o.tag !== \"\" && t.push(this.renderClosingTag(o.tag));\n    }), t.join(\"\");\n  }\n  renderTag(e, t) {\n    return e.constructor === String ? `<${e}${t}>` : e.map((s) => {\n      if (s.constructor === String)\n        return `<${s}${t}>`;\n      {\n        let r = `<${s.tag}`;\n        if (s.attrs) {\n          for (const o in s.attrs)\n            if (Object.prototype.hasOwnProperty.call(s.attrs, o)) {\n              const i = s.attrs[o];\n              i !== null && (r += ` ${o}=\"${i}\"`);\n            }\n        }\n        return `${r}${t}>`;\n      }\n    }).join(\"\");\n  }\n  renderOpeningTag(e) {\n    return this.renderTag(e, \"\");\n  }\n  renderClosingTag(e) {\n    return e.constructor === String ? `</${e}>` : e.slice(0).reverse().map((t) => t.constructor === String ? `</${t}>` : `</${t.tag}>`).join(\"\");\n  }\n  getMatchingNode(e) {\n    const t = this.nodes[e.type];\n    if (typeof t == \"function\")\n      return t(e);\n  }\n  getMatchingMark(e) {\n    const t = this.marks[e.type];\n    if (typeof t == \"function\")\n      return t(e);\n  }\n  renderEmoji(e) {\n    if (e.attrs.emoji)\n      return e.attrs.emoji;\n    const t = [\n      {\n        tag: \"img\",\n        attrs: {\n          src: e.attrs.fallbackImage,\n          draggable: \"false\",\n          loading: \"lazy\",\n          align: \"absmiddle\"\n        }\n      }\n    ];\n    return this.renderTag(t, \" /\");\n  }\n}\nconst v = le;\nclass ce {\n  constructor(e) {\n    c(this, \"baseURL\"), c(this, \"timeout\"), c(this, \"headers\"), c(this, \"responseInterceptor\"), c(this, \"fetch\"), c(this, \"ejectInterceptor\"), c(this, \"url\"), c(this, \"parameters\"), c(this, \"fetchOptions\"), this.baseURL = e.baseURL, this.headers = e.headers || new Headers(), this.timeout = e != null && e.timeout ? e.timeout * 1e3 : 0, this.responseInterceptor = e.responseInterceptor, this.fetch = (...t) => e.fetch ? e.fetch(...t) : fetch(...t), this.ejectInterceptor = !1, this.url = \"\", this.parameters = {}, this.fetchOptions = {};\n  }\n  /**\n   *\n   * @param url string\n   * @param params ISbStoriesParams\n   * @returns Promise<ISbResponse | Error>\n   */\n  get(e, t) {\n    return this.url = e, this.parameters = t, this._methodHandler(\"get\");\n  }\n  post(e, t) {\n    return this.url = e, this.parameters = t, this._methodHandler(\"post\");\n  }\n  put(e, t) {\n    return this.url = e, this.parameters = t, this._methodHandler(\"put\");\n  }\n  delete(e, t) {\n    return this.url = e, this.parameters = t, this._methodHandler(\"delete\");\n  }\n  async _responseHandler(e) {\n    const t = [], s = {\n      data: {},\n      headers: {},\n      status: 0,\n      statusText: \"\"\n    };\n    e.status !== 204 && await e.json().then((r) => {\n      s.data = r;\n    });\n    for (const r of e.headers.entries())\n      t[r[0]] = r[1];\n    return s.headers = { ...t }, s.status = e.status, s.statusText = e.statusText, s;\n  }\n  async _methodHandler(e) {\n    let t = `${this.baseURL}${this.url}`, s = null;\n    if (e === \"get\") {\n      const a = new b();\n      t = `${this.baseURL}${this.url}?${a.stringify(\n        this.parameters\n      )}`;\n    } else\n      s = JSON.stringify(this.parameters);\n    const r = new URL(t), o = new AbortController(), { signal: i } = o;\n    let l;\n    this.timeout && (l = setTimeout(() => o.abort(), this.timeout));\n    try {\n      const a = await this.fetch(`${r}`, {\n        method: e,\n        headers: this.headers,\n        body: s,\n        signal: i,\n        ...this.fetchOptions\n      });\n      this.timeout && clearTimeout(l);\n      const u = await this._responseHandler(\n        a\n      );\n      return this.responseInterceptor && !this.ejectInterceptor ? this._statusHandler(this.responseInterceptor(u)) : this._statusHandler(u);\n    } catch (a) {\n      return {\n        message: a\n      };\n    }\n  }\n  setFetchOptions(e = {}) {\n    Object.keys(e).length > 0 && \"method\" in e && delete e.method, this.fetchOptions = { ...e };\n  }\n  eject() {\n    this.ejectInterceptor = !0;\n  }\n  _statusHandler(e) {\n    const t = /20[0-6]/g;\n    return new Promise((s, r) => {\n      if (t.test(`${e.status}`))\n        return s(e);\n      const o = {\n        message: e.statusText,\n        status: e.status,\n        response: Array.isArray(e.data) ? e.data[0] : e.data.error || e.data.slug\n      };\n      r(o);\n    });\n  }\n}\nconst he = ce, S = \"SB-Agent\", w = {\n  defaultAgentName: \"SB-JS-CLIENT\",\n  defaultAgentVersion: \"SB-Agent-Version\",\n  packageVersion: \"6.0.0\"\n};\nlet y = {};\nconst m = {};\nclass ue {\n  /**\n   *\n   * @param config ISbConfig interface\n   * @param endpoint string, optional\n   */\n  constructor(e, t) {\n    c(this, \"client\"), c(this, \"maxRetries\"), c(this, \"retriesDelay\"), c(this, \"throttle\"), c(this, \"accessToken\"), c(this, \"cache\"), c(this, \"helpers\"), c(this, \"resolveCounter\"), c(this, \"relations\"), c(this, \"links\"), c(this, \"richTextResolver\"), c(this, \"resolveNestedRelations\"), c(this, \"stringifiedStoriesCache\");\n    let s = e.endpoint || t;\n    if (!s) {\n      const i = new b().getRegionURL, l = e.https === !1 ? \"http\" : \"https\";\n      e.oauthToken ? s = `${l}://${i(e.region)}/v1` : s = `${l}://${i(e.region)}/v2`;\n    }\n    const r = new Headers();\n    r.set(\"Content-Type\", \"application/json\"), r.set(\"Accept\", \"application/json\"), e.headers && (e.headers.constructor.name === \"Headers\" ? e.headers.entries().toArray() : Object.entries(e.headers)).forEach(([i, l]) => {\n      r.set(i, l);\n    }), r.has(S) || (r.set(S, w.defaultAgentName), r.set(\n      w.defaultAgentVersion,\n      w.packageVersion\n    ));\n    let o = 5;\n    e.oauthToken && (r.set(\"Authorization\", e.oauthToken), o = 3), e.rateLimit && (o = e.rateLimit), e.richTextSchema ? this.richTextResolver = new v(e.richTextSchema) : this.richTextResolver = new v(), e.componentResolver && this.setComponentResolver(e.componentResolver), this.maxRetries = e.maxRetries || 10, this.retriesDelay = 300, this.throttle = I(this.throttledRequest, o, 1e3), this.accessToken = e.accessToken || \"\", this.relations = {}, this.links = {}, this.cache = e.cache || { clear: \"manual\" }, this.helpers = new b(), this.resolveCounter = 0, this.resolveNestedRelations = e.resolveNestedRelations || !0, this.stringifiedStoriesCache = {}, this.client = new he({\n      baseURL: s,\n      timeout: e.timeout || 0,\n      headers: r,\n      responseInterceptor: e.responseInterceptor,\n      fetch: e.fetch\n    });\n  }\n  setComponentResolver(e) {\n    this.richTextResolver.addNode(\"blok\", (t) => {\n      let s = \"\";\n      return t.attrs.body && t.attrs.body.forEach((r) => {\n        s += e(r.component, r);\n      }), {\n        html: s\n      };\n    });\n  }\n  parseParams(e) {\n    return e.token || (e.token = this.getToken()), e.cv || (e.cv = m[e.token]), Array.isArray(e.resolve_relations) && (e.resolve_relations = e.resolve_relations.join(\",\")), typeof e.resolve_relations < \"u\" && (e.resolve_level = 2), e;\n  }\n  factoryParamOptions(e, t) {\n    return this.helpers.isCDNUrl(e) ? this.parseParams(t) : t;\n  }\n  makeRequest(e, t, s, r, o) {\n    const i = this.factoryParamOptions(\n      e,\n      this.helpers.getOptionsPage(t, s, r)\n    );\n    return this.cacheResponse(e, i, void 0, o);\n  }\n  get(e, t, s) {\n    t || (t = {});\n    const r = `/${e}`, o = this.factoryParamOptions(r, t);\n    return this.cacheResponse(r, o, void 0, s);\n  }\n  async getAll(e, t, s, r) {\n    const o = (t == null ? void 0 : t.per_page) || 25, i = `/${e}`, l = i.split(\"/\"), a = s || l[l.length - 1], u = 1, h = await this.makeRequest(\n      i,\n      t,\n      o,\n      u,\n      r\n    ), d = h.total ? Math.ceil(h.total / o) : 1, g = await this.helpers.asyncMap(\n      this.helpers.range(u, d),\n      (f) => this.makeRequest(i, t, o, f + 1, r)\n    );\n    return this.helpers.flatMap(\n      [h, ...g],\n      (f) => Object.values(f.data[a])\n    );\n  }\n  post(e, t, s) {\n    const r = `/${e}`;\n    return Promise.resolve(this.throttle(\"post\", r, t, s));\n  }\n  put(e, t, s) {\n    const r = `/${e}`;\n    return Promise.resolve(this.throttle(\"put\", r, t, s));\n  }\n  delete(e, t, s) {\n    const r = `/${e}`;\n    return Promise.resolve(this.throttle(\"delete\", r, t, s));\n  }\n  getStories(e, t) {\n    return this._addResolveLevel(e), this.get(\"cdn/stories\", e, t);\n  }\n  getStory(e, t, s) {\n    return this._addResolveLevel(t), this.get(`cdn/stories/${e}`, t, s);\n  }\n  getToken() {\n    return this.accessToken;\n  }\n  ejectInterceptor() {\n    this.client.eject();\n  }\n  _addResolveLevel(e) {\n    typeof e.resolve_relations < \"u\" && (e.resolve_level = 2);\n  }\n  _cleanCopy(e) {\n    return JSON.parse(JSON.stringify(e));\n  }\n  _insertLinks(e, t, s) {\n    const r = e[t];\n    r && r.fieldtype == \"multilink\" && r.linktype == \"story\" && typeof r.id == \"string\" && this.links[s][r.id] ? r.story = this._cleanCopy(this.links[s][r.id]) : r && r.linktype === \"story\" && typeof r.uuid == \"string\" && this.links[s][r.uuid] && (r.story = this._cleanCopy(this.links[s][r.uuid]));\n  }\n  /**\n   *\n   * @param resolveId A counter number as a string\n   * @param uuid The uuid of the story\n   * @returns string | object\n   */\n  getStoryReference(e, t) {\n    return this.relations[e][t] ? (this.stringifiedStoriesCache[t] || (this.stringifiedStoriesCache[t] = JSON.stringify(\n      this.relations[e][t]\n    )), JSON.parse(this.stringifiedStoriesCache[t])) : t;\n  }\n  _insertRelations(e, t, s, r) {\n    s.indexOf(`${e.component}.${t}`) > -1 && (typeof e[t] == \"string\" ? e[t] = this.getStoryReference(r, e[t]) : Array.isArray(e[t]) && (e[t] = e[t].map((o) => this.getStoryReference(r, o)).filter(Boolean)));\n  }\n  iterateTree(e, t, s) {\n    const r = (o) => {\n      if (o != null) {\n        if (o.constructor === Array)\n          for (let i = 0; i < o.length; i++)\n            r(o[i]);\n        else if (o.constructor === Object) {\n          if (o._stopResolving)\n            return;\n          for (const i in o)\n            (o.component && o._uid || o.type === \"link\") && (this._insertRelations(\n              o,\n              i,\n              t,\n              s\n            ), this._insertLinks(\n              o,\n              i,\n              s\n            )), r(o[i]);\n        }\n      }\n    };\n    r(e.content);\n  }\n  async resolveLinks(e, t, s) {\n    let r = [];\n    if (e.link_uuids) {\n      const o = e.link_uuids.length, i = [], l = 50;\n      for (let a = 0; a < o; a += l) {\n        const u = Math.min(o, a + l);\n        i.push(e.link_uuids.slice(a, u));\n      }\n      for (let a = 0; a < i.length; a++)\n        (await this.getStories({\n          per_page: l,\n          language: t.language,\n          version: t.version,\n          by_uuids: i[a].join(\",\")\n        })).data.stories.forEach(\n          (u) => {\n            r.push(u);\n          }\n        );\n    } else\n      r = e.links;\n    r.forEach((o) => {\n      this.links[s][o.uuid] = {\n        ...o,\n        _stopResolving: !0\n      };\n    });\n  }\n  async resolveRelations(e, t, s) {\n    let r = [];\n    if (e.rel_uuids) {\n      const o = e.rel_uuids.length, i = [], l = 50;\n      for (let a = 0; a < o; a += l) {\n        const u = Math.min(o, a + l);\n        i.push(e.rel_uuids.slice(a, u));\n      }\n      for (let a = 0; a < i.length; a++)\n        (await this.getStories({\n          per_page: l,\n          language: t.language,\n          version: t.version,\n          by_uuids: i[a].join(\",\"),\n          excluding_fields: t.excluding_fields\n        })).data.stories.forEach((u) => {\n          r.push(u);\n        });\n    } else\n      r = e.rels;\n    r && r.length > 0 && r.forEach((o) => {\n      this.relations[s][o.uuid] = {\n        ...o,\n        _stopResolving: !0\n      };\n    });\n  }\n  /**\n   *\n   * @param responseData\n   * @param params\n   * @param resolveId\n   * @description Resolves the relations and links of the stories\n   * @returns Promise<void>\n   *\n   */\n  async resolveStories(e, t, s) {\n    var r, o;\n    let i = [];\n    if (this.links[s] = {}, this.relations[s] = {}, typeof t.resolve_relations < \"u\" && t.resolve_relations.length > 0 && (typeof t.resolve_relations == \"string\" && (i = t.resolve_relations.split(\",\")), await this.resolveRelations(e, t, s)), t.resolve_links && [\"1\", \"story\", \"url\", \"link\"].indexOf(t.resolve_links) > -1 && ((r = e.links) != null && r.length || (o = e.link_uuids) != null && o.length) && await this.resolveLinks(e, t, s), this.resolveNestedRelations)\n      for (const l in this.relations[s])\n        this.iterateTree(\n          this.relations[s][l],\n          i,\n          s\n        );\n    e.story ? this.iterateTree(e.story, i, s) : e.stories.forEach((l) => {\n      this.iterateTree(l, i, s);\n    }), this.stringifiedStoriesCache = {}, delete this.links[s], delete this.relations[s];\n  }\n  async cacheResponse(e, t, s, r) {\n    const o = this.helpers.stringify({ url: e, params: t }), i = this.cacheProvider();\n    if (this.cache.clear === \"auto\" && t.version === \"draft\" && await this.flushCache(), t.version === \"published\" && e != \"/cdn/spaces/me\") {\n      const l = await i.get(o);\n      if (l)\n        return Promise.resolve(l);\n    }\n    return new Promise(async (l, a) => {\n      var u;\n      try {\n        const h = await this.throttle(\"get\", e, t, r);\n        if (h.status !== 200)\n          return a(h);\n        let d = { data: h.data, headers: h.headers };\n        if ((u = h.headers) != null && u[\"per-page\"] && (d = Object.assign({}, d, {\n          perPage: h.headers[\"per-page\"] ? parseInt(h.headers[\"per-page\"]) : 0,\n          total: h.headers[\"per-page\"] ? parseInt(h.headers.total) : 0\n        })), d.data.story || d.data.stories) {\n          const g = this.resolveCounter = ++this.resolveCounter % 1e3;\n          await this.resolveStories(d.data, t, `${g}`);\n        }\n        return t.version === \"published\" && e != \"/cdn/spaces/me\" && await i.set(o, d), d.data.cv && t.token && (t.version === \"draft\" && m[t.token] != d.data.cv && await this.flushCache(), m[t.token] = t.cv ? t.cv : d.data.cv), l(d);\n      } catch (h) {\n        if (h.response && h.status === 429 && (s = typeof s > \"u\" ? 0 : s + 1, s < this.maxRetries))\n          return console.log(\n            `Hit rate limit. Retrying in ${this.retriesDelay / 1e3} seconds.`\n          ), await this.helpers.delay(this.retriesDelay), this.cacheResponse(e, t, s).then(l).catch(a);\n        a(h);\n      }\n    });\n  }\n  throttledRequest(e, t, s, r) {\n    return this.client.setFetchOptions(r), this.client[e](t, s);\n  }\n  cacheVersions() {\n    return m;\n  }\n  cacheVersion() {\n    return m[this.accessToken];\n  }\n  setCacheVersion(e) {\n    this.accessToken && (m[this.accessToken] = e);\n  }\n  clearCacheVersion() {\n    this.accessToken && (m[this.accessToken] = 0);\n  }\n  cacheProvider() {\n    switch (this.cache.type) {\n      case \"memory\":\n        return {\n          get(e) {\n            return Promise.resolve(y[e]);\n          },\n          getAll() {\n            return Promise.resolve(y);\n          },\n          set(e, t) {\n            return y[e] = t, Promise.resolve(void 0);\n          },\n          flush() {\n            return y = {}, Promise.resolve(void 0);\n          }\n        };\n      case \"custom\":\n        if (this.cache.custom) return this.cache.custom;\n      default:\n        return {\n          get() {\n            return Promise.resolve();\n          },\n          getAll() {\n            return Promise.resolve(void 0);\n          },\n          set() {\n            return Promise.resolve(void 0);\n          },\n          flush() {\n            return Promise.resolve(void 0);\n          }\n        };\n    }\n  }\n  async flushCache() {\n    return await this.cacheProvider().flush(), this.clearCacheVersion(), this;\n  }\n}\nconst pe = (n = {}) => {\n  const { apiOptions: e } = n;\n  if (!e.accessToken) {\n    console.error(\n      \"You need to provide an access token to interact with Storyblok API. Read https://www.storyblok.com/docs/api/content-delivery#topics/authentication\"\n    );\n    return;\n  }\n  return { storyblokApi: new ue(e) };\n}, ge = (n) => {\n  if (typeof n != \"object\" || typeof n._editable > \"u\")\n    return {};\n  try {\n    const e = JSON.parse(\n      n._editable.replace(/^<!--#storyblok#/, \"\").replace(/-->$/, \"\")\n    );\n    return e ? {\n      \"data-blok-c\": JSON.stringify(e),\n      \"data-blok-uid\": e.id + \"-\" + e.uid\n    } : {};\n  } catch {\n    return {};\n  }\n};\nlet R, T = \"https://app.storyblok.com/f/storyblok-v2-latest.js\";\nconst fe = (n, e, t = {}) => {\n  var s;\n  const r = !(typeof window > \"u\") && typeof window.storyblokRegisterEvent < \"u\", o = +new URL((s = window.location) == null ? void 0 : s.href).searchParams.get(\n    \"_storyblok\"\n  ) === n;\n  if (!(!r || !o)) {\n    if (!n) {\n      console.warn(\"Story ID is not defined. Please provide a valid ID.\");\n      return;\n    }\n    window.storyblokRegisterEvent(() => {\n      new window.StoryblokBridge(t).on([\"input\", \"published\", \"change\"], (i) => {\n        i.action === \"input\" && i.story.id === n ? e(i.story) : (i.action === \"change\" || i.action === \"published\") && i.storyId === n && window.location.reload();\n      });\n    });\n  }\n}, me = (n = {}) => {\n  var e, t;\n  const {\n    bridge: s,\n    accessToken: r,\n    use: o = [],\n    apiOptions: i = {},\n    richText: l = {},\n    bridgeUrl: a\n  } = n;\n  i.accessToken = i.accessToken || r;\n  const u = { bridge: s, apiOptions: i };\n  let h = {};\n  o.forEach((g) => {\n    h = { ...h, ...g(u) };\n  }), a && (T = a);\n  const d = !(typeof window > \"u\") && ((t = (e = window.location) == null ? void 0 : e.search) == null ? void 0 : t.includes(\"_storyblok_tk\"));\n  return s !== !1 && d && O(T), R = new v(l.schema), l.resolver && E(R, l.resolver), h;\n}, E = (n, e) => {\n  n.addNode(\"blok\", (t) => {\n    let s = \"\";\n    return t.attrs.body.forEach((r) => {\n      s += e(r.component, r);\n    }), {\n      html: s\n    };\n  });\n}, de = (n) => !n || !(n != null && n.content.some((e) => e.content || e.type === \"blok\" || e.type === \"horizontal_rule\")), ye = (n, e, t) => {\n  let s = t || R;\n  if (!s) {\n    console.error(\n      \"Please initialize the Storyblok SDK before calling the renderRichText function\"\n    );\n    return;\n  }\n  return de(n) ? \"\" : (e && (s = new v(e.schema), e.resolver && E(s, e.resolver)), s.render(n));\n}, be = () => O(T);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0b3J5Ymxvay9yZWFjdC9kaXN0L3N0b3J5Ymxvay1qcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRCxtRUFBbUUsMERBQTBEO0FBQzdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG1CQUFtQjtBQUNuQixrQkFBa0I7QUFDbEIsa0JBQWtCO0FBQ2xCLG9CQUFvQjtBQUNwQixtQkFBbUI7QUFDbkIsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBWUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0YXBwLy4vbm9kZV9tb2R1bGVzL0BzdG9yeWJsb2svcmVhY3QvZGlzdC9zdG9yeWJsb2stanMubWpzP2IxNDIiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IF8gPSAhMTtcbmNvbnN0IGogPSBbXSwgTyA9IChuKSA9PiBuZXcgUHJvbWlzZSgoZSwgdCkgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA+IFwidVwiIHx8ICh3aW5kb3cuc3RvcnlibG9rUmVnaXN0ZXJFdmVudCA9IChyKSA9PiB7XG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbiA9PT0gd2luZG93LnBhcmVudC5sb2NhdGlvbikge1xuICAgICAgY29uc29sZS53YXJuKFwiWW91IGFyZSBub3QgaW4gRHJhZnQgTW9kZSBvciBpbiB0aGUgVmlzdWFsIEVkaXRvci5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF8gPyByKCkgOiBqLnB1c2gocik7XG4gIH0sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RvcnlibG9rLWphdmFzY3JpcHQtYnJpZGdlXCIpKSkgcmV0dXJuO1xuICBjb25zdCBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgcy5hc3luYyA9ICEwLCBzLnNyYyA9IG4sIHMuaWQgPSBcInN0b3J5Ymxvay1qYXZhc2NyaXB0LWJyaWRnZVwiLCBzLm9uZXJyb3IgPSAocikgPT4gdChyKSwgcy5vbmxvYWQgPSAocikgPT4ge1xuICAgIGouZm9yRWFjaCgobykgPT4gbygpKSwgXyA9ICEwLCBlKHIpO1xuICB9LCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQocyk7XG59KTtcbnZhciBQID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBDID0gKG4sIGUsIHQpID0+IGUgaW4gbiA/IFAobiwgZSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZTogdCB9KSA6IG5bZV0gPSB0LCBjID0gKG4sIGUsIHQpID0+IEMobiwgdHlwZW9mIGUgIT0gXCJzeW1ib2xcIiA/IGUgKyBcIlwiIDogZSwgdCk7XG5mdW5jdGlvbiB4KG4pIHtcbiAgcmV0dXJuICEobiAhPT0gbiB8fCBuID09PSAxIC8gMCB8fCBuID09PSAtMSAvIDApO1xufVxuZnVuY3Rpb24gSShuLCBlLCB0KSB7XG4gIGlmICgheChlKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYGxpbWl0YCB0byBiZSBhIGZpbml0ZSBudW1iZXJcIik7XG4gIGlmICgheCh0KSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYGludGVydmFsYCB0byBiZSBhIGZpbml0ZSBudW1iZXJcIik7XG4gIGNvbnN0IHMgPSBbXTtcbiAgbGV0IHIgPSBbXSwgbyA9IDA7XG4gIGNvbnN0IGkgPSBmdW5jdGlvbigpIHtcbiAgICBvKys7XG4gICAgY29uc3QgYSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBvLS0sIHMubGVuZ3RoID4gMCAmJiBpKCksIHIgPSByLmZpbHRlcihmdW5jdGlvbihoKSB7XG4gICAgICAgIHJldHVybiBoICE9PSBhO1xuICAgICAgfSk7XG4gICAgfSwgdCk7XG4gICAgci5pbmRleE9mKGEpIDwgMCAmJiByLnB1c2goYSk7XG4gICAgY29uc3QgdSA9IHMuc2hpZnQoKTtcbiAgICB1LnJlc29sdmUobi5hcHBseSh1LnNlbGYsIHUuYXJncykpO1xuICB9LCBsID0gZnVuY3Rpb24oLi4uYSkge1xuICAgIGNvbnN0IHUgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihoLCBkKSB7XG4gICAgICBzLnB1c2goe1xuICAgICAgICByZXNvbHZlOiBoLFxuICAgICAgICByZWplY3Q6IGQsXG4gICAgICAgIGFyZ3M6IGEsXG4gICAgICAgIHNlbGY6IHVcbiAgICAgIH0pLCBvIDwgZSAmJiBpKCk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBsLmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgci5mb3JFYWNoKGNsZWFyVGltZW91dCksIHIgPSBbXSwgcy5mb3JFYWNoKGZ1bmN0aW9uKGEpIHtcbiAgICAgIGEucmVqZWN0KGZ1bmN0aW9uKCkge1xuICAgICAgICBFcnJvci5jYWxsKHRoaXMsIFwiVGhyb3R0bGVkIGZ1bmN0aW9uIGFib3J0ZWRcIiksIHRoaXMubmFtZSA9IFwiQWJvcnRFcnJvclwiO1xuICAgICAgfSk7XG4gICAgfSksIHMubGVuZ3RoID0gMDtcbiAgfSwgbDtcbn1cbmNsYXNzIGIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjKHRoaXMsIFwiaXNDRE5VcmxcIiwgKGUgPSBcIlwiKSA9PiBlLmluZGV4T2YoXCIvY2RuL1wiKSA+IC0xKSwgYyh0aGlzLCBcImdldE9wdGlvbnNQYWdlXCIsIChlLCB0ID0gMjUsIHMgPSAxKSA9PiAoe1xuICAgICAgLi4uZSxcbiAgICAgIHBlcl9wYWdlOiB0LFxuICAgICAgcGFnZTogc1xuICAgIH0pKSwgYyh0aGlzLCBcImRlbGF5XCIsIChlKSA9PiBuZXcgUHJvbWlzZSgodCkgPT4gc2V0VGltZW91dCh0LCBlKSkpLCBjKHRoaXMsIFwiYXJyYXlGcm9tXCIsIChlID0gMCwgdCkgPT4gWy4uLkFycmF5KGUpXS5tYXAodCkpLCBjKHRoaXMsIFwicmFuZ2VcIiwgKGUgPSAwLCB0ID0gZSkgPT4ge1xuICAgICAgY29uc3QgcyA9IE1hdGguYWJzKHQgLSBlKSB8fCAwLCByID0gZSA8IHQgPyAxIDogLTE7XG4gICAgICByZXR1cm4gdGhpcy5hcnJheUZyb20ocywgKG8sIGkpID0+IGkgKiByICsgZSk7XG4gICAgfSksIGModGhpcywgXCJhc3luY01hcFwiLCBhc3luYyAoZSwgdCkgPT4gUHJvbWlzZS5hbGwoZS5tYXAodCkpKSwgYyh0aGlzLCBcImZsYXRNYXBcIiwgKGUgPSBbXSwgdCkgPT4gZS5tYXAodCkucmVkdWNlKChzLCByKSA9PiBbLi4ucywgLi4ucl0sIFtdKSksIGModGhpcywgXCJlc2NhcGVIVE1MXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGNvbnN0IHQgPSB7XG4gICAgICAgIFwiJlwiOiBcIiZhbXA7XCIsXG4gICAgICAgIFwiPFwiOiBcIiZsdDtcIixcbiAgICAgICAgXCI+XCI6IFwiJmd0O1wiLFxuICAgICAgICAnXCInOiBcIiZxdW90O1wiLFxuICAgICAgICBcIidcIjogXCImIzM5O1wiXG4gICAgICB9LCBzID0gL1smPD5cIiddL2csIHIgPSBSZWdFeHAocy5zb3VyY2UpO1xuICAgICAgcmV0dXJuIGUgJiYgci50ZXN0KGUpID8gZS5yZXBsYWNlKHMsIChvKSA9PiB0W29dKSA6IGU7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2Qgc3RyaW5naWZ5XG4gICAqIEBwYXJhbSAge09iamVjdH0gcGFyYW1zXG4gICAqIEBwYXJhbSAge1N0cmluZ30gcHJlZml4XG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IGlzQXJyYXlcbiAgICogQHJldHVybiB7U3RyaW5nfSBTdHJpbmdpZmllZCBvYmplY3RcbiAgICovXG4gIHN0cmluZ2lmeShlLCB0LCBzKSB7XG4gICAgY29uc3QgciA9IFtdO1xuICAgIGZvciAoY29uc3QgbyBpbiBlKSB7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCBvKSlcbiAgICAgICAgY29udGludWU7XG4gICAgICBjb25zdCBpID0gZVtvXSwgbCA9IHMgPyBcIlwiIDogZW5jb2RlVVJJQ29tcG9uZW50KG8pO1xuICAgICAgbGV0IGE7XG4gICAgICB0eXBlb2YgaSA9PSBcIm9iamVjdFwiID8gYSA9IHRoaXMuc3RyaW5naWZ5KFxuICAgICAgICBpLFxuICAgICAgICB0ID8gdCArIGVuY29kZVVSSUNvbXBvbmVudChcIltcIiArIGwgKyBcIl1cIikgOiBsLFxuICAgICAgICBBcnJheS5pc0FycmF5KGkpXG4gICAgICApIDogYSA9ICh0ID8gdCArIGVuY29kZVVSSUNvbXBvbmVudChcIltcIiArIGwgKyBcIl1cIikgOiBsKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGkpLCByLnB1c2goYSk7XG4gICAgfVxuICAgIHJldHVybiByLmpvaW4oXCImXCIpO1xuICB9XG4gIC8qKlxuICAgKiBAbWV0aG9kIGdldFJlZ2lvblVSTFxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHJlZ2lvbkNvZGUgcmVnaW9uIGNvZGUsIGNvdWxkIGJlIGV1LCB1cywgY24sIGFwIG9yIGNhXG4gICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGJhc2UgVVJMIG9mIHRoZSByZWdpb25cbiAgICovXG4gIGdldFJlZ2lvblVSTChlKSB7XG4gICAgY29uc3QgdCA9IFwiYXBpLnN0b3J5Ymxvay5jb21cIiwgcyA9IFwiYXBpLXVzLnN0b3J5Ymxvay5jb21cIiwgciA9IFwiYXBwLnN0b3J5Ymxva2NoaW5hLmNuXCIsIG8gPSBcImFwaS1hcC5zdG9yeWJsb2suY29tXCIsIGkgPSBcImFwaS1jYS5zdG9yeWJsb2suY29tXCI7XG4gICAgc3dpdGNoIChlKSB7XG4gICAgICBjYXNlIFwidXNcIjpcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgICBjYXNlIFwiY25cIjpcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgICBjYXNlIFwiYXBcIjpcbiAgICAgICAgcmV0dXJuIG87XG4gICAgICBjYXNlIFwiY2FcIjpcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IEEgPSBmdW5jdGlvbihuLCBlKSB7XG4gIGNvbnN0IHQgPSB7fTtcbiAgZm9yIChjb25zdCBzIGluIG4pIHtcbiAgICBjb25zdCByID0gbltzXTtcbiAgICBlLmluZGV4T2YocykgPiAtMSAmJiByICE9PSBudWxsICYmICh0W3NdID0gcik7XG4gIH1cbiAgcmV0dXJuIHQ7XG59LCBOID0gKG4pID0+IG4gPT09IFwiZW1haWxcIiwgTCA9ICgpID0+ICh7XG4gIHNpbmdsZVRhZzogXCJoclwiXG59KSwgTSA9ICgpID0+ICh7XG4gIHRhZzogXCJibG9ja3F1b3RlXCJcbn0pLCBIID0gKCkgPT4gKHtcbiAgdGFnOiBcInVsXCJcbn0pLCBVID0gKG4pID0+ICh7XG4gIHRhZzogW1xuICAgIFwicHJlXCIsXG4gICAge1xuICAgICAgdGFnOiBcImNvZGVcIixcbiAgICAgIGF0dHJzOiBuLmF0dHJzXG4gICAgfVxuICBdXG59KSwgeiA9ICgpID0+ICh7XG4gIHNpbmdsZVRhZzogXCJiclwiXG59KSwgcSA9IChuKSA9PiAoe1xuICB0YWc6IGBoJHtuLmF0dHJzLmxldmVsfWBcbn0pLCBCID0gKG4pID0+ICh7XG4gIHNpbmdsZVRhZzogW1xuICAgIHtcbiAgICAgIHRhZzogXCJpbWdcIixcbiAgICAgIGF0dHJzOiBBKG4uYXR0cnMsIFtcInNyY1wiLCBcImFsdFwiLCBcInRpdGxlXCJdKVxuICAgIH1cbiAgXVxufSksIEQgPSAoKSA9PiAoe1xuICB0YWc6IFwibGlcIlxufSksIFYgPSAoKSA9PiAoe1xuICB0YWc6IFwib2xcIlxufSksIEogPSAoKSA9PiAoe1xuICB0YWc6IFwicFwiXG59KSwgRiA9IChuKSA9PiAoe1xuICB0YWc6IFtcbiAgICB7XG4gICAgICB0YWc6IFwic3BhblwiLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgXCJkYXRhLXR5cGVcIjogXCJlbW9qaVwiLFxuICAgICAgICBcImRhdGEtbmFtZVwiOiBuLmF0dHJzLm5hbWUsXG4gICAgICAgIGVtb2ppOiBuLmF0dHJzLmVtb2ppXG4gICAgICB9XG4gICAgfVxuICBdXG59KSwgVyA9ICgpID0+ICh7XG4gIHRhZzogXCJiXCJcbn0pLCBZID0gKCkgPT4gKHtcbiAgdGFnOiBcInNcIlxufSksIEsgPSAoKSA9PiAoe1xuICB0YWc6IFwidVwiXG59KSwgUSA9ICgpID0+ICh7XG4gIHRhZzogXCJzdHJvbmdcIlxufSksIFggPSAoKSA9PiAoe1xuICB0YWc6IFwiY29kZVwiXG59KSwgWiA9ICgpID0+ICh7XG4gIHRhZzogXCJpXCJcbn0pLCBHID0gKG4pID0+IHtcbiAgaWYgKCFuLmF0dHJzKVxuICAgIHJldHVybiB7XG4gICAgICB0YWc6IFwiXCJcbiAgICB9O1xuICBjb25zdCBlID0gbmV3IGIoKS5lc2NhcGVIVE1MLCB0ID0geyAuLi5uLmF0dHJzIH0sIHsgbGlua3R5cGU6IHMgPSBcInVybFwiIH0gPSBuLmF0dHJzO1xuICBpZiAoZGVsZXRlIHQubGlua3R5cGUsIHQuaHJlZiAmJiAodC5ocmVmID0gZShuLmF0dHJzLmhyZWYgfHwgXCJcIikpLCBOKHMpICYmICh0LmhyZWYgPSBgbWFpbHRvOiR7dC5ocmVmfWApLCB0LmFuY2hvciAmJiAodC5ocmVmID0gYCR7dC5ocmVmfSMke3QuYW5jaG9yfWAsIGRlbGV0ZSB0LmFuY2hvciksIHQuY3VzdG9tKSB7XG4gICAgZm9yIChjb25zdCByIGluIHQuY3VzdG9tKVxuICAgICAgdFtyXSA9IHQuY3VzdG9tW3JdO1xuICAgIGRlbGV0ZSB0LmN1c3RvbTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHRhZzogW1xuICAgICAge1xuICAgICAgICB0YWc6IFwiYVwiLFxuICAgICAgICBhdHRyczogdFxuICAgICAgfVxuICAgIF1cbiAgfTtcbn0sIGVlID0gKG4pID0+ICh7XG4gIHRhZzogW1xuICAgIHtcbiAgICAgIHRhZzogXCJzcGFuXCIsXG4gICAgICBhdHRyczogbi5hdHRyc1xuICAgIH1cbiAgXVxufSksIHRlID0gKCkgPT4gKHtcbiAgdGFnOiBcInN1YlwiXG59KSwgc2UgPSAoKSA9PiAoe1xuICB0YWc6IFwic3VwXCJcbn0pLCByZSA9IChuKSA9PiAoe1xuICB0YWc6IFtcbiAgICB7XG4gICAgICB0YWc6IFwic3BhblwiLFxuICAgICAgYXR0cnM6IG4uYXR0cnNcbiAgICB9XG4gIF1cbn0pLCBvZSA9IChuKSA9PiB7XG4gIHZhciBlO1xuICByZXR1cm4gKGUgPSBuLmF0dHJzKSAhPSBudWxsICYmIGUuY29sb3IgPyB7XG4gICAgdGFnOiBbXG4gICAgICB7XG4gICAgICAgIHRhZzogXCJzcGFuXCIsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgc3R5bGU6IGBiYWNrZ3JvdW5kLWNvbG9yOiR7bi5hdHRycy5jb2xvcn07YFxuICAgICAgICB9XG4gICAgICB9XG4gICAgXVxuICB9IDoge1xuICAgIHRhZzogXCJcIlxuICB9O1xufSwgaWUgPSAobikgPT4ge1xuICB2YXIgZTtcbiAgcmV0dXJuIChlID0gbi5hdHRycykgIT0gbnVsbCAmJiBlLmNvbG9yID8ge1xuICAgIHRhZzogW1xuICAgICAge1xuICAgICAgICB0YWc6IFwic3BhblwiLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHN0eWxlOiBgY29sb3I6JHtuLmF0dHJzLmNvbG9yfWBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfSA6IHtcbiAgICB0YWc6IFwiXCJcbiAgfTtcbn0sIG5lID0ge1xuICBub2Rlczoge1xuICAgIGhvcml6b250YWxfcnVsZTogTCxcbiAgICBibG9ja3F1b3RlOiBNLFxuICAgIGJ1bGxldF9saXN0OiBILFxuICAgIGNvZGVfYmxvY2s6IFUsXG4gICAgaGFyZF9icmVhazogeixcbiAgICBoZWFkaW5nOiBxLFxuICAgIGltYWdlOiBCLFxuICAgIGxpc3RfaXRlbTogRCxcbiAgICBvcmRlcmVkX2xpc3Q6IFYsXG4gICAgcGFyYWdyYXBoOiBKLFxuICAgIGVtb2ppOiBGXG4gIH0sXG4gIG1hcmtzOiB7XG4gICAgYm9sZDogVyxcbiAgICBzdHJpa2U6IFksXG4gICAgdW5kZXJsaW5lOiBLLFxuICAgIHN0cm9uZzogUSxcbiAgICBjb2RlOiBYLFxuICAgIGl0YWxpYzogWixcbiAgICBsaW5rOiBHLFxuICAgIHN0eWxlZDogZWUsXG4gICAgc3Vic2NyaXB0OiB0ZSxcbiAgICBzdXBlcnNjcmlwdDogc2UsXG4gICAgYW5jaG9yOiByZSxcbiAgICBoaWdobGlnaHQ6IG9lLFxuICAgIHRleHRTdHlsZTogaWVcbiAgfVxufSwgYWUgPSBmdW5jdGlvbihuKSB7XG4gIGNvbnN0IGUgPSB7XG4gICAgXCImXCI6IFwiJmFtcDtcIixcbiAgICBcIjxcIjogXCImbHQ7XCIsXG4gICAgXCI+XCI6IFwiJmd0O1wiLFxuICAgICdcIic6IFwiJnF1b3Q7XCIsXG4gICAgXCInXCI6IFwiJiMzOTtcIlxuICB9LCB0ID0gL1smPD5cIiddL2csIHMgPSBSZWdFeHAodC5zb3VyY2UpO1xuICByZXR1cm4gbiAmJiBzLnRlc3QobikgPyBuLnJlcGxhY2UodCwgKHIpID0+IGVbcl0pIDogbjtcbn07XG5jbGFzcyBsZSB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBjKHRoaXMsIFwibWFya3NcIiksIGModGhpcywgXCJub2Rlc1wiKSwgZSB8fCAoZSA9IG5lKSwgdGhpcy5tYXJrcyA9IGUubWFya3MgfHwgW10sIHRoaXMubm9kZXMgPSBlLm5vZGVzIHx8IFtdO1xuICB9XG4gIGFkZE5vZGUoZSwgdCkge1xuICAgIHRoaXMubm9kZXNbZV0gPSB0O1xuICB9XG4gIGFkZE1hcmsoZSwgdCkge1xuICAgIHRoaXMubWFya3NbZV0gPSB0O1xuICB9XG4gIHJlbmRlcihlLCB0ID0geyBvcHRpbWl6ZUltYWdlczogITEgfSkge1xuICAgIGlmIChjb25zb2xlLndhcm4oXG4gICAgICBcIldhcm5pbmcg4pqg77iPOiBUaGUgUmljaFRleHRSZXNvbHZlciBjbGFzcyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHVzZSB0aGUgYEBzdG9yeWJsb2svcmljaHRleHRgIHBhY2thZ2UgaW5zdGVhZC4gaHR0cHM6Ly9naXRodWIuY29tL3N0b3J5Ymxvay9yaWNodGV4dC9cIlxuICAgICksIGUgJiYgZS5jb250ZW50ICYmIEFycmF5LmlzQXJyYXkoZS5jb250ZW50KSkge1xuICAgICAgbGV0IHMgPSBcIlwiO1xuICAgICAgcmV0dXJuIGUuY29udGVudC5mb3JFYWNoKChyKSA9PiB7XG4gICAgICAgIHMgKz0gdGhpcy5yZW5kZXJOb2RlKHIpO1xuICAgICAgfSksIHQub3B0aW1pemVJbWFnZXMgPyB0aGlzLm9wdGltaXplSW1hZ2VzKHMsIHQub3B0aW1pemVJbWFnZXMpIDogcztcbiAgICB9XG4gICAgcmV0dXJuIGNvbnNvbGUud2FybihcbiAgICAgIGBUaGUgcmVuZGVyIG1ldGhvZCBtdXN0IHJlY2VpdmUgYW4gT2JqZWN0IHdpdGggYSBcImNvbnRlbnRcIiBmaWVsZC5cblx0XHRcdFRoZSBcImNvbnRlbnRcIiBmaWVsZCBtdXN0IGJlIGFuIGFycmF5IG9mIG5vZGVzIGFzIHRoZSB0eXBlIElTYlJpY2h0ZXh0LlxuXHRcdFx0SVNiUmljaHRleHQ6XG5cdFx0XHRcdGNvbnRlbnQ/OiBJU2JSaWNodGV4dFtdXG5cdFx0XHRcdG1hcmtzPzogSVNiUmljaHRleHRbXVxuXHRcdFx0XHRhdHRycz86IGFueVxuXHRcdFx0XHR0ZXh0Pzogc3RyaW5nXG5cdFx0XHRcdHR5cGU6IHN0cmluZ1xuXHRcdFx0XHRcblx0XHRcdFx0RXhhbXBsZTpcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbnRlbnQ6IFtcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0Y29udGVudDogW1xuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdHRleHQ6ICdIZWxsbyBXb3JsZCcsXG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiAndGV4dCdcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0XHRcdHR5cGU6ICdwYXJhZ3JhcGgnXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XSxcblx0XHRcdFx0XHR0eXBlOiAnZG9jJ1xuXHRcdFx0XHR9YFxuICAgICksIFwiXCI7XG4gIH1cbiAgb3B0aW1pemVJbWFnZXMoZSwgdCkge1xuICAgIGxldCBzID0gMCwgciA9IDAsIG8gPSBcIlwiLCBpID0gXCJcIjtcbiAgICB0eXBlb2YgdCAhPSBcImJvb2xlYW5cIiAmJiAodHlwZW9mIHQud2lkdGggPT0gXCJudW1iZXJcIiAmJiB0LndpZHRoID4gMCAmJiAobyArPSBgd2lkdGg9XCIke3Qud2lkdGh9XCIgYCwgcyA9IHQud2lkdGgpLCB0eXBlb2YgdC5oZWlnaHQgPT0gXCJudW1iZXJcIiAmJiB0LmhlaWdodCA+IDAgJiYgKG8gKz0gYGhlaWdodD1cIiR7dC5oZWlnaHR9XCIgYCwgciA9IHQuaGVpZ2h0KSwgKHQubG9hZGluZyA9PT0gXCJsYXp5XCIgfHwgdC5sb2FkaW5nID09PSBcImVhZ2VyXCIpICYmIChvICs9IGBsb2FkaW5nPVwiJHt0LmxvYWRpbmd9XCIgYCksIHR5cGVvZiB0LmNsYXNzID09IFwic3RyaW5nXCIgJiYgdC5jbGFzcy5sZW5ndGggPiAwICYmIChvICs9IGBjbGFzcz1cIiR7dC5jbGFzc31cIiBgKSwgdC5maWx0ZXJzICYmICh0eXBlb2YgdC5maWx0ZXJzLmJsdXIgPT0gXCJudW1iZXJcIiAmJiB0LmZpbHRlcnMuYmx1ciA+PSAwICYmIHQuZmlsdGVycy5ibHVyIDw9IDEwMCAmJiAoaSArPSBgOmJsdXIoJHt0LmZpbHRlcnMuYmx1cn0pYCksIHR5cGVvZiB0LmZpbHRlcnMuYnJpZ2h0bmVzcyA9PSBcIm51bWJlclwiICYmIHQuZmlsdGVycy5icmlnaHRuZXNzID49IC0xMDAgJiYgdC5maWx0ZXJzLmJyaWdodG5lc3MgPD0gMTAwICYmIChpICs9IGA6YnJpZ2h0bmVzcygke3QuZmlsdGVycy5icmlnaHRuZXNzfSlgKSwgdC5maWx0ZXJzLmZpbGwgJiYgKHQuZmlsdGVycy5maWxsLm1hdGNoKC9bMC05QS1GYS1mXXs2fS9nKSB8fCB0LmZpbHRlcnMuZmlsbCA9PT0gXCJ0cmFuc3BhcmVudFwiKSAmJiAoaSArPSBgOmZpbGwoJHt0LmZpbHRlcnMuZmlsbH0pYCksIHQuZmlsdGVycy5mb3JtYXQgJiYgW1wid2VicFwiLCBcInBuZ1wiLCBcImpwZWdcIl0uaW5jbHVkZXModC5maWx0ZXJzLmZvcm1hdCkgJiYgKGkgKz0gYDpmb3JtYXQoJHt0LmZpbHRlcnMuZm9ybWF0fSlgKSwgdHlwZW9mIHQuZmlsdGVycy5ncmF5c2NhbGUgPT0gXCJib29sZWFuXCIgJiYgdC5maWx0ZXJzLmdyYXlzY2FsZSAmJiAoaSArPSBcIjpncmF5c2NhbGUoKVwiKSwgdHlwZW9mIHQuZmlsdGVycy5xdWFsaXR5ID09IFwibnVtYmVyXCIgJiYgdC5maWx0ZXJzLnF1YWxpdHkgPj0gMCAmJiB0LmZpbHRlcnMucXVhbGl0eSA8PSAxMDAgJiYgKGkgKz0gYDpxdWFsaXR5KCR7dC5maWx0ZXJzLnF1YWxpdHl9KWApLCB0LmZpbHRlcnMucm90YXRlICYmIFs5MCwgMTgwLCAyNzBdLmluY2x1ZGVzKHQuZmlsdGVycy5yb3RhdGUpICYmIChpICs9IGA6cm90YXRlKCR7dC5maWx0ZXJzLnJvdGF0ZX0pYCksIGkubGVuZ3RoID4gMCAmJiAoaSA9IFwiL2ZpbHRlcnNcIiArIGkpKSksIG8ubGVuZ3RoID4gMCAmJiAoZSA9IGUucmVwbGFjZSgvPGltZy9nLCBgPGltZyAke28udHJpbSgpfWApKTtcbiAgICBjb25zdCBsID0gcyA+IDAgfHwgciA+IDAgfHwgaS5sZW5ndGggPiAwID8gYCR7c314JHtyfSR7aX1gIDogXCJcIjtcbiAgICByZXR1cm4gZSA9IGUucmVwbGFjZShcbiAgICAgIC9hLnN0b3J5Ymxvay5jb21cXC9mXFwvKFxcZCspXFwvKFteLl0rKVxcLihnaWZ8anBnfGpwZWd8cG5nfHRpZnx0aWZmfGJtcCkvZyxcbiAgICAgIGBhLnN0b3J5Ymxvay5jb20vZi8kMS8kMi4kMy9tLyR7bH1gXG4gICAgKSwgdHlwZW9mIHQgIT0gXCJib29sZWFuXCIgJiYgKHQuc2l6ZXMgfHwgdC5zcmNzZXQpICYmIChlID0gZS5yZXBsYWNlKC88aW1nLio/c3JjPVtcInwnXSguKj8pW1wifCddL2csIChhKSA9PiB7XG4gICAgICB2YXIgdSwgaDtcbiAgICAgIGNvbnN0IGQgPSBhLm1hdGNoKFxuICAgICAgICAvYS5zdG9yeWJsb2suY29tXFwvZlxcLyhcXGQrKVxcLyhbXi5dKylcXC4oZ2lmfGpwZ3xqcGVnfHBuZ3x0aWZ8dGlmZnxibXApL2dcbiAgICAgICk7XG4gICAgICBpZiAoZCAmJiBkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZyA9IHtcbiAgICAgICAgICBzcmNzZXQ6ICh1ID0gdC5zcmNzZXQpID09IG51bGwgPyB2b2lkIDAgOiB1Lm1hcCgocCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwID09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgIHJldHVybiBgLy8ke2R9L20vJHtwfXgwJHtpfSAke3B9d2A7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHAgPT0gXCJvYmplY3RcIiAmJiBwLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICBsZXQgayA9IDAsICQgPSAwO1xuICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHBbMF0gPT0gXCJudW1iZXJcIiAmJiAoayA9IHBbMF0pLCB0eXBlb2YgcFsxXSA9PSBcIm51bWJlclwiICYmICgkID0gcFsxXSksIGAvLyR7ZH0vbS8ke2t9eCR7JH0ke2l9ICR7a313YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5qb2luKFwiLCBcIiksXG4gICAgICAgICAgc2l6ZXM6IChoID0gdC5zaXplcykgPT0gbnVsbCA/IHZvaWQgMCA6IGgubWFwKChwKSA9PiBwKS5qb2luKFwiLCBcIilcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGYgPSBcIlwiO1xuICAgICAgICByZXR1cm4gZy5zcmNzZXQgJiYgKGYgKz0gYHNyY3NldD1cIiR7Zy5zcmNzZXR9XCIgYCksIGcuc2l6ZXMgJiYgKGYgKz0gYHNpemVzPVwiJHtnLnNpemVzfVwiIGApLCBhLnJlcGxhY2UoLzxpbWcvZywgYDxpbWcgJHtmLnRyaW0oKX1gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhO1xuICAgIH0pKSwgZTtcbiAgfVxuICByZW5kZXJOb2RlKGUpIHtcbiAgICBjb25zdCB0ID0gW107XG4gICAgZS5tYXJrcyAmJiBlLm1hcmtzLmZvckVhY2goKHIpID0+IHtcbiAgICAgIGNvbnN0IG8gPSB0aGlzLmdldE1hdGNoaW5nTWFyayhyKTtcbiAgICAgIG8gJiYgby50YWcgIT09IFwiXCIgJiYgdC5wdXNoKHRoaXMucmVuZGVyT3BlbmluZ1RhZyhvLnRhZykpO1xuICAgIH0pO1xuICAgIGNvbnN0IHMgPSB0aGlzLmdldE1hdGNoaW5nTm9kZShlKTtcbiAgICByZXR1cm4gcyAmJiBzLnRhZyAmJiB0LnB1c2godGhpcy5yZW5kZXJPcGVuaW5nVGFnKHMudGFnKSksIGUuY29udGVudCA/IGUuY29udGVudC5mb3JFYWNoKChyKSA9PiB7XG4gICAgICB0LnB1c2godGhpcy5yZW5kZXJOb2RlKHIpKTtcbiAgICB9KSA6IGUudGV4dCA/IHQucHVzaChhZShlLnRleHQpKSA6IHMgJiYgcy5zaW5nbGVUYWcgPyB0LnB1c2godGhpcy5yZW5kZXJUYWcocy5zaW5nbGVUYWcsIFwiIC9cIikpIDogcyAmJiBzLmh0bWwgPyB0LnB1c2gocy5odG1sKSA6IGUudHlwZSA9PT0gXCJlbW9qaVwiICYmIHQucHVzaCh0aGlzLnJlbmRlckVtb2ppKGUpKSwgcyAmJiBzLnRhZyAmJiB0LnB1c2godGhpcy5yZW5kZXJDbG9zaW5nVGFnKHMudGFnKSksIGUubWFya3MgJiYgZS5tYXJrcy5zbGljZSgwKS5yZXZlcnNlKCkuZm9yRWFjaCgocikgPT4ge1xuICAgICAgY29uc3QgbyA9IHRoaXMuZ2V0TWF0Y2hpbmdNYXJrKHIpO1xuICAgICAgbyAmJiBvLnRhZyAhPT0gXCJcIiAmJiB0LnB1c2godGhpcy5yZW5kZXJDbG9zaW5nVGFnKG8udGFnKSk7XG4gICAgfSksIHQuam9pbihcIlwiKTtcbiAgfVxuICByZW5kZXJUYWcoZSwgdCkge1xuICAgIHJldHVybiBlLmNvbnN0cnVjdG9yID09PSBTdHJpbmcgPyBgPCR7ZX0ke3R9PmAgOiBlLm1hcCgocykgPT4ge1xuICAgICAgaWYgKHMuY29uc3RydWN0b3IgPT09IFN0cmluZylcbiAgICAgICAgcmV0dXJuIGA8JHtzfSR7dH0+YDtcbiAgICAgIHtcbiAgICAgICAgbGV0IHIgPSBgPCR7cy50YWd9YDtcbiAgICAgICAgaWYgKHMuYXR0cnMpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IG8gaW4gcy5hdHRycylcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocy5hdHRycywgbykpIHtcbiAgICAgICAgICAgICAgY29uc3QgaSA9IHMuYXR0cnNbb107XG4gICAgICAgICAgICAgIGkgIT09IG51bGwgJiYgKHIgKz0gYCAke299PVwiJHtpfVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke3J9JHt0fT5gO1xuICAgICAgfVxuICAgIH0pLmpvaW4oXCJcIik7XG4gIH1cbiAgcmVuZGVyT3BlbmluZ1RhZyhlKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyVGFnKGUsIFwiXCIpO1xuICB9XG4gIHJlbmRlckNsb3NpbmdUYWcoZSkge1xuICAgIHJldHVybiBlLmNvbnN0cnVjdG9yID09PSBTdHJpbmcgPyBgPC8ke2V9PmAgOiBlLnNsaWNlKDApLnJldmVyc2UoKS5tYXAoKHQpID0+IHQuY29uc3RydWN0b3IgPT09IFN0cmluZyA/IGA8LyR7dH0+YCA6IGA8LyR7dC50YWd9PmApLmpvaW4oXCJcIik7XG4gIH1cbiAgZ2V0TWF0Y2hpbmdOb2RlKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5ub2Rlc1tlLnR5cGVdO1xuICAgIGlmICh0eXBlb2YgdCA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICByZXR1cm4gdChlKTtcbiAgfVxuICBnZXRNYXRjaGluZ01hcmsoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLm1hcmtzW2UudHlwZV07XG4gICAgaWYgKHR5cGVvZiB0ID09IFwiZnVuY3Rpb25cIilcbiAgICAgIHJldHVybiB0KGUpO1xuICB9XG4gIHJlbmRlckVtb2ppKGUpIHtcbiAgICBpZiAoZS5hdHRycy5lbW9qaSlcbiAgICAgIHJldHVybiBlLmF0dHJzLmVtb2ppO1xuICAgIGNvbnN0IHQgPSBbXG4gICAgICB7XG4gICAgICAgIHRhZzogXCJpbWdcIixcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBzcmM6IGUuYXR0cnMuZmFsbGJhY2tJbWFnZSxcbiAgICAgICAgICBkcmFnZ2FibGU6IFwiZmFsc2VcIixcbiAgICAgICAgICBsb2FkaW5nOiBcImxhenlcIixcbiAgICAgICAgICBhbGlnbjogXCJhYnNtaWRkbGVcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgXTtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJUYWcodCwgXCIgL1wiKTtcbiAgfVxufVxuY29uc3QgdiA9IGxlO1xuY2xhc3MgY2Uge1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgYyh0aGlzLCBcImJhc2VVUkxcIiksIGModGhpcywgXCJ0aW1lb3V0XCIpLCBjKHRoaXMsIFwiaGVhZGVyc1wiKSwgYyh0aGlzLCBcInJlc3BvbnNlSW50ZXJjZXB0b3JcIiksIGModGhpcywgXCJmZXRjaFwiKSwgYyh0aGlzLCBcImVqZWN0SW50ZXJjZXB0b3JcIiksIGModGhpcywgXCJ1cmxcIiksIGModGhpcywgXCJwYXJhbWV0ZXJzXCIpLCBjKHRoaXMsIFwiZmV0Y2hPcHRpb25zXCIpLCB0aGlzLmJhc2VVUkwgPSBlLmJhc2VVUkwsIHRoaXMuaGVhZGVycyA9IGUuaGVhZGVycyB8fCBuZXcgSGVhZGVycygpLCB0aGlzLnRpbWVvdXQgPSBlICE9IG51bGwgJiYgZS50aW1lb3V0ID8gZS50aW1lb3V0ICogMWUzIDogMCwgdGhpcy5yZXNwb25zZUludGVyY2VwdG9yID0gZS5yZXNwb25zZUludGVyY2VwdG9yLCB0aGlzLmZldGNoID0gKC4uLnQpID0+IGUuZmV0Y2ggPyBlLmZldGNoKC4uLnQpIDogZmV0Y2goLi4udCksIHRoaXMuZWplY3RJbnRlcmNlcHRvciA9ICExLCB0aGlzLnVybCA9IFwiXCIsIHRoaXMucGFyYW1ldGVycyA9IHt9LCB0aGlzLmZldGNoT3B0aW9ucyA9IHt9O1xuICB9XG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gdXJsIHN0cmluZ1xuICAgKiBAcGFyYW0gcGFyYW1zIElTYlN0b3JpZXNQYXJhbXNcbiAgICogQHJldHVybnMgUHJvbWlzZTxJU2JSZXNwb25zZSB8IEVycm9yPlxuICAgKi9cbiAgZ2V0KGUsIHQpIHtcbiAgICByZXR1cm4gdGhpcy51cmwgPSBlLCB0aGlzLnBhcmFtZXRlcnMgPSB0LCB0aGlzLl9tZXRob2RIYW5kbGVyKFwiZ2V0XCIpO1xuICB9XG4gIHBvc3QoZSwgdCkge1xuICAgIHJldHVybiB0aGlzLnVybCA9IGUsIHRoaXMucGFyYW1ldGVycyA9IHQsIHRoaXMuX21ldGhvZEhhbmRsZXIoXCJwb3N0XCIpO1xuICB9XG4gIHB1dChlLCB0KSB7XG4gICAgcmV0dXJuIHRoaXMudXJsID0gZSwgdGhpcy5wYXJhbWV0ZXJzID0gdCwgdGhpcy5fbWV0aG9kSGFuZGxlcihcInB1dFwiKTtcbiAgfVxuICBkZWxldGUoZSwgdCkge1xuICAgIHJldHVybiB0aGlzLnVybCA9IGUsIHRoaXMucGFyYW1ldGVycyA9IHQsIHRoaXMuX21ldGhvZEhhbmRsZXIoXCJkZWxldGVcIik7XG4gIH1cbiAgYXN5bmMgX3Jlc3BvbnNlSGFuZGxlcihlKSB7XG4gICAgY29uc3QgdCA9IFtdLCBzID0ge1xuICAgICAgZGF0YToge30sXG4gICAgICBoZWFkZXJzOiB7fSxcbiAgICAgIHN0YXR1czogMCxcbiAgICAgIHN0YXR1c1RleHQ6IFwiXCJcbiAgICB9O1xuICAgIGUuc3RhdHVzICE9PSAyMDQgJiYgYXdhaXQgZS5qc29uKCkudGhlbigocikgPT4ge1xuICAgICAgcy5kYXRhID0gcjtcbiAgICB9KTtcbiAgICBmb3IgKGNvbnN0IHIgb2YgZS5oZWFkZXJzLmVudHJpZXMoKSlcbiAgICAgIHRbclswXV0gPSByWzFdO1xuICAgIHJldHVybiBzLmhlYWRlcnMgPSB7IC4uLnQgfSwgcy5zdGF0dXMgPSBlLnN0YXR1cywgcy5zdGF0dXNUZXh0ID0gZS5zdGF0dXNUZXh0LCBzO1xuICB9XG4gIGFzeW5jIF9tZXRob2RIYW5kbGVyKGUpIHtcbiAgICBsZXQgdCA9IGAke3RoaXMuYmFzZVVSTH0ke3RoaXMudXJsfWAsIHMgPSBudWxsO1xuICAgIGlmIChlID09PSBcImdldFwiKSB7XG4gICAgICBjb25zdCBhID0gbmV3IGIoKTtcbiAgICAgIHQgPSBgJHt0aGlzLmJhc2VVUkx9JHt0aGlzLnVybH0/JHthLnN0cmluZ2lmeShcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzXG4gICAgICApfWA7XG4gICAgfSBlbHNlXG4gICAgICBzID0gSlNPTi5zdHJpbmdpZnkodGhpcy5wYXJhbWV0ZXJzKTtcbiAgICBjb25zdCByID0gbmV3IFVSTCh0KSwgbyA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKSwgeyBzaWduYWw6IGkgfSA9IG87XG4gICAgbGV0IGw7XG4gICAgdGhpcy50aW1lb3V0ICYmIChsID0gc2V0VGltZW91dCgoKSA9PiBvLmFib3J0KCksIHRoaXMudGltZW91dCkpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhID0gYXdhaXQgdGhpcy5mZXRjaChgJHtyfWAsIHtcbiAgICAgICAgbWV0aG9kOiBlLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgIGJvZHk6IHMsXG4gICAgICAgIHNpZ25hbDogaSxcbiAgICAgICAgLi4udGhpcy5mZXRjaE9wdGlvbnNcbiAgICAgIH0pO1xuICAgICAgdGhpcy50aW1lb3V0ICYmIGNsZWFyVGltZW91dChsKTtcbiAgICAgIGNvbnN0IHUgPSBhd2FpdCB0aGlzLl9yZXNwb25zZUhhbmRsZXIoXG4gICAgICAgIGFcbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhpcy5yZXNwb25zZUludGVyY2VwdG9yICYmICF0aGlzLmVqZWN0SW50ZXJjZXB0b3IgPyB0aGlzLl9zdGF0dXNIYW5kbGVyKHRoaXMucmVzcG9uc2VJbnRlcmNlcHRvcih1KSkgOiB0aGlzLl9zdGF0dXNIYW5kbGVyKHUpO1xuICAgIH0gY2F0Y2ggKGEpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IGFcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHNldEZldGNoT3B0aW9ucyhlID0ge30pIHtcbiAgICBPYmplY3Qua2V5cyhlKS5sZW5ndGggPiAwICYmIFwibWV0aG9kXCIgaW4gZSAmJiBkZWxldGUgZS5tZXRob2QsIHRoaXMuZmV0Y2hPcHRpb25zID0geyAuLi5lIH07XG4gIH1cbiAgZWplY3QoKSB7XG4gICAgdGhpcy5lamVjdEludGVyY2VwdG9yID0gITA7XG4gIH1cbiAgX3N0YXR1c0hhbmRsZXIoZSkge1xuICAgIGNvbnN0IHQgPSAvMjBbMC02XS9nO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocywgcikgPT4ge1xuICAgICAgaWYgKHQudGVzdChgJHtlLnN0YXR1c31gKSlcbiAgICAgICAgcmV0dXJuIHMoZSk7XG4gICAgICBjb25zdCBvID0ge1xuICAgICAgICBtZXNzYWdlOiBlLnN0YXR1c1RleHQsXG4gICAgICAgIHN0YXR1czogZS5zdGF0dXMsXG4gICAgICAgIHJlc3BvbnNlOiBBcnJheS5pc0FycmF5KGUuZGF0YSkgPyBlLmRhdGFbMF0gOiBlLmRhdGEuZXJyb3IgfHwgZS5kYXRhLnNsdWdcbiAgICAgIH07XG4gICAgICByKG8pO1xuICAgIH0pO1xuICB9XG59XG5jb25zdCBoZSA9IGNlLCBTID0gXCJTQi1BZ2VudFwiLCB3ID0ge1xuICBkZWZhdWx0QWdlbnROYW1lOiBcIlNCLUpTLUNMSUVOVFwiLFxuICBkZWZhdWx0QWdlbnRWZXJzaW9uOiBcIlNCLUFnZW50LVZlcnNpb25cIixcbiAgcGFja2FnZVZlcnNpb246IFwiNi4wLjBcIlxufTtcbmxldCB5ID0ge307XG5jb25zdCBtID0ge307XG5jbGFzcyB1ZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gY29uZmlnIElTYkNvbmZpZyBpbnRlcmZhY2VcbiAgICogQHBhcmFtIGVuZHBvaW50IHN0cmluZywgb3B0aW9uYWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICBjKHRoaXMsIFwiY2xpZW50XCIpLCBjKHRoaXMsIFwibWF4UmV0cmllc1wiKSwgYyh0aGlzLCBcInJldHJpZXNEZWxheVwiKSwgYyh0aGlzLCBcInRocm90dGxlXCIpLCBjKHRoaXMsIFwiYWNjZXNzVG9rZW5cIiksIGModGhpcywgXCJjYWNoZVwiKSwgYyh0aGlzLCBcImhlbHBlcnNcIiksIGModGhpcywgXCJyZXNvbHZlQ291bnRlclwiKSwgYyh0aGlzLCBcInJlbGF0aW9uc1wiKSwgYyh0aGlzLCBcImxpbmtzXCIpLCBjKHRoaXMsIFwicmljaFRleHRSZXNvbHZlclwiKSwgYyh0aGlzLCBcInJlc29sdmVOZXN0ZWRSZWxhdGlvbnNcIiksIGModGhpcywgXCJzdHJpbmdpZmllZFN0b3JpZXNDYWNoZVwiKTtcbiAgICBsZXQgcyA9IGUuZW5kcG9pbnQgfHwgdDtcbiAgICBpZiAoIXMpIHtcbiAgICAgIGNvbnN0IGkgPSBuZXcgYigpLmdldFJlZ2lvblVSTCwgbCA9IGUuaHR0cHMgPT09ICExID8gXCJodHRwXCIgOiBcImh0dHBzXCI7XG4gICAgICBlLm9hdXRoVG9rZW4gPyBzID0gYCR7bH06Ly8ke2koZS5yZWdpb24pfS92MWAgOiBzID0gYCR7bH06Ly8ke2koZS5yZWdpb24pfS92MmA7XG4gICAgfVxuICAgIGNvbnN0IHIgPSBuZXcgSGVhZGVycygpO1xuICAgIHIuc2V0KFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKSwgci5zZXQoXCJBY2NlcHRcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpLCBlLmhlYWRlcnMgJiYgKGUuaGVhZGVycy5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIkhlYWRlcnNcIiA/IGUuaGVhZGVycy5lbnRyaWVzKCkudG9BcnJheSgpIDogT2JqZWN0LmVudHJpZXMoZS5oZWFkZXJzKSkuZm9yRWFjaCgoW2ksIGxdKSA9PiB7XG4gICAgICByLnNldChpLCBsKTtcbiAgICB9KSwgci5oYXMoUykgfHwgKHIuc2V0KFMsIHcuZGVmYXVsdEFnZW50TmFtZSksIHIuc2V0KFxuICAgICAgdy5kZWZhdWx0QWdlbnRWZXJzaW9uLFxuICAgICAgdy5wYWNrYWdlVmVyc2lvblxuICAgICkpO1xuICAgIGxldCBvID0gNTtcbiAgICBlLm9hdXRoVG9rZW4gJiYgKHIuc2V0KFwiQXV0aG9yaXphdGlvblwiLCBlLm9hdXRoVG9rZW4pLCBvID0gMyksIGUucmF0ZUxpbWl0ICYmIChvID0gZS5yYXRlTGltaXQpLCBlLnJpY2hUZXh0U2NoZW1hID8gdGhpcy5yaWNoVGV4dFJlc29sdmVyID0gbmV3IHYoZS5yaWNoVGV4dFNjaGVtYSkgOiB0aGlzLnJpY2hUZXh0UmVzb2x2ZXIgPSBuZXcgdigpLCBlLmNvbXBvbmVudFJlc29sdmVyICYmIHRoaXMuc2V0Q29tcG9uZW50UmVzb2x2ZXIoZS5jb21wb25lbnRSZXNvbHZlciksIHRoaXMubWF4UmV0cmllcyA9IGUubWF4UmV0cmllcyB8fCAxMCwgdGhpcy5yZXRyaWVzRGVsYXkgPSAzMDAsIHRoaXMudGhyb3R0bGUgPSBJKHRoaXMudGhyb3R0bGVkUmVxdWVzdCwgbywgMWUzKSwgdGhpcy5hY2Nlc3NUb2tlbiA9IGUuYWNjZXNzVG9rZW4gfHwgXCJcIiwgdGhpcy5yZWxhdGlvbnMgPSB7fSwgdGhpcy5saW5rcyA9IHt9LCB0aGlzLmNhY2hlID0gZS5jYWNoZSB8fCB7IGNsZWFyOiBcIm1hbnVhbFwiIH0sIHRoaXMuaGVscGVycyA9IG5ldyBiKCksIHRoaXMucmVzb2x2ZUNvdW50ZXIgPSAwLCB0aGlzLnJlc29sdmVOZXN0ZWRSZWxhdGlvbnMgPSBlLnJlc29sdmVOZXN0ZWRSZWxhdGlvbnMgfHwgITAsIHRoaXMuc3RyaW5naWZpZWRTdG9yaWVzQ2FjaGUgPSB7fSwgdGhpcy5jbGllbnQgPSBuZXcgaGUoe1xuICAgICAgYmFzZVVSTDogcyxcbiAgICAgIHRpbWVvdXQ6IGUudGltZW91dCB8fCAwLFxuICAgICAgaGVhZGVyczogcixcbiAgICAgIHJlc3BvbnNlSW50ZXJjZXB0b3I6IGUucmVzcG9uc2VJbnRlcmNlcHRvcixcbiAgICAgIGZldGNoOiBlLmZldGNoXG4gICAgfSk7XG4gIH1cbiAgc2V0Q29tcG9uZW50UmVzb2x2ZXIoZSkge1xuICAgIHRoaXMucmljaFRleHRSZXNvbHZlci5hZGROb2RlKFwiYmxva1wiLCAodCkgPT4ge1xuICAgICAgbGV0IHMgPSBcIlwiO1xuICAgICAgcmV0dXJuIHQuYXR0cnMuYm9keSAmJiB0LmF0dHJzLmJvZHkuZm9yRWFjaCgocikgPT4ge1xuICAgICAgICBzICs9IGUoci5jb21wb25lbnQsIHIpO1xuICAgICAgfSksIHtcbiAgICAgICAgaHRtbDogc1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICBwYXJzZVBhcmFtcyhlKSB7XG4gICAgcmV0dXJuIGUudG9rZW4gfHwgKGUudG9rZW4gPSB0aGlzLmdldFRva2VuKCkpLCBlLmN2IHx8IChlLmN2ID0gbVtlLnRva2VuXSksIEFycmF5LmlzQXJyYXkoZS5yZXNvbHZlX3JlbGF0aW9ucykgJiYgKGUucmVzb2x2ZV9yZWxhdGlvbnMgPSBlLnJlc29sdmVfcmVsYXRpb25zLmpvaW4oXCIsXCIpKSwgdHlwZW9mIGUucmVzb2x2ZV9yZWxhdGlvbnMgPCBcInVcIiAmJiAoZS5yZXNvbHZlX2xldmVsID0gMiksIGU7XG4gIH1cbiAgZmFjdG9yeVBhcmFtT3B0aW9ucyhlLCB0KSB7XG4gICAgcmV0dXJuIHRoaXMuaGVscGVycy5pc0NETlVybChlKSA/IHRoaXMucGFyc2VQYXJhbXModCkgOiB0O1xuICB9XG4gIG1ha2VSZXF1ZXN0KGUsIHQsIHMsIHIsIG8pIHtcbiAgICBjb25zdCBpID0gdGhpcy5mYWN0b3J5UGFyYW1PcHRpb25zKFxuICAgICAgZSxcbiAgICAgIHRoaXMuaGVscGVycy5nZXRPcHRpb25zUGFnZSh0LCBzLCByKVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGVSZXNwb25zZShlLCBpLCB2b2lkIDAsIG8pO1xuICB9XG4gIGdldChlLCB0LCBzKSB7XG4gICAgdCB8fCAodCA9IHt9KTtcbiAgICBjb25zdCByID0gYC8ke2V9YCwgbyA9IHRoaXMuZmFjdG9yeVBhcmFtT3B0aW9ucyhyLCB0KTtcbiAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3BvbnNlKHIsIG8sIHZvaWQgMCwgcyk7XG4gIH1cbiAgYXN5bmMgZ2V0QWxsKGUsIHQsIHMsIHIpIHtcbiAgICBjb25zdCBvID0gKHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQucGVyX3BhZ2UpIHx8IDI1LCBpID0gYC8ke2V9YCwgbCA9IGkuc3BsaXQoXCIvXCIpLCBhID0gcyB8fCBsW2wubGVuZ3RoIC0gMV0sIHUgPSAxLCBoID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdChcbiAgICAgIGksXG4gICAgICB0LFxuICAgICAgbyxcbiAgICAgIHUsXG4gICAgICByXG4gICAgKSwgZCA9IGgudG90YWwgPyBNYXRoLmNlaWwoaC50b3RhbCAvIG8pIDogMSwgZyA9IGF3YWl0IHRoaXMuaGVscGVycy5hc3luY01hcChcbiAgICAgIHRoaXMuaGVscGVycy5yYW5nZSh1LCBkKSxcbiAgICAgIChmKSA9PiB0aGlzLm1ha2VSZXF1ZXN0KGksIHQsIG8sIGYgKyAxLCByKVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuaGVscGVycy5mbGF0TWFwKFxuICAgICAgW2gsIC4uLmddLFxuICAgICAgKGYpID0+IE9iamVjdC52YWx1ZXMoZi5kYXRhW2FdKVxuICAgICk7XG4gIH1cbiAgcG9zdChlLCB0LCBzKSB7XG4gICAgY29uc3QgciA9IGAvJHtlfWA7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnRocm90dGxlKFwicG9zdFwiLCByLCB0LCBzKSk7XG4gIH1cbiAgcHV0KGUsIHQsIHMpIHtcbiAgICBjb25zdCByID0gYC8ke2V9YDtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMudGhyb3R0bGUoXCJwdXRcIiwgciwgdCwgcykpO1xuICB9XG4gIGRlbGV0ZShlLCB0LCBzKSB7XG4gICAgY29uc3QgciA9IGAvJHtlfWA7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnRocm90dGxlKFwiZGVsZXRlXCIsIHIsIHQsIHMpKTtcbiAgfVxuICBnZXRTdG9yaWVzKGUsIHQpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkUmVzb2x2ZUxldmVsKGUpLCB0aGlzLmdldChcImNkbi9zdG9yaWVzXCIsIGUsIHQpO1xuICB9XG4gIGdldFN0b3J5KGUsIHQsIHMpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkUmVzb2x2ZUxldmVsKHQpLCB0aGlzLmdldChgY2RuL3N0b3JpZXMvJHtlfWAsIHQsIHMpO1xuICB9XG4gIGdldFRva2VuKCkge1xuICAgIHJldHVybiB0aGlzLmFjY2Vzc1Rva2VuO1xuICB9XG4gIGVqZWN0SW50ZXJjZXB0b3IoKSB7XG4gICAgdGhpcy5jbGllbnQuZWplY3QoKTtcbiAgfVxuICBfYWRkUmVzb2x2ZUxldmVsKGUpIHtcbiAgICB0eXBlb2YgZS5yZXNvbHZlX3JlbGF0aW9ucyA8IFwidVwiICYmIChlLnJlc29sdmVfbGV2ZWwgPSAyKTtcbiAgfVxuICBfY2xlYW5Db3B5KGUpIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSk7XG4gIH1cbiAgX2luc2VydExpbmtzKGUsIHQsIHMpIHtcbiAgICBjb25zdCByID0gZVt0XTtcbiAgICByICYmIHIuZmllbGR0eXBlID09IFwibXVsdGlsaW5rXCIgJiYgci5saW5rdHlwZSA9PSBcInN0b3J5XCIgJiYgdHlwZW9mIHIuaWQgPT0gXCJzdHJpbmdcIiAmJiB0aGlzLmxpbmtzW3NdW3IuaWRdID8gci5zdG9yeSA9IHRoaXMuX2NsZWFuQ29weSh0aGlzLmxpbmtzW3NdW3IuaWRdKSA6IHIgJiYgci5saW5rdHlwZSA9PT0gXCJzdG9yeVwiICYmIHR5cGVvZiByLnV1aWQgPT0gXCJzdHJpbmdcIiAmJiB0aGlzLmxpbmtzW3NdW3IudXVpZF0gJiYgKHIuc3RvcnkgPSB0aGlzLl9jbGVhbkNvcHkodGhpcy5saW5rc1tzXVtyLnV1aWRdKSk7XG4gIH1cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSByZXNvbHZlSWQgQSBjb3VudGVyIG51bWJlciBhcyBhIHN0cmluZ1xuICAgKiBAcGFyYW0gdXVpZCBUaGUgdXVpZCBvZiB0aGUgc3RvcnlcbiAgICogQHJldHVybnMgc3RyaW5nIHwgb2JqZWN0XG4gICAqL1xuICBnZXRTdG9yeVJlZmVyZW5jZShlLCB0KSB7XG4gICAgcmV0dXJuIHRoaXMucmVsYXRpb25zW2VdW3RdID8gKHRoaXMuc3RyaW5naWZpZWRTdG9yaWVzQ2FjaGVbdF0gfHwgKHRoaXMuc3RyaW5naWZpZWRTdG9yaWVzQ2FjaGVbdF0gPSBKU09OLnN0cmluZ2lmeShcbiAgICAgIHRoaXMucmVsYXRpb25zW2VdW3RdXG4gICAgKSksIEpTT04ucGFyc2UodGhpcy5zdHJpbmdpZmllZFN0b3JpZXNDYWNoZVt0XSkpIDogdDtcbiAgfVxuICBfaW5zZXJ0UmVsYXRpb25zKGUsIHQsIHMsIHIpIHtcbiAgICBzLmluZGV4T2YoYCR7ZS5jb21wb25lbnR9LiR7dH1gKSA+IC0xICYmICh0eXBlb2YgZVt0XSA9PSBcInN0cmluZ1wiID8gZVt0XSA9IHRoaXMuZ2V0U3RvcnlSZWZlcmVuY2UociwgZVt0XSkgOiBBcnJheS5pc0FycmF5KGVbdF0pICYmIChlW3RdID0gZVt0XS5tYXAoKG8pID0+IHRoaXMuZ2V0U3RvcnlSZWZlcmVuY2UociwgbykpLmZpbHRlcihCb29sZWFuKSkpO1xuICB9XG4gIGl0ZXJhdGVUcmVlKGUsIHQsIHMpIHtcbiAgICBjb25zdCByID0gKG8pID0+IHtcbiAgICAgIGlmIChvICE9IG51bGwpIHtcbiAgICAgICAgaWYgKG8uY29uc3RydWN0b3IgPT09IEFycmF5KVxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgby5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHIob1tpXSk7XG4gICAgICAgIGVsc2UgaWYgKG8uY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICAgIGlmIChvLl9zdG9wUmVzb2x2aW5nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGZvciAoY29uc3QgaSBpbiBvKVxuICAgICAgICAgICAgKG8uY29tcG9uZW50ICYmIG8uX3VpZCB8fCBvLnR5cGUgPT09IFwibGlua1wiKSAmJiAodGhpcy5faW5zZXJ0UmVsYXRpb25zKFxuICAgICAgICAgICAgICBvLFxuICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICB0LFxuICAgICAgICAgICAgICBzXG4gICAgICAgICAgICApLCB0aGlzLl9pbnNlcnRMaW5rcyhcbiAgICAgICAgICAgICAgbyxcbiAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgc1xuICAgICAgICAgICAgKSksIHIob1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHIoZS5jb250ZW50KTtcbiAgfVxuICBhc3luYyByZXNvbHZlTGlua3MoZSwgdCwgcykge1xuICAgIGxldCByID0gW107XG4gICAgaWYgKGUubGlua191dWlkcykge1xuICAgICAgY29uc3QgbyA9IGUubGlua191dWlkcy5sZW5ndGgsIGkgPSBbXSwgbCA9IDUwO1xuICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCBvOyBhICs9IGwpIHtcbiAgICAgICAgY29uc3QgdSA9IE1hdGgubWluKG8sIGEgKyBsKTtcbiAgICAgICAgaS5wdXNoKGUubGlua191dWlkcy5zbGljZShhLCB1KSk7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBhID0gMDsgYSA8IGkubGVuZ3RoOyBhKyspXG4gICAgICAgIChhd2FpdCB0aGlzLmdldFN0b3JpZXMoe1xuICAgICAgICAgIHBlcl9wYWdlOiBsLFxuICAgICAgICAgIGxhbmd1YWdlOiB0Lmxhbmd1YWdlLFxuICAgICAgICAgIHZlcnNpb246IHQudmVyc2lvbixcbiAgICAgICAgICBieV91dWlkczogaVthXS5qb2luKFwiLFwiKVxuICAgICAgICB9KSkuZGF0YS5zdG9yaWVzLmZvckVhY2goXG4gICAgICAgICAgKHUpID0+IHtcbiAgICAgICAgICAgIHIucHVzaCh1KTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfSBlbHNlXG4gICAgICByID0gZS5saW5rcztcbiAgICByLmZvckVhY2goKG8pID0+IHtcbiAgICAgIHRoaXMubGlua3Nbc11bby51dWlkXSA9IHtcbiAgICAgICAgLi4ubyxcbiAgICAgICAgX3N0b3BSZXNvbHZpbmc6ICEwXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIHJlc29sdmVSZWxhdGlvbnMoZSwgdCwgcykge1xuICAgIGxldCByID0gW107XG4gICAgaWYgKGUucmVsX3V1aWRzKSB7XG4gICAgICBjb25zdCBvID0gZS5yZWxfdXVpZHMubGVuZ3RoLCBpID0gW10sIGwgPSA1MDtcbiAgICAgIGZvciAobGV0IGEgPSAwOyBhIDwgbzsgYSArPSBsKSB7XG4gICAgICAgIGNvbnN0IHUgPSBNYXRoLm1pbihvLCBhICsgbCk7XG4gICAgICAgIGkucHVzaChlLnJlbF91dWlkcy5zbGljZShhLCB1KSk7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBhID0gMDsgYSA8IGkubGVuZ3RoOyBhKyspXG4gICAgICAgIChhd2FpdCB0aGlzLmdldFN0b3JpZXMoe1xuICAgICAgICAgIHBlcl9wYWdlOiBsLFxuICAgICAgICAgIGxhbmd1YWdlOiB0Lmxhbmd1YWdlLFxuICAgICAgICAgIHZlcnNpb246IHQudmVyc2lvbixcbiAgICAgICAgICBieV91dWlkczogaVthXS5qb2luKFwiLFwiKSxcbiAgICAgICAgICBleGNsdWRpbmdfZmllbGRzOiB0LmV4Y2x1ZGluZ19maWVsZHNcbiAgICAgICAgfSkpLmRhdGEuc3Rvcmllcy5mb3JFYWNoKCh1KSA9PiB7XG4gICAgICAgICAgci5wdXNoKHUpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2VcbiAgICAgIHIgPSBlLnJlbHM7XG4gICAgciAmJiByLmxlbmd0aCA+IDAgJiYgci5mb3JFYWNoKChvKSA9PiB7XG4gICAgICB0aGlzLnJlbGF0aW9uc1tzXVtvLnV1aWRdID0ge1xuICAgICAgICAuLi5vLFxuICAgICAgICBfc3RvcFJlc29sdmluZzogITBcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSByZXNwb25zZURhdGFcbiAgICogQHBhcmFtIHBhcmFtc1xuICAgKiBAcGFyYW0gcmVzb2x2ZUlkXG4gICAqIEBkZXNjcmlwdGlvbiBSZXNvbHZlcyB0aGUgcmVsYXRpb25zIGFuZCBsaW5rcyBvZiB0aGUgc3Rvcmllc1xuICAgKiBAcmV0dXJucyBQcm9taXNlPHZvaWQ+XG4gICAqXG4gICAqL1xuICBhc3luYyByZXNvbHZlU3RvcmllcyhlLCB0LCBzKSB7XG4gICAgdmFyIHIsIG87XG4gICAgbGV0IGkgPSBbXTtcbiAgICBpZiAodGhpcy5saW5rc1tzXSA9IHt9LCB0aGlzLnJlbGF0aW9uc1tzXSA9IHt9LCB0eXBlb2YgdC5yZXNvbHZlX3JlbGF0aW9ucyA8IFwidVwiICYmIHQucmVzb2x2ZV9yZWxhdGlvbnMubGVuZ3RoID4gMCAmJiAodHlwZW9mIHQucmVzb2x2ZV9yZWxhdGlvbnMgPT0gXCJzdHJpbmdcIiAmJiAoaSA9IHQucmVzb2x2ZV9yZWxhdGlvbnMuc3BsaXQoXCIsXCIpKSwgYXdhaXQgdGhpcy5yZXNvbHZlUmVsYXRpb25zKGUsIHQsIHMpKSwgdC5yZXNvbHZlX2xpbmtzICYmIFtcIjFcIiwgXCJzdG9yeVwiLCBcInVybFwiLCBcImxpbmtcIl0uaW5kZXhPZih0LnJlc29sdmVfbGlua3MpID4gLTEgJiYgKChyID0gZS5saW5rcykgIT0gbnVsbCAmJiByLmxlbmd0aCB8fCAobyA9IGUubGlua191dWlkcykgIT0gbnVsbCAmJiBvLmxlbmd0aCkgJiYgYXdhaXQgdGhpcy5yZXNvbHZlTGlua3MoZSwgdCwgcyksIHRoaXMucmVzb2x2ZU5lc3RlZFJlbGF0aW9ucylcbiAgICAgIGZvciAoY29uc3QgbCBpbiB0aGlzLnJlbGF0aW9uc1tzXSlcbiAgICAgICAgdGhpcy5pdGVyYXRlVHJlZShcbiAgICAgICAgICB0aGlzLnJlbGF0aW9uc1tzXVtsXSxcbiAgICAgICAgICBpLFxuICAgICAgICAgIHNcbiAgICAgICAgKTtcbiAgICBlLnN0b3J5ID8gdGhpcy5pdGVyYXRlVHJlZShlLnN0b3J5LCBpLCBzKSA6IGUuc3Rvcmllcy5mb3JFYWNoKChsKSA9PiB7XG4gICAgICB0aGlzLml0ZXJhdGVUcmVlKGwsIGksIHMpO1xuICAgIH0pLCB0aGlzLnN0cmluZ2lmaWVkU3Rvcmllc0NhY2hlID0ge30sIGRlbGV0ZSB0aGlzLmxpbmtzW3NdLCBkZWxldGUgdGhpcy5yZWxhdGlvbnNbc107XG4gIH1cbiAgYXN5bmMgY2FjaGVSZXNwb25zZShlLCB0LCBzLCByKSB7XG4gICAgY29uc3QgbyA9IHRoaXMuaGVscGVycy5zdHJpbmdpZnkoeyB1cmw6IGUsIHBhcmFtczogdCB9KSwgaSA9IHRoaXMuY2FjaGVQcm92aWRlcigpO1xuICAgIGlmICh0aGlzLmNhY2hlLmNsZWFyID09PSBcImF1dG9cIiAmJiB0LnZlcnNpb24gPT09IFwiZHJhZnRcIiAmJiBhd2FpdCB0aGlzLmZsdXNoQ2FjaGUoKSwgdC52ZXJzaW9uID09PSBcInB1Ymxpc2hlZFwiICYmIGUgIT0gXCIvY2RuL3NwYWNlcy9tZVwiKSB7XG4gICAgICBjb25zdCBsID0gYXdhaXQgaS5nZXQobyk7XG4gICAgICBpZiAobClcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShsKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChsLCBhKSA9PiB7XG4gICAgICB2YXIgdTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGggPSBhd2FpdCB0aGlzLnRocm90dGxlKFwiZ2V0XCIsIGUsIHQsIHIpO1xuICAgICAgICBpZiAoaC5zdGF0dXMgIT09IDIwMClcbiAgICAgICAgICByZXR1cm4gYShoKTtcbiAgICAgICAgbGV0IGQgPSB7IGRhdGE6IGguZGF0YSwgaGVhZGVyczogaC5oZWFkZXJzIH07XG4gICAgICAgIGlmICgodSA9IGguaGVhZGVycykgIT0gbnVsbCAmJiB1W1wicGVyLXBhZ2VcIl0gJiYgKGQgPSBPYmplY3QuYXNzaWduKHt9LCBkLCB7XG4gICAgICAgICAgcGVyUGFnZTogaC5oZWFkZXJzW1wicGVyLXBhZ2VcIl0gPyBwYXJzZUludChoLmhlYWRlcnNbXCJwZXItcGFnZVwiXSkgOiAwLFxuICAgICAgICAgIHRvdGFsOiBoLmhlYWRlcnNbXCJwZXItcGFnZVwiXSA/IHBhcnNlSW50KGguaGVhZGVycy50b3RhbCkgOiAwXG4gICAgICAgIH0pKSwgZC5kYXRhLnN0b3J5IHx8IGQuZGF0YS5zdG9yaWVzKSB7XG4gICAgICAgICAgY29uc3QgZyA9IHRoaXMucmVzb2x2ZUNvdW50ZXIgPSArK3RoaXMucmVzb2x2ZUNvdW50ZXIgJSAxZTM7XG4gICAgICAgICAgYXdhaXQgdGhpcy5yZXNvbHZlU3RvcmllcyhkLmRhdGEsIHQsIGAke2d9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQudmVyc2lvbiA9PT0gXCJwdWJsaXNoZWRcIiAmJiBlICE9IFwiL2Nkbi9zcGFjZXMvbWVcIiAmJiBhd2FpdCBpLnNldChvLCBkKSwgZC5kYXRhLmN2ICYmIHQudG9rZW4gJiYgKHQudmVyc2lvbiA9PT0gXCJkcmFmdFwiICYmIG1bdC50b2tlbl0gIT0gZC5kYXRhLmN2ICYmIGF3YWl0IHRoaXMuZmx1c2hDYWNoZSgpLCBtW3QudG9rZW5dID0gdC5jdiA/IHQuY3YgOiBkLmRhdGEuY3YpLCBsKGQpO1xuICAgICAgfSBjYXRjaCAoaCkge1xuICAgICAgICBpZiAoaC5yZXNwb25zZSAmJiBoLnN0YXR1cyA9PT0gNDI5ICYmIChzID0gdHlwZW9mIHMgPiBcInVcIiA/IDAgOiBzICsgMSwgcyA8IHRoaXMubWF4UmV0cmllcykpXG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgYEhpdCByYXRlIGxpbWl0LiBSZXRyeWluZyBpbiAke3RoaXMucmV0cmllc0RlbGF5IC8gMWUzfSBzZWNvbmRzLmBcbiAgICAgICAgICApLCBhd2FpdCB0aGlzLmhlbHBlcnMuZGVsYXkodGhpcy5yZXRyaWVzRGVsYXkpLCB0aGlzLmNhY2hlUmVzcG9uc2UoZSwgdCwgcykudGhlbihsKS5jYXRjaChhKTtcbiAgICAgICAgYShoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICB0aHJvdHRsZWRSZXF1ZXN0KGUsIHQsIHMsIHIpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuc2V0RmV0Y2hPcHRpb25zKHIpLCB0aGlzLmNsaWVudFtlXSh0LCBzKTtcbiAgfVxuICBjYWNoZVZlcnNpb25zKCkge1xuICAgIHJldHVybiBtO1xuICB9XG4gIGNhY2hlVmVyc2lvbigpIHtcbiAgICByZXR1cm4gbVt0aGlzLmFjY2Vzc1Rva2VuXTtcbiAgfVxuICBzZXRDYWNoZVZlcnNpb24oZSkge1xuICAgIHRoaXMuYWNjZXNzVG9rZW4gJiYgKG1bdGhpcy5hY2Nlc3NUb2tlbl0gPSBlKTtcbiAgfVxuICBjbGVhckNhY2hlVmVyc2lvbigpIHtcbiAgICB0aGlzLmFjY2Vzc1Rva2VuICYmIChtW3RoaXMuYWNjZXNzVG9rZW5dID0gMCk7XG4gIH1cbiAgY2FjaGVQcm92aWRlcigpIHtcbiAgICBzd2l0Y2ggKHRoaXMuY2FjaGUudHlwZSkge1xuICAgICAgY2FzZSBcIm1lbW9yeVwiOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGdldChlKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHlbZV0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0QWxsKCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh5KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldChlLCB0KSB7XG4gICAgICAgICAgICByZXR1cm4geVtlXSA9IHQsIFByb21pc2UucmVzb2x2ZSh2b2lkIDApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmx1c2goKSB7XG4gICAgICAgICAgICByZXR1cm4geSA9IHt9LCBQcm9taXNlLnJlc29sdmUodm9pZCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICBjYXNlIFwiY3VzdG9tXCI6XG4gICAgICAgIGlmICh0aGlzLmNhY2hlLmN1c3RvbSkgcmV0dXJuIHRoaXMuY2FjaGUuY3VzdG9tO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRBbGwoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZvaWQgMCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZvaWQgMCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmbHVzaCgpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodm9pZCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICB9XG4gIGFzeW5jIGZsdXNoQ2FjaGUoKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuY2FjaGVQcm92aWRlcigpLmZsdXNoKCksIHRoaXMuY2xlYXJDYWNoZVZlcnNpb24oKSwgdGhpcztcbiAgfVxufVxuY29uc3QgcGUgPSAobiA9IHt9KSA9PiB7XG4gIGNvbnN0IHsgYXBpT3B0aW9uczogZSB9ID0gbjtcbiAgaWYgKCFlLmFjY2Vzc1Rva2VuKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiWW91IG5lZWQgdG8gcHJvdmlkZSBhbiBhY2Nlc3MgdG9rZW4gdG8gaW50ZXJhY3Qgd2l0aCBTdG9yeWJsb2sgQVBJLiBSZWFkIGh0dHBzOi8vd3d3LnN0b3J5Ymxvay5jb20vZG9jcy9hcGkvY29udGVudC1kZWxpdmVyeSN0b3BpY3MvYXV0aGVudGljYXRpb25cIlxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiB7IHN0b3J5Ymxva0FwaTogbmV3IHVlKGUpIH07XG59LCBnZSA9IChuKSA9PiB7XG4gIGlmICh0eXBlb2YgbiAhPSBcIm9iamVjdFwiIHx8IHR5cGVvZiBuLl9lZGl0YWJsZSA+IFwidVwiKVxuICAgIHJldHVybiB7fTtcbiAgdHJ5IHtcbiAgICBjb25zdCBlID0gSlNPTi5wYXJzZShcbiAgICAgIG4uX2VkaXRhYmxlLnJlcGxhY2UoL148IS0tI3N0b3J5YmxvayMvLCBcIlwiKS5yZXBsYWNlKC8tLT4kLywgXCJcIilcbiAgICApO1xuICAgIHJldHVybiBlID8ge1xuICAgICAgXCJkYXRhLWJsb2stY1wiOiBKU09OLnN0cmluZ2lmeShlKSxcbiAgICAgIFwiZGF0YS1ibG9rLXVpZFwiOiBlLmlkICsgXCItXCIgKyBlLnVpZFxuICAgIH0gOiB7fTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59O1xubGV0IFIsIFQgPSBcImh0dHBzOi8vYXBwLnN0b3J5Ymxvay5jb20vZi9zdG9yeWJsb2stdjItbGF0ZXN0LmpzXCI7XG5jb25zdCBmZSA9IChuLCBlLCB0ID0ge30pID0+IHtcbiAgdmFyIHM7XG4gIGNvbnN0IHIgPSAhKHR5cGVvZiB3aW5kb3cgPiBcInVcIikgJiYgdHlwZW9mIHdpbmRvdy5zdG9yeWJsb2tSZWdpc3RlckV2ZW50IDwgXCJ1XCIsIG8gPSArbmV3IFVSTCgocyA9IHdpbmRvdy5sb2NhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IHMuaHJlZikuc2VhcmNoUGFyYW1zLmdldChcbiAgICBcIl9zdG9yeWJsb2tcIlxuICApID09PSBuO1xuICBpZiAoISghciB8fCAhbykpIHtcbiAgICBpZiAoIW4pIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlN0b3J5IElEIGlzIG5vdCBkZWZpbmVkLiBQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIElELlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2luZG93LnN0b3J5Ymxva1JlZ2lzdGVyRXZlbnQoKCkgPT4ge1xuICAgICAgbmV3IHdpbmRvdy5TdG9yeWJsb2tCcmlkZ2UodCkub24oW1wiaW5wdXRcIiwgXCJwdWJsaXNoZWRcIiwgXCJjaGFuZ2VcIl0sIChpKSA9PiB7XG4gICAgICAgIGkuYWN0aW9uID09PSBcImlucHV0XCIgJiYgaS5zdG9yeS5pZCA9PT0gbiA/IGUoaS5zdG9yeSkgOiAoaS5hY3Rpb24gPT09IFwiY2hhbmdlXCIgfHwgaS5hY3Rpb24gPT09IFwicHVibGlzaGVkXCIpICYmIGkuc3RvcnlJZCA9PT0gbiAmJiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufSwgbWUgPSAobiA9IHt9KSA9PiB7XG4gIHZhciBlLCB0O1xuICBjb25zdCB7XG4gICAgYnJpZGdlOiBzLFxuICAgIGFjY2Vzc1Rva2VuOiByLFxuICAgIHVzZTogbyA9IFtdLFxuICAgIGFwaU9wdGlvbnM6IGkgPSB7fSxcbiAgICByaWNoVGV4dDogbCA9IHt9LFxuICAgIGJyaWRnZVVybDogYVxuICB9ID0gbjtcbiAgaS5hY2Nlc3NUb2tlbiA9IGkuYWNjZXNzVG9rZW4gfHwgcjtcbiAgY29uc3QgdSA9IHsgYnJpZGdlOiBzLCBhcGlPcHRpb25zOiBpIH07XG4gIGxldCBoID0ge307XG4gIG8uZm9yRWFjaCgoZykgPT4ge1xuICAgIGggPSB7IC4uLmgsIC4uLmcodSkgfTtcbiAgfSksIGEgJiYgKFQgPSBhKTtcbiAgY29uc3QgZCA9ICEodHlwZW9mIHdpbmRvdyA+IFwidVwiKSAmJiAoKHQgPSAoZSA9IHdpbmRvdy5sb2NhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IGUuc2VhcmNoKSA9PSBudWxsID8gdm9pZCAwIDogdC5pbmNsdWRlcyhcIl9zdG9yeWJsb2tfdGtcIikpO1xuICByZXR1cm4gcyAhPT0gITEgJiYgZCAmJiBPKFQpLCBSID0gbmV3IHYobC5zY2hlbWEpLCBsLnJlc29sdmVyICYmIEUoUiwgbC5yZXNvbHZlciksIGg7XG59LCBFID0gKG4sIGUpID0+IHtcbiAgbi5hZGROb2RlKFwiYmxva1wiLCAodCkgPT4ge1xuICAgIGxldCBzID0gXCJcIjtcbiAgICByZXR1cm4gdC5hdHRycy5ib2R5LmZvckVhY2goKHIpID0+IHtcbiAgICAgIHMgKz0gZShyLmNvbXBvbmVudCwgcik7XG4gICAgfSksIHtcbiAgICAgIGh0bWw6IHNcbiAgICB9O1xuICB9KTtcbn0sIGRlID0gKG4pID0+ICFuIHx8ICEobiAhPSBudWxsICYmIG4uY29udGVudC5zb21lKChlKSA9PiBlLmNvbnRlbnQgfHwgZS50eXBlID09PSBcImJsb2tcIiB8fCBlLnR5cGUgPT09IFwiaG9yaXpvbnRhbF9ydWxlXCIpKSwgeWUgPSAobiwgZSwgdCkgPT4ge1xuICBsZXQgcyA9IHQgfHwgUjtcbiAgaWYgKCFzKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiUGxlYXNlIGluaXRpYWxpemUgdGhlIFN0b3J5YmxvayBTREsgYmVmb3JlIGNhbGxpbmcgdGhlIHJlbmRlclJpY2hUZXh0IGZ1bmN0aW9uXCJcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gZGUobikgPyBcIlwiIDogKGUgJiYgKHMgPSBuZXcgdihlLnNjaGVtYSksIGUucmVzb2x2ZXIgJiYgRShzLCBlLnJlc29sdmVyKSksIHMucmVuZGVyKG4pKTtcbn0sIGJlID0gKCkgPT4gTyhUKTtcbmV4cG9ydCB7XG4gIHYgYXMgUmljaFRleHRSZXNvbHZlcixcbiAgbmUgYXMgUmljaFRleHRTY2hlbWEsXG4gIHBlIGFzIGFwaVBsdWdpbixcbiAgZGUgYXMgaXNSaWNoVGV4dEVtcHR5LFxuICBiZSBhcyBsb2FkU3RvcnlibG9rQnJpZGdlLFxuICBmZSBhcyByZWdpc3RlclN0b3J5Ymxva0JyaWRnZSxcbiAgeWUgYXMgcmVuZGVyUmljaFRleHQsXG4gIGdlIGFzIHN0b3J5Ymxva0VkaXRhYmxlLFxuICBtZSBhcyBzdG9yeWJsb2tJbml0LFxuICBmZSBhcyB1c2VTdG9yeWJsb2tCcmlkZ2Vcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@storyblok/react/dist/storyblok-js.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@storyblok/react/dist/bridge-loader.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@storyblok/react/dist/bridge-loader.mjs ***!
  \**************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");


const proxy = await (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/kiendang/Git/dev-blog/node_modules/@storyblok/react/dist/bridge-loader.mjs`)
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (proxy.default);

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } }, 1);

/***/ }),

/***/ "(rsc)/./node_modules/@storyblok/react/dist/index2.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@storyblok/react/dist/index2.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RichTextResolver: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.RichTextResolver),\n/* harmony export */   RichTextSchema: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.RichTextSchema),\n/* harmony export */   StoryblokComponent: () => (/* reexport safe */ _storyblok_component_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   apiPlugin: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.apiPlugin),\n/* harmony export */   getComponent: () => (/* binding */ i),\n/* harmony export */   getCustomFallbackComponent: () => (/* binding */ m),\n/* harmony export */   getEnableFallbackComponent: () => (/* binding */ k),\n/* harmony export */   getStoryblokApi: () => (/* binding */ b),\n/* harmony export */   loadStoryblokBridge: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.loadStoryblokBridge),\n/* harmony export */   registerStoryblokBridge: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.registerStoryblokBridge),\n/* harmony export */   renderRichText: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.renderRichText),\n/* harmony export */   setComponents: () => (/* binding */ c),\n/* harmony export */   storyblokEditable: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.storyblokEditable),\n/* harmony export */   storyblokInit: () => (/* binding */ p),\n/* harmony export */   useStoryblokApi: () => (/* binding */ b),\n/* harmony export */   useStoryblokBridge: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.registerStoryblokBridge)\n/* harmony export */ });\n/* harmony import */ var _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./storyblok-js.mjs */ \"(rsc)/./node_modules/@storyblok/react/dist/storyblok-js.mjs\");\n/* harmony import */ var _storyblok_component_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./storyblok-component.mjs */ \"(rsc)/./node_modules/@storyblok/react/dist/storyblok-component.mjs\");\n\n\n\nlet t = null, e = {}, r = !1, l = null;\nconst b = () => (t || console.error(\n  \"You can't use getStoryblokApi if you're not loading apiPlugin.\"\n), t), c = (o) => (e = o, e), i = (o) => e[o] ? e[o] : (console.error(`Component ${o} doesn't exist.`), !1), k = () => r, m = () => l, p = (o = {}) => {\n  const { storyblokApi: n } = (0,_storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_0__.storyblokInit)(o);\n  t = n, e = o.components, r = o.enableFallbackComponent, l = o.customFallbackComponent;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHN0b3J5Ymxvay9yZWFjdC9kaXN0L2luZGV4Mi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdEO0FBQzJLO0FBQzFLO0FBQ3pELG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0EsbUZBQW1GLEdBQUcsNERBQTREO0FBQ2xKLFVBQVUsa0JBQWtCLEVBQUUsZ0VBQUM7QUFDL0I7QUFDQTtBQWtCRSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRhcHAvLi9ub2RlX21vZHVsZXMvQHN0b3J5Ymxvay9yZWFjdC9kaXN0L2luZGV4Mi5tanM/ZDk2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdG9yeWJsb2tJbml0IGFzIHMgfSBmcm9tIFwiLi9zdG9yeWJsb2stanMubWpzXCI7XG5pbXBvcnQgeyBSaWNoVGV4dFJlc29sdmVyIGFzIGcsIFJpY2hUZXh0U2NoZW1hIGFzIEMsIGFwaVBsdWdpbiBhcyBkLCBsb2FkU3RvcnlibG9rQnJpZGdlIGFzIGYsIHJlZ2lzdGVyU3RvcnlibG9rQnJpZGdlIGFzIFMsIHJlbmRlclJpY2hUZXh0IGFzIHgsIHN0b3J5Ymxva0VkaXRhYmxlIGFzIEYsIHJlZ2lzdGVyU3RvcnlibG9rQnJpZGdlIGFzIEEgfSBmcm9tIFwiLi9zdG9yeWJsb2stanMubWpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIEIgfSBmcm9tIFwiLi9zdG9yeWJsb2stY29tcG9uZW50Lm1qc1wiO1xubGV0IHQgPSBudWxsLCBlID0ge30sIHIgPSAhMSwgbCA9IG51bGw7XG5jb25zdCBiID0gKCkgPT4gKHQgfHwgY29uc29sZS5lcnJvcihcbiAgXCJZb3UgY2FuJ3QgdXNlIGdldFN0b3J5Ymxva0FwaSBpZiB5b3UncmUgbm90IGxvYWRpbmcgYXBpUGx1Z2luLlwiXG4pLCB0KSwgYyA9IChvKSA9PiAoZSA9IG8sIGUpLCBpID0gKG8pID0+IGVbb10gPyBlW29dIDogKGNvbnNvbGUuZXJyb3IoYENvbXBvbmVudCAke299IGRvZXNuJ3QgZXhpc3QuYCksICExKSwgayA9ICgpID0+IHIsIG0gPSAoKSA9PiBsLCBwID0gKG8gPSB7fSkgPT4ge1xuICBjb25zdCB7IHN0b3J5Ymxva0FwaTogbiB9ID0gcyhvKTtcbiAgdCA9IG4sIGUgPSBvLmNvbXBvbmVudHMsIHIgPSBvLmVuYWJsZUZhbGxiYWNrQ29tcG9uZW50LCBsID0gby5jdXN0b21GYWxsYmFja0NvbXBvbmVudDtcbn07XG5leHBvcnQge1xuICBnIGFzIFJpY2hUZXh0UmVzb2x2ZXIsXG4gIEMgYXMgUmljaFRleHRTY2hlbWEsXG4gIEIgYXMgU3RvcnlibG9rQ29tcG9uZW50LFxuICBkIGFzIGFwaVBsdWdpbixcbiAgaSBhcyBnZXRDb21wb25lbnQsXG4gIG0gYXMgZ2V0Q3VzdG9tRmFsbGJhY2tDb21wb25lbnQsXG4gIGsgYXMgZ2V0RW5hYmxlRmFsbGJhY2tDb21wb25lbnQsXG4gIGIgYXMgZ2V0U3RvcnlibG9rQXBpLFxuICBmIGFzIGxvYWRTdG9yeWJsb2tCcmlkZ2UsXG4gIFMgYXMgcmVnaXN0ZXJTdG9yeWJsb2tCcmlkZ2UsXG4gIHggYXMgcmVuZGVyUmljaFRleHQsXG4gIGMgYXMgc2V0Q29tcG9uZW50cyxcbiAgRiBhcyBzdG9yeWJsb2tFZGl0YWJsZSxcbiAgcCBhcyBzdG9yeWJsb2tJbml0LFxuICBiIGFzIHVzZVN0b3J5Ymxva0FwaSxcbiAgQSBhcyB1c2VTdG9yeWJsb2tCcmlkZ2Vcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@storyblok/react/dist/index2.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@storyblok/react/dist/rsc.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@storyblok/react/dist/rsc.mjs ***!
  \****************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BridgeLoader: () => (/* reexport safe */ _bridge_loader_mjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   RichTextResolver: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.RichTextResolver),\n/* harmony export */   RichTextSchema: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.RichTextSchema),\n/* harmony export */   StoryblokBridgeLoader: () => (/* reexport safe */ _bridge_loader_mjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   StoryblokComponent: () => (/* reexport safe */ _storyblok_component_mjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   StoryblokStory: () => (/* reexport safe */ _story_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   apiPlugin: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.apiPlugin),\n/* harmony export */   getComponent: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_1__.getComponent),\n/* harmony export */   getCustomFallbackComponent: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_1__.getCustomFallbackComponent),\n/* harmony export */   getEnableFallbackComponent: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_1__.getEnableFallbackComponent),\n/* harmony export */   getStoryblokApi: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_1__.useStoryblokApi),\n/* harmony export */   loadStoryblokBridge: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.loadStoryblokBridge),\n/* harmony export */   registerStoryblokBridge: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.registerStoryblokBridge),\n/* harmony export */   renderRichText: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.renderRichText),\n/* harmony export */   setComponents: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_1__.setComponents),\n/* harmony export */   storyblokEditable: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.storyblokEditable),\n/* harmony export */   storyblokInit: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_1__.storyblokInit),\n/* harmony export */   useStoryblokApi: () => (/* reexport safe */ _index2_mjs__WEBPACK_IMPORTED_MODULE_1__.useStoryblokApi),\n/* harmony export */   useStoryblokBridge: () => (/* reexport safe */ _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__.registerStoryblokBridge)\n/* harmony export */ });\n/* harmony import */ var _bridge_loader_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bridge-loader.mjs */ \"(rsc)/./node_modules/@storyblok/react/dist/bridge-loader.mjs\");\n/* harmony import */ var _index2_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index2.mjs */ \"(rsc)/./node_modules/@storyblok/react/dist/index2.mjs\");\n/* harmony import */ var _story_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./story.mjs */ \"(rsc)/./node_modules/@storyblok/react/dist/story.mjs\");\n/* harmony import */ var _storyblok_component_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./storyblok-component.mjs */ \"(rsc)/./node_modules/@storyblok/react/dist/storyblok-component.mjs\");\n/* harmony import */ var _storyblok_js_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./storyblok-js.mjs */ \"(rsc)/./node_modules/@storyblok/react/dist/storyblok-js.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_bridge_loader_mjs__WEBPACK_IMPORTED_MODULE_0__, _story_mjs__WEBPACK_IMPORTED_MODULE_2__]);\n([_bridge_loader_mjs__WEBPACK_IMPORTED_MODULE_0__, _story_mjs__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHN0b3J5Ymxvay9yZWFjdC9kaXN0L3JzYy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlFO0FBQ3NJO0FBQzVKO0FBQ2M7QUFDMEs7QUFxQmpPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGFwcC8uL25vZGVfbW9kdWxlcy9Ac3RvcnlibG9rL3JlYWN0L2Rpc3QvcnNjLm1qcz9iNmViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlZmF1bHQgYXMgdCwgZGVmYXVsdCBhcyByIH0gZnJvbSBcIi4vYnJpZGdlLWxvYWRlci5tanNcIjtcbmltcG9ydCB7IGdldENvbXBvbmVudCBhcyBhLCBnZXRDdXN0b21GYWxsYmFja0NvbXBvbmVudCBhcyBpLCBnZXRFbmFibGVGYWxsYmFja0NvbXBvbmVudCBhcyBzLCB1c2VTdG9yeWJsb2tBcGkgYXMgYiwgc2V0Q29tcG9uZW50cyBhcyBkLCBzdG9yeWJsb2tJbml0IGFzIGssIHVzZVN0b3J5Ymxva0FwaSBhcyBuIH0gZnJvbSBcIi4vaW5kZXgyLm1qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBnIH0gZnJvbSBcIi4vc3RvcnkubWpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIG0gfSBmcm9tIFwiLi9zdG9yeWJsb2stY29tcG9uZW50Lm1qc1wiO1xuaW1wb3J0IHsgUmljaFRleHRSZXNvbHZlciBhcyBmLCBSaWNoVGV4dFNjaGVtYSBhcyB1LCBhcGlQbHVnaW4gYXMgeCwgbG9hZFN0b3J5Ymxva0JyaWRnZSBhcyBjLCByZWdpc3RlclN0b3J5Ymxva0JyaWRnZSBhcyBCLCByZW5kZXJSaWNoVGV4dCBhcyBDLCBzdG9yeWJsb2tFZGl0YWJsZSBhcyBoLCByZWdpc3RlclN0b3J5Ymxva0JyaWRnZSBhcyBSIH0gZnJvbSBcIi4vc3RvcnlibG9rLWpzLm1qc1wiO1xuZXhwb3J0IHtcbiAgdCBhcyBCcmlkZ2VMb2FkZXIsXG4gIGYgYXMgUmljaFRleHRSZXNvbHZlcixcbiAgdSBhcyBSaWNoVGV4dFNjaGVtYSxcbiAgciBhcyBTdG9yeWJsb2tCcmlkZ2VMb2FkZXIsXG4gIG0gYXMgU3RvcnlibG9rQ29tcG9uZW50LFxuICBnIGFzIFN0b3J5Ymxva1N0b3J5LFxuICB4IGFzIGFwaVBsdWdpbixcbiAgYSBhcyBnZXRDb21wb25lbnQsXG4gIGkgYXMgZ2V0Q3VzdG9tRmFsbGJhY2tDb21wb25lbnQsXG4gIHMgYXMgZ2V0RW5hYmxlRmFsbGJhY2tDb21wb25lbnQsXG4gIGIgYXMgZ2V0U3RvcnlibG9rQXBpLFxuICBjIGFzIGxvYWRTdG9yeWJsb2tCcmlkZ2UsXG4gIEIgYXMgcmVnaXN0ZXJTdG9yeWJsb2tCcmlkZ2UsXG4gIEMgYXMgcmVuZGVyUmljaFRleHQsXG4gIGQgYXMgc2V0Q29tcG9uZW50cyxcbiAgaCBhcyBzdG9yeWJsb2tFZGl0YWJsZSxcbiAgayBhcyBzdG9yeWJsb2tJbml0LFxuICBuIGFzIHVzZVN0b3J5Ymxva0FwaSxcbiAgUiBhcyB1c2VTdG9yeWJsb2tCcmlkZ2Vcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@storyblok/react/dist/rsc.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@storyblok/react/dist/story.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@storyblok/react/dist/story.mjs ***!
  \******************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");


const proxy = await (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/kiendang/Git/dev-blog/node_modules/@storyblok/react/dist/story.mjs`)
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (proxy.default);

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } }, 1);

/***/ }),

/***/ "(rsc)/./node_modules/@storyblok/react/dist/storyblok-component.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@storyblok/react/dist/storyblok-component.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ u)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n/* harmony import */ var _index2_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index2.mjs */ \"(rsc)/./node_modules/@storyblok/react/dist/index2.mjs\");\n\n\nconst u = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(\n  ({ blok: t, ...o }, l) => {\n    if (!t)\n      return console.error(\n        \"Please provide a 'blok' property to the StoryblokComponent\"\n      ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, \"Please provide a blok property to the StoryblokComponent\");\n    const n = (0,_index2_mjs__WEBPACK_IMPORTED_MODULE_1__.getComponent)(t.component);\n    if (n)\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(n, { ref: l, blok: t, ...o });\n    if ((0,_index2_mjs__WEBPACK_IMPORTED_MODULE_1__.getEnableFallbackComponent)()) {\n      const r = (0,_index2_mjs__WEBPACK_IMPORTED_MODULE_1__.getCustomFallbackComponent)();\n      return r ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(r, { blok: t, ...o }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", null, \"Component could not be found for blok\", \" \", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", null, t.component), \"! Is it configured correctly?\"));\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null);\n  }\n);\nu.displayName = \"StoryblokComponent\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHN0b3J5Ymxvay9yZWFjdC9kaXN0L3N0b3J5Ymxvay1jb21wb25lbnQubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUN3RTtBQUNuSCxVQUFVLGlEQUFDO0FBQ1gsS0FBSyxlQUFlO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixnREFBZTtBQUN4QyxjQUFjLHlEQUFDO0FBQ2Y7QUFDQSw2QkFBNkIsZ0RBQWUsTUFBTSx1QkFBdUI7QUFDekUsUUFBUSx1RUFBQztBQUNULGdCQUFnQix1RUFBQztBQUNqQixpQ0FBaUMsZ0RBQWUsTUFBTSxlQUFlLG9CQUFvQixnREFBZSxDQUFDLDJDQUFVLHdCQUF3QixnREFBZSwwRUFBMEUsZ0RBQWU7QUFDblA7QUFDQSwyQkFBMkIsZ0RBQWU7QUFDMUM7QUFDQTtBQUNBO0FBR0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0YXBwLy4vbm9kZV9tb2R1bGVzL0BzdG9yeWJsb2svcmVhY3QvZGlzdC9zdG9yeWJsb2stY29tcG9uZW50Lm1qcz9iMDUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlLCB7IGZvcndhcmRSZWYgYXMgbSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZ2V0Q29tcG9uZW50IGFzIGEsIGdldEVuYWJsZUZhbGxiYWNrQ29tcG9uZW50IGFzIHAsIGdldEN1c3RvbUZhbGxiYWNrQ29tcG9uZW50IGFzIGMgfSBmcm9tIFwiLi9pbmRleDIubWpzXCI7XG5jb25zdCB1ID0gbShcbiAgKHsgYmxvazogdCwgLi4ubyB9LCBsKSA9PiB7XG4gICAgaWYgKCF0KVxuICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiUGxlYXNlIHByb3ZpZGUgYSAnYmxvaycgcHJvcGVydHkgdG8gdGhlIFN0b3J5Ymxva0NvbXBvbmVudFwiXG4gICAgICApLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFwiUGxlYXNlIHByb3ZpZGUgYSBibG9rIHByb3BlcnR5IHRvIHRoZSBTdG9yeWJsb2tDb21wb25lbnRcIik7XG4gICAgY29uc3QgbiA9IGEodC5jb21wb25lbnQpO1xuICAgIGlmIChuKVxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQobiwgeyByZWY6IGwsIGJsb2s6IHQsIC4uLm8gfSk7XG4gICAgaWYgKHAoKSkge1xuICAgICAgY29uc3QgciA9IGMoKTtcbiAgICAgIHJldHVybiByID8gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChyLCB7IGJsb2s6IHQsIC4uLm8gfSkgOiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIFwiQ29tcG9uZW50IGNvdWxkIG5vdCBiZSBmb3VuZCBmb3IgYmxva1wiLCBcIiBcIiwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCBudWxsLCB0LmNvbXBvbmVudCksIFwiISBJcyBpdCBjb25maWd1cmVkIGNvcnJlY3RseT9cIikpO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsKTtcbiAgfVxuKTtcbnUuZGlzcGxheU5hbWUgPSBcIlN0b3J5Ymxva0NvbXBvbmVudFwiO1xuZXhwb3J0IHtcbiAgdSBhcyBkZWZhdWx0XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@storyblok/react/dist/storyblok-component.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@storyblok/react/dist/storyblok-js.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@storyblok/react/dist/storyblok-js.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RichTextResolver: () => (/* binding */ v),\n/* harmony export */   RichTextSchema: () => (/* binding */ ne),\n/* harmony export */   apiPlugin: () => (/* binding */ pe),\n/* harmony export */   isRichTextEmpty: () => (/* binding */ de),\n/* harmony export */   loadStoryblokBridge: () => (/* binding */ be),\n/* harmony export */   registerStoryblokBridge: () => (/* binding */ fe),\n/* harmony export */   renderRichText: () => (/* binding */ ye),\n/* harmony export */   storyblokEditable: () => (/* binding */ ge),\n/* harmony export */   storyblokInit: () => (/* binding */ me),\n/* harmony export */   useStoryblokBridge: () => (/* binding */ fe)\n/* harmony export */ });\nlet _ = !1;\nconst j = [], O = (n) => new Promise((e, t) => {\n  if (typeof window > \"u\" || (window.storyblokRegisterEvent = (r) => {\n    if (window.location === window.parent.location) {\n      console.warn(\"You are not in Draft Mode or in the Visual Editor.\");\n      return;\n    }\n    _ ? r() : j.push(r);\n  }, document.getElementById(\"storyblok-javascript-bridge\"))) return;\n  const s = document.createElement(\"script\");\n  s.async = !0, s.src = n, s.id = \"storyblok-javascript-bridge\", s.onerror = (r) => t(r), s.onload = (r) => {\n    j.forEach((o) => o()), _ = !0, e(r);\n  }, document.getElementsByTagName(\"head\")[0].appendChild(s);\n});\nvar P = Object.defineProperty, C = (n, e, t) => e in n ? P(n, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : n[e] = t, c = (n, e, t) => C(n, typeof e != \"symbol\" ? e + \"\" : e, t);\nfunction x(n) {\n  return !(n !== n || n === 1 / 0 || n === -1 / 0);\n}\nfunction I(n, e, t) {\n  if (!x(e))\n    throw new TypeError(\"Expected `limit` to be a finite number\");\n  if (!x(t))\n    throw new TypeError(\"Expected `interval` to be a finite number\");\n  const s = [];\n  let r = [], o = 0;\n  const i = function() {\n    o++;\n    const a = setTimeout(function() {\n      o--, s.length > 0 && i(), r = r.filter(function(h) {\n        return h !== a;\n      });\n    }, t);\n    r.indexOf(a) < 0 && r.push(a);\n    const u = s.shift();\n    u.resolve(n.apply(u.self, u.args));\n  }, l = function(...a) {\n    const u = this;\n    return new Promise(function(h, d) {\n      s.push({\n        resolve: h,\n        reject: d,\n        args: a,\n        self: u\n      }), o < e && i();\n    });\n  };\n  return l.abort = function() {\n    r.forEach(clearTimeout), r = [], s.forEach(function(a) {\n      a.reject(function() {\n        Error.call(this, \"Throttled function aborted\"), this.name = \"AbortError\";\n      });\n    }), s.length = 0;\n  }, l;\n}\nclass b {\n  constructor() {\n    c(this, \"isCDNUrl\", (e = \"\") => e.indexOf(\"/cdn/\") > -1), c(this, \"getOptionsPage\", (e, t = 25, s = 1) => ({\n      ...e,\n      per_page: t,\n      page: s\n    })), c(this, \"delay\", (e) => new Promise((t) => setTimeout(t, e))), c(this, \"arrayFrom\", (e = 0, t) => [...Array(e)].map(t)), c(this, \"range\", (e = 0, t = e) => {\n      const s = Math.abs(t - e) || 0, r = e < t ? 1 : -1;\n      return this.arrayFrom(s, (o, i) => i * r + e);\n    }), c(this, \"asyncMap\", async (e, t) => Promise.all(e.map(t))), c(this, \"flatMap\", (e = [], t) => e.map(t).reduce((s, r) => [...s, ...r], [])), c(this, \"escapeHTML\", function(e) {\n      const t = {\n        \"&\": \"&amp;\",\n        \"<\": \"&lt;\",\n        \">\": \"&gt;\",\n        '\"': \"&quot;\",\n        \"'\": \"&#39;\"\n      }, s = /[&<>\"']/g, r = RegExp(s.source);\n      return e && r.test(e) ? e.replace(s, (o) => t[o]) : e;\n    });\n  }\n  /**\n   * @method stringify\n   * @param  {Object} params\n   * @param  {String} prefix\n   * @param  {Boolean} isArray\n   * @return {String} Stringified object\n   */\n  stringify(e, t, s) {\n    const r = [];\n    for (const o in e) {\n      if (!Object.prototype.hasOwnProperty.call(e, o))\n        continue;\n      const i = e[o], l = s ? \"\" : encodeURIComponent(o);\n      let a;\n      typeof i == \"object\" ? a = this.stringify(\n        i,\n        t ? t + encodeURIComponent(\"[\" + l + \"]\") : l,\n        Array.isArray(i)\n      ) : a = (t ? t + encodeURIComponent(\"[\" + l + \"]\") : l) + \"=\" + encodeURIComponent(i), r.push(a);\n    }\n    return r.join(\"&\");\n  }\n  /**\n   * @method getRegionURL\n   * @param  {String} regionCode region code, could be eu, us, cn, ap or ca\n   * @return {String} The base URL of the region\n   */\n  getRegionURL(e) {\n    const t = \"api.storyblok.com\", s = \"api-us.storyblok.com\", r = \"app.storyblokchina.cn\", o = \"api-ap.storyblok.com\", i = \"api-ca.storyblok.com\";\n    switch (e) {\n      case \"us\":\n        return s;\n      case \"cn\":\n        return r;\n      case \"ap\":\n        return o;\n      case \"ca\":\n        return i;\n      default:\n        return t;\n    }\n  }\n}\nconst A = function(n, e) {\n  const t = {};\n  for (const s in n) {\n    const r = n[s];\n    e.indexOf(s) > -1 && r !== null && (t[s] = r);\n  }\n  return t;\n}, N = (n) => n === \"email\", L = () => ({\n  singleTag: \"hr\"\n}), M = () => ({\n  tag: \"blockquote\"\n}), H = () => ({\n  tag: \"ul\"\n}), U = (n) => ({\n  tag: [\n    \"pre\",\n    {\n      tag: \"code\",\n      attrs: n.attrs\n    }\n  ]\n}), z = () => ({\n  singleTag: \"br\"\n}), q = (n) => ({\n  tag: `h${n.attrs.level}`\n}), B = (n) => ({\n  singleTag: [\n    {\n      tag: \"img\",\n      attrs: A(n.attrs, [\"src\", \"alt\", \"title\"])\n    }\n  ]\n}), D = () => ({\n  tag: \"li\"\n}), V = () => ({\n  tag: \"ol\"\n}), J = () => ({\n  tag: \"p\"\n}), F = (n) => ({\n  tag: [\n    {\n      tag: \"span\",\n      attrs: {\n        \"data-type\": \"emoji\",\n        \"data-name\": n.attrs.name,\n        emoji: n.attrs.emoji\n      }\n    }\n  ]\n}), W = () => ({\n  tag: \"b\"\n}), Y = () => ({\n  tag: \"s\"\n}), K = () => ({\n  tag: \"u\"\n}), Q = () => ({\n  tag: \"strong\"\n}), X = () => ({\n  tag: \"code\"\n}), Z = () => ({\n  tag: \"i\"\n}), G = (n) => {\n  if (!n.attrs)\n    return {\n      tag: \"\"\n    };\n  const e = new b().escapeHTML, t = { ...n.attrs }, { linktype: s = \"url\" } = n.attrs;\n  if (delete t.linktype, t.href && (t.href = e(n.attrs.href || \"\")), N(s) && (t.href = `mailto:${t.href}`), t.anchor && (t.href = `${t.href}#${t.anchor}`, delete t.anchor), t.custom) {\n    for (const r in t.custom)\n      t[r] = t.custom[r];\n    delete t.custom;\n  }\n  return {\n    tag: [\n      {\n        tag: \"a\",\n        attrs: t\n      }\n    ]\n  };\n}, ee = (n) => ({\n  tag: [\n    {\n      tag: \"span\",\n      attrs: n.attrs\n    }\n  ]\n}), te = () => ({\n  tag: \"sub\"\n}), se = () => ({\n  tag: \"sup\"\n}), re = (n) => ({\n  tag: [\n    {\n      tag: \"span\",\n      attrs: n.attrs\n    }\n  ]\n}), oe = (n) => {\n  var e;\n  return (e = n.attrs) != null && e.color ? {\n    tag: [\n      {\n        tag: \"span\",\n        attrs: {\n          style: `background-color:${n.attrs.color};`\n        }\n      }\n    ]\n  } : {\n    tag: \"\"\n  };\n}, ie = (n) => {\n  var e;\n  return (e = n.attrs) != null && e.color ? {\n    tag: [\n      {\n        tag: \"span\",\n        attrs: {\n          style: `color:${n.attrs.color}`\n        }\n      }\n    ]\n  } : {\n    tag: \"\"\n  };\n}, ne = {\n  nodes: {\n    horizontal_rule: L,\n    blockquote: M,\n    bullet_list: H,\n    code_block: U,\n    hard_break: z,\n    heading: q,\n    image: B,\n    list_item: D,\n    ordered_list: V,\n    paragraph: J,\n    emoji: F\n  },\n  marks: {\n    bold: W,\n    strike: Y,\n    underline: K,\n    strong: Q,\n    code: X,\n    italic: Z,\n    link: G,\n    styled: ee,\n    subscript: te,\n    superscript: se,\n    anchor: re,\n    highlight: oe,\n    textStyle: ie\n  }\n}, ae = function(n) {\n  const e = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    '\"': \"&quot;\",\n    \"'\": \"&#39;\"\n  }, t = /[&<>\"']/g, s = RegExp(t.source);\n  return n && s.test(n) ? n.replace(t, (r) => e[r]) : n;\n};\nclass le {\n  constructor(e) {\n    c(this, \"marks\"), c(this, \"nodes\"), e || (e = ne), this.marks = e.marks || [], this.nodes = e.nodes || [];\n  }\n  addNode(e, t) {\n    this.nodes[e] = t;\n  }\n  addMark(e, t) {\n    this.marks[e] = t;\n  }\n  render(e, t = { optimizeImages: !1 }) {\n    if (console.warn(\n      \"Warning ⚠️: The RichTextResolver class is deprecated and will be removed in the next major release. Please use the `@storyblok/richtext` package instead. https://github.com/storyblok/richtext/\"\n    ), e && e.content && Array.isArray(e.content)) {\n      let s = \"\";\n      return e.content.forEach((r) => {\n        s += this.renderNode(r);\n      }), t.optimizeImages ? this.optimizeImages(s, t.optimizeImages) : s;\n    }\n    return console.warn(\n      `The render method must receive an Object with a \"content\" field.\n\t\t\tThe \"content\" field must be an array of nodes as the type ISbRichtext.\n\t\t\tISbRichtext:\n\t\t\t\tcontent?: ISbRichtext[]\n\t\t\t\tmarks?: ISbRichtext[]\n\t\t\t\tattrs?: any\n\t\t\t\ttext?: string\n\t\t\t\ttype: string\n\t\t\t\t\n\t\t\t\tExample:\n\t\t\t\t{\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttext: 'Hello World',\n\t\t\t\t\t\t\t\t\ttype: 'text'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\ttype: 'paragraph'\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\ttype: 'doc'\n\t\t\t\t}`\n    ), \"\";\n  }\n  optimizeImages(e, t) {\n    let s = 0, r = 0, o = \"\", i = \"\";\n    typeof t != \"boolean\" && (typeof t.width == \"number\" && t.width > 0 && (o += `width=\"${t.width}\" `, s = t.width), typeof t.height == \"number\" && t.height > 0 && (o += `height=\"${t.height}\" `, r = t.height), (t.loading === \"lazy\" || t.loading === \"eager\") && (o += `loading=\"${t.loading}\" `), typeof t.class == \"string\" && t.class.length > 0 && (o += `class=\"${t.class}\" `), t.filters && (typeof t.filters.blur == \"number\" && t.filters.blur >= 0 && t.filters.blur <= 100 && (i += `:blur(${t.filters.blur})`), typeof t.filters.brightness == \"number\" && t.filters.brightness >= -100 && t.filters.brightness <= 100 && (i += `:brightness(${t.filters.brightness})`), t.filters.fill && (t.filters.fill.match(/[0-9A-Fa-f]{6}/g) || t.filters.fill === \"transparent\") && (i += `:fill(${t.filters.fill})`), t.filters.format && [\"webp\", \"png\", \"jpeg\"].includes(t.filters.format) && (i += `:format(${t.filters.format})`), typeof t.filters.grayscale == \"boolean\" && t.filters.grayscale && (i += \":grayscale()\"), typeof t.filters.quality == \"number\" && t.filters.quality >= 0 && t.filters.quality <= 100 && (i += `:quality(${t.filters.quality})`), t.filters.rotate && [90, 180, 270].includes(t.filters.rotate) && (i += `:rotate(${t.filters.rotate})`), i.length > 0 && (i = \"/filters\" + i))), o.length > 0 && (e = e.replace(/<img/g, `<img ${o.trim()}`));\n    const l = s > 0 || r > 0 || i.length > 0 ? `${s}x${r}${i}` : \"\";\n    return e = e.replace(\n      /a.storyblok.com\\/f\\/(\\d+)\\/([^.]+)\\.(gif|jpg|jpeg|png|tif|tiff|bmp)/g,\n      `a.storyblok.com/f/$1/$2.$3/m/${l}`\n    ), typeof t != \"boolean\" && (t.sizes || t.srcset) && (e = e.replace(/<img.*?src=[\"|'](.*?)[\"|']/g, (a) => {\n      var u, h;\n      const d = a.match(\n        /a.storyblok.com\\/f\\/(\\d+)\\/([^.]+)\\.(gif|jpg|jpeg|png|tif|tiff|bmp)/g\n      );\n      if (d && d.length > 0) {\n        const g = {\n          srcset: (u = t.srcset) == null ? void 0 : u.map((p) => {\n            if (typeof p == \"number\")\n              return `//${d}/m/${p}x0${i} ${p}w`;\n            if (typeof p == \"object\" && p.length === 2) {\n              let k = 0, $ = 0;\n              return typeof p[0] == \"number\" && (k = p[0]), typeof p[1] == \"number\" && ($ = p[1]), `//${d}/m/${k}x${$}${i} ${k}w`;\n            }\n          }).join(\", \"),\n          sizes: (h = t.sizes) == null ? void 0 : h.map((p) => p).join(\", \")\n        };\n        let f = \"\";\n        return g.srcset && (f += `srcset=\"${g.srcset}\" `), g.sizes && (f += `sizes=\"${g.sizes}\" `), a.replace(/<img/g, `<img ${f.trim()}`);\n      }\n      return a;\n    })), e;\n  }\n  renderNode(e) {\n    const t = [];\n    e.marks && e.marks.forEach((r) => {\n      const o = this.getMatchingMark(r);\n      o && o.tag !== \"\" && t.push(this.renderOpeningTag(o.tag));\n    });\n    const s = this.getMatchingNode(e);\n    return s && s.tag && t.push(this.renderOpeningTag(s.tag)), e.content ? e.content.forEach((r) => {\n      t.push(this.renderNode(r));\n    }) : e.text ? t.push(ae(e.text)) : s && s.singleTag ? t.push(this.renderTag(s.singleTag, \" /\")) : s && s.html ? t.push(s.html) : e.type === \"emoji\" && t.push(this.renderEmoji(e)), s && s.tag && t.push(this.renderClosingTag(s.tag)), e.marks && e.marks.slice(0).reverse().forEach((r) => {\n      const o = this.getMatchingMark(r);\n      o && o.tag !== \"\" && t.push(this.renderClosingTag(o.tag));\n    }), t.join(\"\");\n  }\n  renderTag(e, t) {\n    return e.constructor === String ? `<${e}${t}>` : e.map((s) => {\n      if (s.constructor === String)\n        return `<${s}${t}>`;\n      {\n        let r = `<${s.tag}`;\n        if (s.attrs) {\n          for (const o in s.attrs)\n            if (Object.prototype.hasOwnProperty.call(s.attrs, o)) {\n              const i = s.attrs[o];\n              i !== null && (r += ` ${o}=\"${i}\"`);\n            }\n        }\n        return `${r}${t}>`;\n      }\n    }).join(\"\");\n  }\n  renderOpeningTag(e) {\n    return this.renderTag(e, \"\");\n  }\n  renderClosingTag(e) {\n    return e.constructor === String ? `</${e}>` : e.slice(0).reverse().map((t) => t.constructor === String ? `</${t}>` : `</${t.tag}>`).join(\"\");\n  }\n  getMatchingNode(e) {\n    const t = this.nodes[e.type];\n    if (typeof t == \"function\")\n      return t(e);\n  }\n  getMatchingMark(e) {\n    const t = this.marks[e.type];\n    if (typeof t == \"function\")\n      return t(e);\n  }\n  renderEmoji(e) {\n    if (e.attrs.emoji)\n      return e.attrs.emoji;\n    const t = [\n      {\n        tag: \"img\",\n        attrs: {\n          src: e.attrs.fallbackImage,\n          draggable: \"false\",\n          loading: \"lazy\",\n          align: \"absmiddle\"\n        }\n      }\n    ];\n    return this.renderTag(t, \" /\");\n  }\n}\nconst v = le;\nclass ce {\n  constructor(e) {\n    c(this, \"baseURL\"), c(this, \"timeout\"), c(this, \"headers\"), c(this, \"responseInterceptor\"), c(this, \"fetch\"), c(this, \"ejectInterceptor\"), c(this, \"url\"), c(this, \"parameters\"), c(this, \"fetchOptions\"), this.baseURL = e.baseURL, this.headers = e.headers || new Headers(), this.timeout = e != null && e.timeout ? e.timeout * 1e3 : 0, this.responseInterceptor = e.responseInterceptor, this.fetch = (...t) => e.fetch ? e.fetch(...t) : fetch(...t), this.ejectInterceptor = !1, this.url = \"\", this.parameters = {}, this.fetchOptions = {};\n  }\n  /**\n   *\n   * @param url string\n   * @param params ISbStoriesParams\n   * @returns Promise<ISbResponse | Error>\n   */\n  get(e, t) {\n    return this.url = e, this.parameters = t, this._methodHandler(\"get\");\n  }\n  post(e, t) {\n    return this.url = e, this.parameters = t, this._methodHandler(\"post\");\n  }\n  put(e, t) {\n    return this.url = e, this.parameters = t, this._methodHandler(\"put\");\n  }\n  delete(e, t) {\n    return this.url = e, this.parameters = t, this._methodHandler(\"delete\");\n  }\n  async _responseHandler(e) {\n    const t = [], s = {\n      data: {},\n      headers: {},\n      status: 0,\n      statusText: \"\"\n    };\n    e.status !== 204 && await e.json().then((r) => {\n      s.data = r;\n    });\n    for (const r of e.headers.entries())\n      t[r[0]] = r[1];\n    return s.headers = { ...t }, s.status = e.status, s.statusText = e.statusText, s;\n  }\n  async _methodHandler(e) {\n    let t = `${this.baseURL}${this.url}`, s = null;\n    if (e === \"get\") {\n      const a = new b();\n      t = `${this.baseURL}${this.url}?${a.stringify(\n        this.parameters\n      )}`;\n    } else\n      s = JSON.stringify(this.parameters);\n    const r = new URL(t), o = new AbortController(), { signal: i } = o;\n    let l;\n    this.timeout && (l = setTimeout(() => o.abort(), this.timeout));\n    try {\n      const a = await this.fetch(`${r}`, {\n        method: e,\n        headers: this.headers,\n        body: s,\n        signal: i,\n        ...this.fetchOptions\n      });\n      this.timeout && clearTimeout(l);\n      const u = await this._responseHandler(\n        a\n      );\n      return this.responseInterceptor && !this.ejectInterceptor ? this._statusHandler(this.responseInterceptor(u)) : this._statusHandler(u);\n    } catch (a) {\n      return {\n        message: a\n      };\n    }\n  }\n  setFetchOptions(e = {}) {\n    Object.keys(e).length > 0 && \"method\" in e && delete e.method, this.fetchOptions = { ...e };\n  }\n  eject() {\n    this.ejectInterceptor = !0;\n  }\n  _statusHandler(e) {\n    const t = /20[0-6]/g;\n    return new Promise((s, r) => {\n      if (t.test(`${e.status}`))\n        return s(e);\n      const o = {\n        message: e.statusText,\n        status: e.status,\n        response: Array.isArray(e.data) ? e.data[0] : e.data.error || e.data.slug\n      };\n      r(o);\n    });\n  }\n}\nconst he = ce, S = \"SB-Agent\", w = {\n  defaultAgentName: \"SB-JS-CLIENT\",\n  defaultAgentVersion: \"SB-Agent-Version\",\n  packageVersion: \"6.0.0\"\n};\nlet y = {};\nconst m = {};\nclass ue {\n  /**\n   *\n   * @param config ISbConfig interface\n   * @param endpoint string, optional\n   */\n  constructor(e, t) {\n    c(this, \"client\"), c(this, \"maxRetries\"), c(this, \"retriesDelay\"), c(this, \"throttle\"), c(this, \"accessToken\"), c(this, \"cache\"), c(this, \"helpers\"), c(this, \"resolveCounter\"), c(this, \"relations\"), c(this, \"links\"), c(this, \"richTextResolver\"), c(this, \"resolveNestedRelations\"), c(this, \"stringifiedStoriesCache\");\n    let s = e.endpoint || t;\n    if (!s) {\n      const i = new b().getRegionURL, l = e.https === !1 ? \"http\" : \"https\";\n      e.oauthToken ? s = `${l}://${i(e.region)}/v1` : s = `${l}://${i(e.region)}/v2`;\n    }\n    const r = new Headers();\n    r.set(\"Content-Type\", \"application/json\"), r.set(\"Accept\", \"application/json\"), e.headers && (e.headers.constructor.name === \"Headers\" ? e.headers.entries().toArray() : Object.entries(e.headers)).forEach(([i, l]) => {\n      r.set(i, l);\n    }), r.has(S) || (r.set(S, w.defaultAgentName), r.set(\n      w.defaultAgentVersion,\n      w.packageVersion\n    ));\n    let o = 5;\n    e.oauthToken && (r.set(\"Authorization\", e.oauthToken), o = 3), e.rateLimit && (o = e.rateLimit), e.richTextSchema ? this.richTextResolver = new v(e.richTextSchema) : this.richTextResolver = new v(), e.componentResolver && this.setComponentResolver(e.componentResolver), this.maxRetries = e.maxRetries || 10, this.retriesDelay = 300, this.throttle = I(this.throttledRequest, o, 1e3), this.accessToken = e.accessToken || \"\", this.relations = {}, this.links = {}, this.cache = e.cache || { clear: \"manual\" }, this.helpers = new b(), this.resolveCounter = 0, this.resolveNestedRelations = e.resolveNestedRelations || !0, this.stringifiedStoriesCache = {}, this.client = new he({\n      baseURL: s,\n      timeout: e.timeout || 0,\n      headers: r,\n      responseInterceptor: e.responseInterceptor,\n      fetch: e.fetch\n    });\n  }\n  setComponentResolver(e) {\n    this.richTextResolver.addNode(\"blok\", (t) => {\n      let s = \"\";\n      return t.attrs.body && t.attrs.body.forEach((r) => {\n        s += e(r.component, r);\n      }), {\n        html: s\n      };\n    });\n  }\n  parseParams(e) {\n    return e.token || (e.token = this.getToken()), e.cv || (e.cv = m[e.token]), Array.isArray(e.resolve_relations) && (e.resolve_relations = e.resolve_relations.join(\",\")), typeof e.resolve_relations < \"u\" && (e.resolve_level = 2), e;\n  }\n  factoryParamOptions(e, t) {\n    return this.helpers.isCDNUrl(e) ? this.parseParams(t) : t;\n  }\n  makeRequest(e, t, s, r, o) {\n    const i = this.factoryParamOptions(\n      e,\n      this.helpers.getOptionsPage(t, s, r)\n    );\n    return this.cacheResponse(e, i, void 0, o);\n  }\n  get(e, t, s) {\n    t || (t = {});\n    const r = `/${e}`, o = this.factoryParamOptions(r, t);\n    return this.cacheResponse(r, o, void 0, s);\n  }\n  async getAll(e, t, s, r) {\n    const o = (t == null ? void 0 : t.per_page) || 25, i = `/${e}`, l = i.split(\"/\"), a = s || l[l.length - 1], u = 1, h = await this.makeRequest(\n      i,\n      t,\n      o,\n      u,\n      r\n    ), d = h.total ? Math.ceil(h.total / o) : 1, g = await this.helpers.asyncMap(\n      this.helpers.range(u, d),\n      (f) => this.makeRequest(i, t, o, f + 1, r)\n    );\n    return this.helpers.flatMap(\n      [h, ...g],\n      (f) => Object.values(f.data[a])\n    );\n  }\n  post(e, t, s) {\n    const r = `/${e}`;\n    return Promise.resolve(this.throttle(\"post\", r, t, s));\n  }\n  put(e, t, s) {\n    const r = `/${e}`;\n    return Promise.resolve(this.throttle(\"put\", r, t, s));\n  }\n  delete(e, t, s) {\n    const r = `/${e}`;\n    return Promise.resolve(this.throttle(\"delete\", r, t, s));\n  }\n  getStories(e, t) {\n    return this._addResolveLevel(e), this.get(\"cdn/stories\", e, t);\n  }\n  getStory(e, t, s) {\n    return this._addResolveLevel(t), this.get(`cdn/stories/${e}`, t, s);\n  }\n  getToken() {\n    return this.accessToken;\n  }\n  ejectInterceptor() {\n    this.client.eject();\n  }\n  _addResolveLevel(e) {\n    typeof e.resolve_relations < \"u\" && (e.resolve_level = 2);\n  }\n  _cleanCopy(e) {\n    return JSON.parse(JSON.stringify(e));\n  }\n  _insertLinks(e, t, s) {\n    const r = e[t];\n    r && r.fieldtype == \"multilink\" && r.linktype == \"story\" && typeof r.id == \"string\" && this.links[s][r.id] ? r.story = this._cleanCopy(this.links[s][r.id]) : r && r.linktype === \"story\" && typeof r.uuid == \"string\" && this.links[s][r.uuid] && (r.story = this._cleanCopy(this.links[s][r.uuid]));\n  }\n  /**\n   *\n   * @param resolveId A counter number as a string\n   * @param uuid The uuid of the story\n   * @returns string | object\n   */\n  getStoryReference(e, t) {\n    return this.relations[e][t] ? (this.stringifiedStoriesCache[t] || (this.stringifiedStoriesCache[t] = JSON.stringify(\n      this.relations[e][t]\n    )), JSON.parse(this.stringifiedStoriesCache[t])) : t;\n  }\n  _insertRelations(e, t, s, r) {\n    s.indexOf(`${e.component}.${t}`) > -1 && (typeof e[t] == \"string\" ? e[t] = this.getStoryReference(r, e[t]) : Array.isArray(e[t]) && (e[t] = e[t].map((o) => this.getStoryReference(r, o)).filter(Boolean)));\n  }\n  iterateTree(e, t, s) {\n    const r = (o) => {\n      if (o != null) {\n        if (o.constructor === Array)\n          for (let i = 0; i < o.length; i++)\n            r(o[i]);\n        else if (o.constructor === Object) {\n          if (o._stopResolving)\n            return;\n          for (const i in o)\n            (o.component && o._uid || o.type === \"link\") && (this._insertRelations(\n              o,\n              i,\n              t,\n              s\n            ), this._insertLinks(\n              o,\n              i,\n              s\n            )), r(o[i]);\n        }\n      }\n    };\n    r(e.content);\n  }\n  async resolveLinks(e, t, s) {\n    let r = [];\n    if (e.link_uuids) {\n      const o = e.link_uuids.length, i = [], l = 50;\n      for (let a = 0; a < o; a += l) {\n        const u = Math.min(o, a + l);\n        i.push(e.link_uuids.slice(a, u));\n      }\n      for (let a = 0; a < i.length; a++)\n        (await this.getStories({\n          per_page: l,\n          language: t.language,\n          version: t.version,\n          by_uuids: i[a].join(\",\")\n        })).data.stories.forEach(\n          (u) => {\n            r.push(u);\n          }\n        );\n    } else\n      r = e.links;\n    r.forEach((o) => {\n      this.links[s][o.uuid] = {\n        ...o,\n        _stopResolving: !0\n      };\n    });\n  }\n  async resolveRelations(e, t, s) {\n    let r = [];\n    if (e.rel_uuids) {\n      const o = e.rel_uuids.length, i = [], l = 50;\n      for (let a = 0; a < o; a += l) {\n        const u = Math.min(o, a + l);\n        i.push(e.rel_uuids.slice(a, u));\n      }\n      for (let a = 0; a < i.length; a++)\n        (await this.getStories({\n          per_page: l,\n          language: t.language,\n          version: t.version,\n          by_uuids: i[a].join(\",\"),\n          excluding_fields: t.excluding_fields\n        })).data.stories.forEach((u) => {\n          r.push(u);\n        });\n    } else\n      r = e.rels;\n    r && r.length > 0 && r.forEach((o) => {\n      this.relations[s][o.uuid] = {\n        ...o,\n        _stopResolving: !0\n      };\n    });\n  }\n  /**\n   *\n   * @param responseData\n   * @param params\n   * @param resolveId\n   * @description Resolves the relations and links of the stories\n   * @returns Promise<void>\n   *\n   */\n  async resolveStories(e, t, s) {\n    var r, o;\n    let i = [];\n    if (this.links[s] = {}, this.relations[s] = {}, typeof t.resolve_relations < \"u\" && t.resolve_relations.length > 0 && (typeof t.resolve_relations == \"string\" && (i = t.resolve_relations.split(\",\")), await this.resolveRelations(e, t, s)), t.resolve_links && [\"1\", \"story\", \"url\", \"link\"].indexOf(t.resolve_links) > -1 && ((r = e.links) != null && r.length || (o = e.link_uuids) != null && o.length) && await this.resolveLinks(e, t, s), this.resolveNestedRelations)\n      for (const l in this.relations[s])\n        this.iterateTree(\n          this.relations[s][l],\n          i,\n          s\n        );\n    e.story ? this.iterateTree(e.story, i, s) : e.stories.forEach((l) => {\n      this.iterateTree(l, i, s);\n    }), this.stringifiedStoriesCache = {}, delete this.links[s], delete this.relations[s];\n  }\n  async cacheResponse(e, t, s, r) {\n    const o = this.helpers.stringify({ url: e, params: t }), i = this.cacheProvider();\n    if (this.cache.clear === \"auto\" && t.version === \"draft\" && await this.flushCache(), t.version === \"published\" && e != \"/cdn/spaces/me\") {\n      const l = await i.get(o);\n      if (l)\n        return Promise.resolve(l);\n    }\n    return new Promise(async (l, a) => {\n      var u;\n      try {\n        const h = await this.throttle(\"get\", e, t, r);\n        if (h.status !== 200)\n          return a(h);\n        let d = { data: h.data, headers: h.headers };\n        if ((u = h.headers) != null && u[\"per-page\"] && (d = Object.assign({}, d, {\n          perPage: h.headers[\"per-page\"] ? parseInt(h.headers[\"per-page\"]) : 0,\n          total: h.headers[\"per-page\"] ? parseInt(h.headers.total) : 0\n        })), d.data.story || d.data.stories) {\n          const g = this.resolveCounter = ++this.resolveCounter % 1e3;\n          await this.resolveStories(d.data, t, `${g}`);\n        }\n        return t.version === \"published\" && e != \"/cdn/spaces/me\" && await i.set(o, d), d.data.cv && t.token && (t.version === \"draft\" && m[t.token] != d.data.cv && await this.flushCache(), m[t.token] = t.cv ? t.cv : d.data.cv), l(d);\n      } catch (h) {\n        if (h.response && h.status === 429 && (s = typeof s > \"u\" ? 0 : s + 1, s < this.maxRetries))\n          return console.log(\n            `Hit rate limit. Retrying in ${this.retriesDelay / 1e3} seconds.`\n          ), await this.helpers.delay(this.retriesDelay), this.cacheResponse(e, t, s).then(l).catch(a);\n        a(h);\n      }\n    });\n  }\n  throttledRequest(e, t, s, r) {\n    return this.client.setFetchOptions(r), this.client[e](t, s);\n  }\n  cacheVersions() {\n    return m;\n  }\n  cacheVersion() {\n    return m[this.accessToken];\n  }\n  setCacheVersion(e) {\n    this.accessToken && (m[this.accessToken] = e);\n  }\n  clearCacheVersion() {\n    this.accessToken && (m[this.accessToken] = 0);\n  }\n  cacheProvider() {\n    switch (this.cache.type) {\n      case \"memory\":\n        return {\n          get(e) {\n            return Promise.resolve(y[e]);\n          },\n          getAll() {\n            return Promise.resolve(y);\n          },\n          set(e, t) {\n            return y[e] = t, Promise.resolve(void 0);\n          },\n          flush() {\n            return y = {}, Promise.resolve(void 0);\n          }\n        };\n      case \"custom\":\n        if (this.cache.custom) return this.cache.custom;\n      default:\n        return {\n          get() {\n            return Promise.resolve();\n          },\n          getAll() {\n            return Promise.resolve(void 0);\n          },\n          set() {\n            return Promise.resolve(void 0);\n          },\n          flush() {\n            return Promise.resolve(void 0);\n          }\n        };\n    }\n  }\n  async flushCache() {\n    return await this.cacheProvider().flush(), this.clearCacheVersion(), this;\n  }\n}\nconst pe = (n = {}) => {\n  const { apiOptions: e } = n;\n  if (!e.accessToken) {\n    console.error(\n      \"You need to provide an access token to interact with Storyblok API. Read https://www.storyblok.com/docs/api/content-delivery#topics/authentication\"\n    );\n    return;\n  }\n  return { storyblokApi: new ue(e) };\n}, ge = (n) => {\n  if (typeof n != \"object\" || typeof n._editable > \"u\")\n    return {};\n  try {\n    const e = JSON.parse(\n      n._editable.replace(/^<!--#storyblok#/, \"\").replace(/-->$/, \"\")\n    );\n    return e ? {\n      \"data-blok-c\": JSON.stringify(e),\n      \"data-blok-uid\": e.id + \"-\" + e.uid\n    } : {};\n  } catch {\n    return {};\n  }\n};\nlet R, T = \"https://app.storyblok.com/f/storyblok-v2-latest.js\";\nconst fe = (n, e, t = {}) => {\n  var s;\n  const r = !(typeof window > \"u\") && typeof window.storyblokRegisterEvent < \"u\", o = +new URL((s = window.location) == null ? void 0 : s.href).searchParams.get(\n    \"_storyblok\"\n  ) === n;\n  if (!(!r || !o)) {\n    if (!n) {\n      console.warn(\"Story ID is not defined. Please provide a valid ID.\");\n      return;\n    }\n    window.storyblokRegisterEvent(() => {\n      new window.StoryblokBridge(t).on([\"input\", \"published\", \"change\"], (i) => {\n        i.action === \"input\" && i.story.id === n ? e(i.story) : (i.action === \"change\" || i.action === \"published\") && i.storyId === n && window.location.reload();\n      });\n    });\n  }\n}, me = (n = {}) => {\n  var e, t;\n  const {\n    bridge: s,\n    accessToken: r,\n    use: o = [],\n    apiOptions: i = {},\n    richText: l = {},\n    bridgeUrl: a\n  } = n;\n  i.accessToken = i.accessToken || r;\n  const u = { bridge: s, apiOptions: i };\n  let h = {};\n  o.forEach((g) => {\n    h = { ...h, ...g(u) };\n  }), a && (T = a);\n  const d = !(typeof window > \"u\") && ((t = (e = window.location) == null ? void 0 : e.search) == null ? void 0 : t.includes(\"_storyblok_tk\"));\n  return s !== !1 && d && O(T), R = new v(l.schema), l.resolver && E(R, l.resolver), h;\n}, E = (n, e) => {\n  n.addNode(\"blok\", (t) => {\n    let s = \"\";\n    return t.attrs.body.forEach((r) => {\n      s += e(r.component, r);\n    }), {\n      html: s\n    };\n  });\n}, de = (n) => !n || !(n != null && n.content.some((e) => e.content || e.type === \"blok\" || e.type === \"horizontal_rule\")), ye = (n, e, t) => {\n  let s = t || R;\n  if (!s) {\n    console.error(\n      \"Please initialize the Storyblok SDK before calling the renderRichText function\"\n    );\n    return;\n  }\n  return de(n) ? \"\" : (e && (s = new v(e.schema), e.resolver && E(s, e.resolver)), s.render(n));\n}, be = () => O(T);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHN0b3J5Ymxvay9yZWFjdC9kaXN0L3N0b3J5Ymxvay1qcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRCxtRUFBbUUsMERBQTBEO0FBQzdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG1CQUFtQjtBQUNuQixrQkFBa0I7QUFDbEIsa0JBQWtCO0FBQ2xCLG9CQUFvQjtBQUNwQixtQkFBbUI7QUFDbkIsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBWUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0YXBwLy4vbm9kZV9tb2R1bGVzL0BzdG9yeWJsb2svcmVhY3QvZGlzdC9zdG9yeWJsb2stanMubWpzP2E1NmUiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IF8gPSAhMTtcbmNvbnN0IGogPSBbXSwgTyA9IChuKSA9PiBuZXcgUHJvbWlzZSgoZSwgdCkgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA+IFwidVwiIHx8ICh3aW5kb3cuc3RvcnlibG9rUmVnaXN0ZXJFdmVudCA9IChyKSA9PiB7XG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbiA9PT0gd2luZG93LnBhcmVudC5sb2NhdGlvbikge1xuICAgICAgY29uc29sZS53YXJuKFwiWW91IGFyZSBub3QgaW4gRHJhZnQgTW9kZSBvciBpbiB0aGUgVmlzdWFsIEVkaXRvci5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF8gPyByKCkgOiBqLnB1c2gocik7XG4gIH0sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RvcnlibG9rLWphdmFzY3JpcHQtYnJpZGdlXCIpKSkgcmV0dXJuO1xuICBjb25zdCBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgcy5hc3luYyA9ICEwLCBzLnNyYyA9IG4sIHMuaWQgPSBcInN0b3J5Ymxvay1qYXZhc2NyaXB0LWJyaWRnZVwiLCBzLm9uZXJyb3IgPSAocikgPT4gdChyKSwgcy5vbmxvYWQgPSAocikgPT4ge1xuICAgIGouZm9yRWFjaCgobykgPT4gbygpKSwgXyA9ICEwLCBlKHIpO1xuICB9LCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQocyk7XG59KTtcbnZhciBQID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBDID0gKG4sIGUsIHQpID0+IGUgaW4gbiA/IFAobiwgZSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZTogdCB9KSA6IG5bZV0gPSB0LCBjID0gKG4sIGUsIHQpID0+IEMobiwgdHlwZW9mIGUgIT0gXCJzeW1ib2xcIiA/IGUgKyBcIlwiIDogZSwgdCk7XG5mdW5jdGlvbiB4KG4pIHtcbiAgcmV0dXJuICEobiAhPT0gbiB8fCBuID09PSAxIC8gMCB8fCBuID09PSAtMSAvIDApO1xufVxuZnVuY3Rpb24gSShuLCBlLCB0KSB7XG4gIGlmICgheChlKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYGxpbWl0YCB0byBiZSBhIGZpbml0ZSBudW1iZXJcIik7XG4gIGlmICgheCh0KSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYGludGVydmFsYCB0byBiZSBhIGZpbml0ZSBudW1iZXJcIik7XG4gIGNvbnN0IHMgPSBbXTtcbiAgbGV0IHIgPSBbXSwgbyA9IDA7XG4gIGNvbnN0IGkgPSBmdW5jdGlvbigpIHtcbiAgICBvKys7XG4gICAgY29uc3QgYSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBvLS0sIHMubGVuZ3RoID4gMCAmJiBpKCksIHIgPSByLmZpbHRlcihmdW5jdGlvbihoKSB7XG4gICAgICAgIHJldHVybiBoICE9PSBhO1xuICAgICAgfSk7XG4gICAgfSwgdCk7XG4gICAgci5pbmRleE9mKGEpIDwgMCAmJiByLnB1c2goYSk7XG4gICAgY29uc3QgdSA9IHMuc2hpZnQoKTtcbiAgICB1LnJlc29sdmUobi5hcHBseSh1LnNlbGYsIHUuYXJncykpO1xuICB9LCBsID0gZnVuY3Rpb24oLi4uYSkge1xuICAgIGNvbnN0IHUgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihoLCBkKSB7XG4gICAgICBzLnB1c2goe1xuICAgICAgICByZXNvbHZlOiBoLFxuICAgICAgICByZWplY3Q6IGQsXG4gICAgICAgIGFyZ3M6IGEsXG4gICAgICAgIHNlbGY6IHVcbiAgICAgIH0pLCBvIDwgZSAmJiBpKCk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBsLmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgci5mb3JFYWNoKGNsZWFyVGltZW91dCksIHIgPSBbXSwgcy5mb3JFYWNoKGZ1bmN0aW9uKGEpIHtcbiAgICAgIGEucmVqZWN0KGZ1bmN0aW9uKCkge1xuICAgICAgICBFcnJvci5jYWxsKHRoaXMsIFwiVGhyb3R0bGVkIGZ1bmN0aW9uIGFib3J0ZWRcIiksIHRoaXMubmFtZSA9IFwiQWJvcnRFcnJvclwiO1xuICAgICAgfSk7XG4gICAgfSksIHMubGVuZ3RoID0gMDtcbiAgfSwgbDtcbn1cbmNsYXNzIGIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjKHRoaXMsIFwiaXNDRE5VcmxcIiwgKGUgPSBcIlwiKSA9PiBlLmluZGV4T2YoXCIvY2RuL1wiKSA+IC0xKSwgYyh0aGlzLCBcImdldE9wdGlvbnNQYWdlXCIsIChlLCB0ID0gMjUsIHMgPSAxKSA9PiAoe1xuICAgICAgLi4uZSxcbiAgICAgIHBlcl9wYWdlOiB0LFxuICAgICAgcGFnZTogc1xuICAgIH0pKSwgYyh0aGlzLCBcImRlbGF5XCIsIChlKSA9PiBuZXcgUHJvbWlzZSgodCkgPT4gc2V0VGltZW91dCh0LCBlKSkpLCBjKHRoaXMsIFwiYXJyYXlGcm9tXCIsIChlID0gMCwgdCkgPT4gWy4uLkFycmF5KGUpXS5tYXAodCkpLCBjKHRoaXMsIFwicmFuZ2VcIiwgKGUgPSAwLCB0ID0gZSkgPT4ge1xuICAgICAgY29uc3QgcyA9IE1hdGguYWJzKHQgLSBlKSB8fCAwLCByID0gZSA8IHQgPyAxIDogLTE7XG4gICAgICByZXR1cm4gdGhpcy5hcnJheUZyb20ocywgKG8sIGkpID0+IGkgKiByICsgZSk7XG4gICAgfSksIGModGhpcywgXCJhc3luY01hcFwiLCBhc3luYyAoZSwgdCkgPT4gUHJvbWlzZS5hbGwoZS5tYXAodCkpKSwgYyh0aGlzLCBcImZsYXRNYXBcIiwgKGUgPSBbXSwgdCkgPT4gZS5tYXAodCkucmVkdWNlKChzLCByKSA9PiBbLi4ucywgLi4ucl0sIFtdKSksIGModGhpcywgXCJlc2NhcGVIVE1MXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGNvbnN0IHQgPSB7XG4gICAgICAgIFwiJlwiOiBcIiZhbXA7XCIsXG4gICAgICAgIFwiPFwiOiBcIiZsdDtcIixcbiAgICAgICAgXCI+XCI6IFwiJmd0O1wiLFxuICAgICAgICAnXCInOiBcIiZxdW90O1wiLFxuICAgICAgICBcIidcIjogXCImIzM5O1wiXG4gICAgICB9LCBzID0gL1smPD5cIiddL2csIHIgPSBSZWdFeHAocy5zb3VyY2UpO1xuICAgICAgcmV0dXJuIGUgJiYgci50ZXN0KGUpID8gZS5yZXBsYWNlKHMsIChvKSA9PiB0W29dKSA6IGU7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2Qgc3RyaW5naWZ5XG4gICAqIEBwYXJhbSAge09iamVjdH0gcGFyYW1zXG4gICAqIEBwYXJhbSAge1N0cmluZ30gcHJlZml4XG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IGlzQXJyYXlcbiAgICogQHJldHVybiB7U3RyaW5nfSBTdHJpbmdpZmllZCBvYmplY3RcbiAgICovXG4gIHN0cmluZ2lmeShlLCB0LCBzKSB7XG4gICAgY29uc3QgciA9IFtdO1xuICAgIGZvciAoY29uc3QgbyBpbiBlKSB7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCBvKSlcbiAgICAgICAgY29udGludWU7XG4gICAgICBjb25zdCBpID0gZVtvXSwgbCA9IHMgPyBcIlwiIDogZW5jb2RlVVJJQ29tcG9uZW50KG8pO1xuICAgICAgbGV0IGE7XG4gICAgICB0eXBlb2YgaSA9PSBcIm9iamVjdFwiID8gYSA9IHRoaXMuc3RyaW5naWZ5KFxuICAgICAgICBpLFxuICAgICAgICB0ID8gdCArIGVuY29kZVVSSUNvbXBvbmVudChcIltcIiArIGwgKyBcIl1cIikgOiBsLFxuICAgICAgICBBcnJheS5pc0FycmF5KGkpXG4gICAgICApIDogYSA9ICh0ID8gdCArIGVuY29kZVVSSUNvbXBvbmVudChcIltcIiArIGwgKyBcIl1cIikgOiBsKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGkpLCByLnB1c2goYSk7XG4gICAgfVxuICAgIHJldHVybiByLmpvaW4oXCImXCIpO1xuICB9XG4gIC8qKlxuICAgKiBAbWV0aG9kIGdldFJlZ2lvblVSTFxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHJlZ2lvbkNvZGUgcmVnaW9uIGNvZGUsIGNvdWxkIGJlIGV1LCB1cywgY24sIGFwIG9yIGNhXG4gICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGJhc2UgVVJMIG9mIHRoZSByZWdpb25cbiAgICovXG4gIGdldFJlZ2lvblVSTChlKSB7XG4gICAgY29uc3QgdCA9IFwiYXBpLnN0b3J5Ymxvay5jb21cIiwgcyA9IFwiYXBpLXVzLnN0b3J5Ymxvay5jb21cIiwgciA9IFwiYXBwLnN0b3J5Ymxva2NoaW5hLmNuXCIsIG8gPSBcImFwaS1hcC5zdG9yeWJsb2suY29tXCIsIGkgPSBcImFwaS1jYS5zdG9yeWJsb2suY29tXCI7XG4gICAgc3dpdGNoIChlKSB7XG4gICAgICBjYXNlIFwidXNcIjpcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgICBjYXNlIFwiY25cIjpcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgICBjYXNlIFwiYXBcIjpcbiAgICAgICAgcmV0dXJuIG87XG4gICAgICBjYXNlIFwiY2FcIjpcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IEEgPSBmdW5jdGlvbihuLCBlKSB7XG4gIGNvbnN0IHQgPSB7fTtcbiAgZm9yIChjb25zdCBzIGluIG4pIHtcbiAgICBjb25zdCByID0gbltzXTtcbiAgICBlLmluZGV4T2YocykgPiAtMSAmJiByICE9PSBudWxsICYmICh0W3NdID0gcik7XG4gIH1cbiAgcmV0dXJuIHQ7XG59LCBOID0gKG4pID0+IG4gPT09IFwiZW1haWxcIiwgTCA9ICgpID0+ICh7XG4gIHNpbmdsZVRhZzogXCJoclwiXG59KSwgTSA9ICgpID0+ICh7XG4gIHRhZzogXCJibG9ja3F1b3RlXCJcbn0pLCBIID0gKCkgPT4gKHtcbiAgdGFnOiBcInVsXCJcbn0pLCBVID0gKG4pID0+ICh7XG4gIHRhZzogW1xuICAgIFwicHJlXCIsXG4gICAge1xuICAgICAgdGFnOiBcImNvZGVcIixcbiAgICAgIGF0dHJzOiBuLmF0dHJzXG4gICAgfVxuICBdXG59KSwgeiA9ICgpID0+ICh7XG4gIHNpbmdsZVRhZzogXCJiclwiXG59KSwgcSA9IChuKSA9PiAoe1xuICB0YWc6IGBoJHtuLmF0dHJzLmxldmVsfWBcbn0pLCBCID0gKG4pID0+ICh7XG4gIHNpbmdsZVRhZzogW1xuICAgIHtcbiAgICAgIHRhZzogXCJpbWdcIixcbiAgICAgIGF0dHJzOiBBKG4uYXR0cnMsIFtcInNyY1wiLCBcImFsdFwiLCBcInRpdGxlXCJdKVxuICAgIH1cbiAgXVxufSksIEQgPSAoKSA9PiAoe1xuICB0YWc6IFwibGlcIlxufSksIFYgPSAoKSA9PiAoe1xuICB0YWc6IFwib2xcIlxufSksIEogPSAoKSA9PiAoe1xuICB0YWc6IFwicFwiXG59KSwgRiA9IChuKSA9PiAoe1xuICB0YWc6IFtcbiAgICB7XG4gICAgICB0YWc6IFwic3BhblwiLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgXCJkYXRhLXR5cGVcIjogXCJlbW9qaVwiLFxuICAgICAgICBcImRhdGEtbmFtZVwiOiBuLmF0dHJzLm5hbWUsXG4gICAgICAgIGVtb2ppOiBuLmF0dHJzLmVtb2ppXG4gICAgICB9XG4gICAgfVxuICBdXG59KSwgVyA9ICgpID0+ICh7XG4gIHRhZzogXCJiXCJcbn0pLCBZID0gKCkgPT4gKHtcbiAgdGFnOiBcInNcIlxufSksIEsgPSAoKSA9PiAoe1xuICB0YWc6IFwidVwiXG59KSwgUSA9ICgpID0+ICh7XG4gIHRhZzogXCJzdHJvbmdcIlxufSksIFggPSAoKSA9PiAoe1xuICB0YWc6IFwiY29kZVwiXG59KSwgWiA9ICgpID0+ICh7XG4gIHRhZzogXCJpXCJcbn0pLCBHID0gKG4pID0+IHtcbiAgaWYgKCFuLmF0dHJzKVxuICAgIHJldHVybiB7XG4gICAgICB0YWc6IFwiXCJcbiAgICB9O1xuICBjb25zdCBlID0gbmV3IGIoKS5lc2NhcGVIVE1MLCB0ID0geyAuLi5uLmF0dHJzIH0sIHsgbGlua3R5cGU6IHMgPSBcInVybFwiIH0gPSBuLmF0dHJzO1xuICBpZiAoZGVsZXRlIHQubGlua3R5cGUsIHQuaHJlZiAmJiAodC5ocmVmID0gZShuLmF0dHJzLmhyZWYgfHwgXCJcIikpLCBOKHMpICYmICh0LmhyZWYgPSBgbWFpbHRvOiR7dC5ocmVmfWApLCB0LmFuY2hvciAmJiAodC5ocmVmID0gYCR7dC5ocmVmfSMke3QuYW5jaG9yfWAsIGRlbGV0ZSB0LmFuY2hvciksIHQuY3VzdG9tKSB7XG4gICAgZm9yIChjb25zdCByIGluIHQuY3VzdG9tKVxuICAgICAgdFtyXSA9IHQuY3VzdG9tW3JdO1xuICAgIGRlbGV0ZSB0LmN1c3RvbTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHRhZzogW1xuICAgICAge1xuICAgICAgICB0YWc6IFwiYVwiLFxuICAgICAgICBhdHRyczogdFxuICAgICAgfVxuICAgIF1cbiAgfTtcbn0sIGVlID0gKG4pID0+ICh7XG4gIHRhZzogW1xuICAgIHtcbiAgICAgIHRhZzogXCJzcGFuXCIsXG4gICAgICBhdHRyczogbi5hdHRyc1xuICAgIH1cbiAgXVxufSksIHRlID0gKCkgPT4gKHtcbiAgdGFnOiBcInN1YlwiXG59KSwgc2UgPSAoKSA9PiAoe1xuICB0YWc6IFwic3VwXCJcbn0pLCByZSA9IChuKSA9PiAoe1xuICB0YWc6IFtcbiAgICB7XG4gICAgICB0YWc6IFwic3BhblwiLFxuICAgICAgYXR0cnM6IG4uYXR0cnNcbiAgICB9XG4gIF1cbn0pLCBvZSA9IChuKSA9PiB7XG4gIHZhciBlO1xuICByZXR1cm4gKGUgPSBuLmF0dHJzKSAhPSBudWxsICYmIGUuY29sb3IgPyB7XG4gICAgdGFnOiBbXG4gICAgICB7XG4gICAgICAgIHRhZzogXCJzcGFuXCIsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgc3R5bGU6IGBiYWNrZ3JvdW5kLWNvbG9yOiR7bi5hdHRycy5jb2xvcn07YFxuICAgICAgICB9XG4gICAgICB9XG4gICAgXVxuICB9IDoge1xuICAgIHRhZzogXCJcIlxuICB9O1xufSwgaWUgPSAobikgPT4ge1xuICB2YXIgZTtcbiAgcmV0dXJuIChlID0gbi5hdHRycykgIT0gbnVsbCAmJiBlLmNvbG9yID8ge1xuICAgIHRhZzogW1xuICAgICAge1xuICAgICAgICB0YWc6IFwic3BhblwiLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHN0eWxlOiBgY29sb3I6JHtuLmF0dHJzLmNvbG9yfWBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfSA6IHtcbiAgICB0YWc6IFwiXCJcbiAgfTtcbn0sIG5lID0ge1xuICBub2Rlczoge1xuICAgIGhvcml6b250YWxfcnVsZTogTCxcbiAgICBibG9ja3F1b3RlOiBNLFxuICAgIGJ1bGxldF9saXN0OiBILFxuICAgIGNvZGVfYmxvY2s6IFUsXG4gICAgaGFyZF9icmVhazogeixcbiAgICBoZWFkaW5nOiBxLFxuICAgIGltYWdlOiBCLFxuICAgIGxpc3RfaXRlbTogRCxcbiAgICBvcmRlcmVkX2xpc3Q6IFYsXG4gICAgcGFyYWdyYXBoOiBKLFxuICAgIGVtb2ppOiBGXG4gIH0sXG4gIG1hcmtzOiB7XG4gICAgYm9sZDogVyxcbiAgICBzdHJpa2U6IFksXG4gICAgdW5kZXJsaW5lOiBLLFxuICAgIHN0cm9uZzogUSxcbiAgICBjb2RlOiBYLFxuICAgIGl0YWxpYzogWixcbiAgICBsaW5rOiBHLFxuICAgIHN0eWxlZDogZWUsXG4gICAgc3Vic2NyaXB0OiB0ZSxcbiAgICBzdXBlcnNjcmlwdDogc2UsXG4gICAgYW5jaG9yOiByZSxcbiAgICBoaWdobGlnaHQ6IG9lLFxuICAgIHRleHRTdHlsZTogaWVcbiAgfVxufSwgYWUgPSBmdW5jdGlvbihuKSB7XG4gIGNvbnN0IGUgPSB7XG4gICAgXCImXCI6IFwiJmFtcDtcIixcbiAgICBcIjxcIjogXCImbHQ7XCIsXG4gICAgXCI+XCI6IFwiJmd0O1wiLFxuICAgICdcIic6IFwiJnF1b3Q7XCIsXG4gICAgXCInXCI6IFwiJiMzOTtcIlxuICB9LCB0ID0gL1smPD5cIiddL2csIHMgPSBSZWdFeHAodC5zb3VyY2UpO1xuICByZXR1cm4gbiAmJiBzLnRlc3QobikgPyBuLnJlcGxhY2UodCwgKHIpID0+IGVbcl0pIDogbjtcbn07XG5jbGFzcyBsZSB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBjKHRoaXMsIFwibWFya3NcIiksIGModGhpcywgXCJub2Rlc1wiKSwgZSB8fCAoZSA9IG5lKSwgdGhpcy5tYXJrcyA9IGUubWFya3MgfHwgW10sIHRoaXMubm9kZXMgPSBlLm5vZGVzIHx8IFtdO1xuICB9XG4gIGFkZE5vZGUoZSwgdCkge1xuICAgIHRoaXMubm9kZXNbZV0gPSB0O1xuICB9XG4gIGFkZE1hcmsoZSwgdCkge1xuICAgIHRoaXMubWFya3NbZV0gPSB0O1xuICB9XG4gIHJlbmRlcihlLCB0ID0geyBvcHRpbWl6ZUltYWdlczogITEgfSkge1xuICAgIGlmIChjb25zb2xlLndhcm4oXG4gICAgICBcIldhcm5pbmcg4pqg77iPOiBUaGUgUmljaFRleHRSZXNvbHZlciBjbGFzcyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHVzZSB0aGUgYEBzdG9yeWJsb2svcmljaHRleHRgIHBhY2thZ2UgaW5zdGVhZC4gaHR0cHM6Ly9naXRodWIuY29tL3N0b3J5Ymxvay9yaWNodGV4dC9cIlxuICAgICksIGUgJiYgZS5jb250ZW50ICYmIEFycmF5LmlzQXJyYXkoZS5jb250ZW50KSkge1xuICAgICAgbGV0IHMgPSBcIlwiO1xuICAgICAgcmV0dXJuIGUuY29udGVudC5mb3JFYWNoKChyKSA9PiB7XG4gICAgICAgIHMgKz0gdGhpcy5yZW5kZXJOb2RlKHIpO1xuICAgICAgfSksIHQub3B0aW1pemVJbWFnZXMgPyB0aGlzLm9wdGltaXplSW1hZ2VzKHMsIHQub3B0aW1pemVJbWFnZXMpIDogcztcbiAgICB9XG4gICAgcmV0dXJuIGNvbnNvbGUud2FybihcbiAgICAgIGBUaGUgcmVuZGVyIG1ldGhvZCBtdXN0IHJlY2VpdmUgYW4gT2JqZWN0IHdpdGggYSBcImNvbnRlbnRcIiBmaWVsZC5cblx0XHRcdFRoZSBcImNvbnRlbnRcIiBmaWVsZCBtdXN0IGJlIGFuIGFycmF5IG9mIG5vZGVzIGFzIHRoZSB0eXBlIElTYlJpY2h0ZXh0LlxuXHRcdFx0SVNiUmljaHRleHQ6XG5cdFx0XHRcdGNvbnRlbnQ/OiBJU2JSaWNodGV4dFtdXG5cdFx0XHRcdG1hcmtzPzogSVNiUmljaHRleHRbXVxuXHRcdFx0XHRhdHRycz86IGFueVxuXHRcdFx0XHR0ZXh0Pzogc3RyaW5nXG5cdFx0XHRcdHR5cGU6IHN0cmluZ1xuXHRcdFx0XHRcblx0XHRcdFx0RXhhbXBsZTpcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbnRlbnQ6IFtcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0Y29udGVudDogW1xuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdHRleHQ6ICdIZWxsbyBXb3JsZCcsXG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiAndGV4dCdcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0XHRcdHR5cGU6ICdwYXJhZ3JhcGgnXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XSxcblx0XHRcdFx0XHR0eXBlOiAnZG9jJ1xuXHRcdFx0XHR9YFxuICAgICksIFwiXCI7XG4gIH1cbiAgb3B0aW1pemVJbWFnZXMoZSwgdCkge1xuICAgIGxldCBzID0gMCwgciA9IDAsIG8gPSBcIlwiLCBpID0gXCJcIjtcbiAgICB0eXBlb2YgdCAhPSBcImJvb2xlYW5cIiAmJiAodHlwZW9mIHQud2lkdGggPT0gXCJudW1iZXJcIiAmJiB0LndpZHRoID4gMCAmJiAobyArPSBgd2lkdGg9XCIke3Qud2lkdGh9XCIgYCwgcyA9IHQud2lkdGgpLCB0eXBlb2YgdC5oZWlnaHQgPT0gXCJudW1iZXJcIiAmJiB0LmhlaWdodCA+IDAgJiYgKG8gKz0gYGhlaWdodD1cIiR7dC5oZWlnaHR9XCIgYCwgciA9IHQuaGVpZ2h0KSwgKHQubG9hZGluZyA9PT0gXCJsYXp5XCIgfHwgdC5sb2FkaW5nID09PSBcImVhZ2VyXCIpICYmIChvICs9IGBsb2FkaW5nPVwiJHt0LmxvYWRpbmd9XCIgYCksIHR5cGVvZiB0LmNsYXNzID09IFwic3RyaW5nXCIgJiYgdC5jbGFzcy5sZW5ndGggPiAwICYmIChvICs9IGBjbGFzcz1cIiR7dC5jbGFzc31cIiBgKSwgdC5maWx0ZXJzICYmICh0eXBlb2YgdC5maWx0ZXJzLmJsdXIgPT0gXCJudW1iZXJcIiAmJiB0LmZpbHRlcnMuYmx1ciA+PSAwICYmIHQuZmlsdGVycy5ibHVyIDw9IDEwMCAmJiAoaSArPSBgOmJsdXIoJHt0LmZpbHRlcnMuYmx1cn0pYCksIHR5cGVvZiB0LmZpbHRlcnMuYnJpZ2h0bmVzcyA9PSBcIm51bWJlclwiICYmIHQuZmlsdGVycy5icmlnaHRuZXNzID49IC0xMDAgJiYgdC5maWx0ZXJzLmJyaWdodG5lc3MgPD0gMTAwICYmIChpICs9IGA6YnJpZ2h0bmVzcygke3QuZmlsdGVycy5icmlnaHRuZXNzfSlgKSwgdC5maWx0ZXJzLmZpbGwgJiYgKHQuZmlsdGVycy5maWxsLm1hdGNoKC9bMC05QS1GYS1mXXs2fS9nKSB8fCB0LmZpbHRlcnMuZmlsbCA9PT0gXCJ0cmFuc3BhcmVudFwiKSAmJiAoaSArPSBgOmZpbGwoJHt0LmZpbHRlcnMuZmlsbH0pYCksIHQuZmlsdGVycy5mb3JtYXQgJiYgW1wid2VicFwiLCBcInBuZ1wiLCBcImpwZWdcIl0uaW5jbHVkZXModC5maWx0ZXJzLmZvcm1hdCkgJiYgKGkgKz0gYDpmb3JtYXQoJHt0LmZpbHRlcnMuZm9ybWF0fSlgKSwgdHlwZW9mIHQuZmlsdGVycy5ncmF5c2NhbGUgPT0gXCJib29sZWFuXCIgJiYgdC5maWx0ZXJzLmdyYXlzY2FsZSAmJiAoaSArPSBcIjpncmF5c2NhbGUoKVwiKSwgdHlwZW9mIHQuZmlsdGVycy5xdWFsaXR5ID09IFwibnVtYmVyXCIgJiYgdC5maWx0ZXJzLnF1YWxpdHkgPj0gMCAmJiB0LmZpbHRlcnMucXVhbGl0eSA8PSAxMDAgJiYgKGkgKz0gYDpxdWFsaXR5KCR7dC5maWx0ZXJzLnF1YWxpdHl9KWApLCB0LmZpbHRlcnMucm90YXRlICYmIFs5MCwgMTgwLCAyNzBdLmluY2x1ZGVzKHQuZmlsdGVycy5yb3RhdGUpICYmIChpICs9IGA6cm90YXRlKCR7dC5maWx0ZXJzLnJvdGF0ZX0pYCksIGkubGVuZ3RoID4gMCAmJiAoaSA9IFwiL2ZpbHRlcnNcIiArIGkpKSksIG8ubGVuZ3RoID4gMCAmJiAoZSA9IGUucmVwbGFjZSgvPGltZy9nLCBgPGltZyAke28udHJpbSgpfWApKTtcbiAgICBjb25zdCBsID0gcyA+IDAgfHwgciA+IDAgfHwgaS5sZW5ndGggPiAwID8gYCR7c314JHtyfSR7aX1gIDogXCJcIjtcbiAgICByZXR1cm4gZSA9IGUucmVwbGFjZShcbiAgICAgIC9hLnN0b3J5Ymxvay5jb21cXC9mXFwvKFxcZCspXFwvKFteLl0rKVxcLihnaWZ8anBnfGpwZWd8cG5nfHRpZnx0aWZmfGJtcCkvZyxcbiAgICAgIGBhLnN0b3J5Ymxvay5jb20vZi8kMS8kMi4kMy9tLyR7bH1gXG4gICAgKSwgdHlwZW9mIHQgIT0gXCJib29sZWFuXCIgJiYgKHQuc2l6ZXMgfHwgdC5zcmNzZXQpICYmIChlID0gZS5yZXBsYWNlKC88aW1nLio/c3JjPVtcInwnXSguKj8pW1wifCddL2csIChhKSA9PiB7XG4gICAgICB2YXIgdSwgaDtcbiAgICAgIGNvbnN0IGQgPSBhLm1hdGNoKFxuICAgICAgICAvYS5zdG9yeWJsb2suY29tXFwvZlxcLyhcXGQrKVxcLyhbXi5dKylcXC4oZ2lmfGpwZ3xqcGVnfHBuZ3x0aWZ8dGlmZnxibXApL2dcbiAgICAgICk7XG4gICAgICBpZiAoZCAmJiBkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZyA9IHtcbiAgICAgICAgICBzcmNzZXQ6ICh1ID0gdC5zcmNzZXQpID09IG51bGwgPyB2b2lkIDAgOiB1Lm1hcCgocCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwID09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgIHJldHVybiBgLy8ke2R9L20vJHtwfXgwJHtpfSAke3B9d2A7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHAgPT0gXCJvYmplY3RcIiAmJiBwLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICBsZXQgayA9IDAsICQgPSAwO1xuICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHBbMF0gPT0gXCJudW1iZXJcIiAmJiAoayA9IHBbMF0pLCB0eXBlb2YgcFsxXSA9PSBcIm51bWJlclwiICYmICgkID0gcFsxXSksIGAvLyR7ZH0vbS8ke2t9eCR7JH0ke2l9ICR7a313YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5qb2luKFwiLCBcIiksXG4gICAgICAgICAgc2l6ZXM6IChoID0gdC5zaXplcykgPT0gbnVsbCA/IHZvaWQgMCA6IGgubWFwKChwKSA9PiBwKS5qb2luKFwiLCBcIilcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGYgPSBcIlwiO1xuICAgICAgICByZXR1cm4gZy5zcmNzZXQgJiYgKGYgKz0gYHNyY3NldD1cIiR7Zy5zcmNzZXR9XCIgYCksIGcuc2l6ZXMgJiYgKGYgKz0gYHNpemVzPVwiJHtnLnNpemVzfVwiIGApLCBhLnJlcGxhY2UoLzxpbWcvZywgYDxpbWcgJHtmLnRyaW0oKX1gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhO1xuICAgIH0pKSwgZTtcbiAgfVxuICByZW5kZXJOb2RlKGUpIHtcbiAgICBjb25zdCB0ID0gW107XG4gICAgZS5tYXJrcyAmJiBlLm1hcmtzLmZvckVhY2goKHIpID0+IHtcbiAgICAgIGNvbnN0IG8gPSB0aGlzLmdldE1hdGNoaW5nTWFyayhyKTtcbiAgICAgIG8gJiYgby50YWcgIT09IFwiXCIgJiYgdC5wdXNoKHRoaXMucmVuZGVyT3BlbmluZ1RhZyhvLnRhZykpO1xuICAgIH0pO1xuICAgIGNvbnN0IHMgPSB0aGlzLmdldE1hdGNoaW5nTm9kZShlKTtcbiAgICByZXR1cm4gcyAmJiBzLnRhZyAmJiB0LnB1c2godGhpcy5yZW5kZXJPcGVuaW5nVGFnKHMudGFnKSksIGUuY29udGVudCA/IGUuY29udGVudC5mb3JFYWNoKChyKSA9PiB7XG4gICAgICB0LnB1c2godGhpcy5yZW5kZXJOb2RlKHIpKTtcbiAgICB9KSA6IGUudGV4dCA/IHQucHVzaChhZShlLnRleHQpKSA6IHMgJiYgcy5zaW5nbGVUYWcgPyB0LnB1c2godGhpcy5yZW5kZXJUYWcocy5zaW5nbGVUYWcsIFwiIC9cIikpIDogcyAmJiBzLmh0bWwgPyB0LnB1c2gocy5odG1sKSA6IGUudHlwZSA9PT0gXCJlbW9qaVwiICYmIHQucHVzaCh0aGlzLnJlbmRlckVtb2ppKGUpKSwgcyAmJiBzLnRhZyAmJiB0LnB1c2godGhpcy5yZW5kZXJDbG9zaW5nVGFnKHMudGFnKSksIGUubWFya3MgJiYgZS5tYXJrcy5zbGljZSgwKS5yZXZlcnNlKCkuZm9yRWFjaCgocikgPT4ge1xuICAgICAgY29uc3QgbyA9IHRoaXMuZ2V0TWF0Y2hpbmdNYXJrKHIpO1xuICAgICAgbyAmJiBvLnRhZyAhPT0gXCJcIiAmJiB0LnB1c2godGhpcy5yZW5kZXJDbG9zaW5nVGFnKG8udGFnKSk7XG4gICAgfSksIHQuam9pbihcIlwiKTtcbiAgfVxuICByZW5kZXJUYWcoZSwgdCkge1xuICAgIHJldHVybiBlLmNvbnN0cnVjdG9yID09PSBTdHJpbmcgPyBgPCR7ZX0ke3R9PmAgOiBlLm1hcCgocykgPT4ge1xuICAgICAgaWYgKHMuY29uc3RydWN0b3IgPT09IFN0cmluZylcbiAgICAgICAgcmV0dXJuIGA8JHtzfSR7dH0+YDtcbiAgICAgIHtcbiAgICAgICAgbGV0IHIgPSBgPCR7cy50YWd9YDtcbiAgICAgICAgaWYgKHMuYXR0cnMpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IG8gaW4gcy5hdHRycylcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocy5hdHRycywgbykpIHtcbiAgICAgICAgICAgICAgY29uc3QgaSA9IHMuYXR0cnNbb107XG4gICAgICAgICAgICAgIGkgIT09IG51bGwgJiYgKHIgKz0gYCAke299PVwiJHtpfVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke3J9JHt0fT5gO1xuICAgICAgfVxuICAgIH0pLmpvaW4oXCJcIik7XG4gIH1cbiAgcmVuZGVyT3BlbmluZ1RhZyhlKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyVGFnKGUsIFwiXCIpO1xuICB9XG4gIHJlbmRlckNsb3NpbmdUYWcoZSkge1xuICAgIHJldHVybiBlLmNvbnN0cnVjdG9yID09PSBTdHJpbmcgPyBgPC8ke2V9PmAgOiBlLnNsaWNlKDApLnJldmVyc2UoKS5tYXAoKHQpID0+IHQuY29uc3RydWN0b3IgPT09IFN0cmluZyA/IGA8LyR7dH0+YCA6IGA8LyR7dC50YWd9PmApLmpvaW4oXCJcIik7XG4gIH1cbiAgZ2V0TWF0Y2hpbmdOb2RlKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5ub2Rlc1tlLnR5cGVdO1xuICAgIGlmICh0eXBlb2YgdCA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICByZXR1cm4gdChlKTtcbiAgfVxuICBnZXRNYXRjaGluZ01hcmsoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLm1hcmtzW2UudHlwZV07XG4gICAgaWYgKHR5cGVvZiB0ID09IFwiZnVuY3Rpb25cIilcbiAgICAgIHJldHVybiB0KGUpO1xuICB9XG4gIHJlbmRlckVtb2ppKGUpIHtcbiAgICBpZiAoZS5hdHRycy5lbW9qaSlcbiAgICAgIHJldHVybiBlLmF0dHJzLmVtb2ppO1xuICAgIGNvbnN0IHQgPSBbXG4gICAgICB7XG4gICAgICAgIHRhZzogXCJpbWdcIixcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBzcmM6IGUuYXR0cnMuZmFsbGJhY2tJbWFnZSxcbiAgICAgICAgICBkcmFnZ2FibGU6IFwiZmFsc2VcIixcbiAgICAgICAgICBsb2FkaW5nOiBcImxhenlcIixcbiAgICAgICAgICBhbGlnbjogXCJhYnNtaWRkbGVcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgXTtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJUYWcodCwgXCIgL1wiKTtcbiAgfVxufVxuY29uc3QgdiA9IGxlO1xuY2xhc3MgY2Uge1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgYyh0aGlzLCBcImJhc2VVUkxcIiksIGModGhpcywgXCJ0aW1lb3V0XCIpLCBjKHRoaXMsIFwiaGVhZGVyc1wiKSwgYyh0aGlzLCBcInJlc3BvbnNlSW50ZXJjZXB0b3JcIiksIGModGhpcywgXCJmZXRjaFwiKSwgYyh0aGlzLCBcImVqZWN0SW50ZXJjZXB0b3JcIiksIGModGhpcywgXCJ1cmxcIiksIGModGhpcywgXCJwYXJhbWV0ZXJzXCIpLCBjKHRoaXMsIFwiZmV0Y2hPcHRpb25zXCIpLCB0aGlzLmJhc2VVUkwgPSBlLmJhc2VVUkwsIHRoaXMuaGVhZGVycyA9IGUuaGVhZGVycyB8fCBuZXcgSGVhZGVycygpLCB0aGlzLnRpbWVvdXQgPSBlICE9IG51bGwgJiYgZS50aW1lb3V0ID8gZS50aW1lb3V0ICogMWUzIDogMCwgdGhpcy5yZXNwb25zZUludGVyY2VwdG9yID0gZS5yZXNwb25zZUludGVyY2VwdG9yLCB0aGlzLmZldGNoID0gKC4uLnQpID0+IGUuZmV0Y2ggPyBlLmZldGNoKC4uLnQpIDogZmV0Y2goLi4udCksIHRoaXMuZWplY3RJbnRlcmNlcHRvciA9ICExLCB0aGlzLnVybCA9IFwiXCIsIHRoaXMucGFyYW1ldGVycyA9IHt9LCB0aGlzLmZldGNoT3B0aW9ucyA9IHt9O1xuICB9XG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gdXJsIHN0cmluZ1xuICAgKiBAcGFyYW0gcGFyYW1zIElTYlN0b3JpZXNQYXJhbXNcbiAgICogQHJldHVybnMgUHJvbWlzZTxJU2JSZXNwb25zZSB8IEVycm9yPlxuICAgKi9cbiAgZ2V0KGUsIHQpIHtcbiAgICByZXR1cm4gdGhpcy51cmwgPSBlLCB0aGlzLnBhcmFtZXRlcnMgPSB0LCB0aGlzLl9tZXRob2RIYW5kbGVyKFwiZ2V0XCIpO1xuICB9XG4gIHBvc3QoZSwgdCkge1xuICAgIHJldHVybiB0aGlzLnVybCA9IGUsIHRoaXMucGFyYW1ldGVycyA9IHQsIHRoaXMuX21ldGhvZEhhbmRsZXIoXCJwb3N0XCIpO1xuICB9XG4gIHB1dChlLCB0KSB7XG4gICAgcmV0dXJuIHRoaXMudXJsID0gZSwgdGhpcy5wYXJhbWV0ZXJzID0gdCwgdGhpcy5fbWV0aG9kSGFuZGxlcihcInB1dFwiKTtcbiAgfVxuICBkZWxldGUoZSwgdCkge1xuICAgIHJldHVybiB0aGlzLnVybCA9IGUsIHRoaXMucGFyYW1ldGVycyA9IHQsIHRoaXMuX21ldGhvZEhhbmRsZXIoXCJkZWxldGVcIik7XG4gIH1cbiAgYXN5bmMgX3Jlc3BvbnNlSGFuZGxlcihlKSB7XG4gICAgY29uc3QgdCA9IFtdLCBzID0ge1xuICAgICAgZGF0YToge30sXG4gICAgICBoZWFkZXJzOiB7fSxcbiAgICAgIHN0YXR1czogMCxcbiAgICAgIHN0YXR1c1RleHQ6IFwiXCJcbiAgICB9O1xuICAgIGUuc3RhdHVzICE9PSAyMDQgJiYgYXdhaXQgZS5qc29uKCkudGhlbigocikgPT4ge1xuICAgICAgcy5kYXRhID0gcjtcbiAgICB9KTtcbiAgICBmb3IgKGNvbnN0IHIgb2YgZS5oZWFkZXJzLmVudHJpZXMoKSlcbiAgICAgIHRbclswXV0gPSByWzFdO1xuICAgIHJldHVybiBzLmhlYWRlcnMgPSB7IC4uLnQgfSwgcy5zdGF0dXMgPSBlLnN0YXR1cywgcy5zdGF0dXNUZXh0ID0gZS5zdGF0dXNUZXh0LCBzO1xuICB9XG4gIGFzeW5jIF9tZXRob2RIYW5kbGVyKGUpIHtcbiAgICBsZXQgdCA9IGAke3RoaXMuYmFzZVVSTH0ke3RoaXMudXJsfWAsIHMgPSBudWxsO1xuICAgIGlmIChlID09PSBcImdldFwiKSB7XG4gICAgICBjb25zdCBhID0gbmV3IGIoKTtcbiAgICAgIHQgPSBgJHt0aGlzLmJhc2VVUkx9JHt0aGlzLnVybH0/JHthLnN0cmluZ2lmeShcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzXG4gICAgICApfWA7XG4gICAgfSBlbHNlXG4gICAgICBzID0gSlNPTi5zdHJpbmdpZnkodGhpcy5wYXJhbWV0ZXJzKTtcbiAgICBjb25zdCByID0gbmV3IFVSTCh0KSwgbyA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKSwgeyBzaWduYWw6IGkgfSA9IG87XG4gICAgbGV0IGw7XG4gICAgdGhpcy50aW1lb3V0ICYmIChsID0gc2V0VGltZW91dCgoKSA9PiBvLmFib3J0KCksIHRoaXMudGltZW91dCkpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhID0gYXdhaXQgdGhpcy5mZXRjaChgJHtyfWAsIHtcbiAgICAgICAgbWV0aG9kOiBlLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgIGJvZHk6IHMsXG4gICAgICAgIHNpZ25hbDogaSxcbiAgICAgICAgLi4udGhpcy5mZXRjaE9wdGlvbnNcbiAgICAgIH0pO1xuICAgICAgdGhpcy50aW1lb3V0ICYmIGNsZWFyVGltZW91dChsKTtcbiAgICAgIGNvbnN0IHUgPSBhd2FpdCB0aGlzLl9yZXNwb25zZUhhbmRsZXIoXG4gICAgICAgIGFcbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhpcy5yZXNwb25zZUludGVyY2VwdG9yICYmICF0aGlzLmVqZWN0SW50ZXJjZXB0b3IgPyB0aGlzLl9zdGF0dXNIYW5kbGVyKHRoaXMucmVzcG9uc2VJbnRlcmNlcHRvcih1KSkgOiB0aGlzLl9zdGF0dXNIYW5kbGVyKHUpO1xuICAgIH0gY2F0Y2ggKGEpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IGFcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHNldEZldGNoT3B0aW9ucyhlID0ge30pIHtcbiAgICBPYmplY3Qua2V5cyhlKS5sZW5ndGggPiAwICYmIFwibWV0aG9kXCIgaW4gZSAmJiBkZWxldGUgZS5tZXRob2QsIHRoaXMuZmV0Y2hPcHRpb25zID0geyAuLi5lIH07XG4gIH1cbiAgZWplY3QoKSB7XG4gICAgdGhpcy5lamVjdEludGVyY2VwdG9yID0gITA7XG4gIH1cbiAgX3N0YXR1c0hhbmRsZXIoZSkge1xuICAgIGNvbnN0IHQgPSAvMjBbMC02XS9nO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocywgcikgPT4ge1xuICAgICAgaWYgKHQudGVzdChgJHtlLnN0YXR1c31gKSlcbiAgICAgICAgcmV0dXJuIHMoZSk7XG4gICAgICBjb25zdCBvID0ge1xuICAgICAgICBtZXNzYWdlOiBlLnN0YXR1c1RleHQsXG4gICAgICAgIHN0YXR1czogZS5zdGF0dXMsXG4gICAgICAgIHJlc3BvbnNlOiBBcnJheS5pc0FycmF5KGUuZGF0YSkgPyBlLmRhdGFbMF0gOiBlLmRhdGEuZXJyb3IgfHwgZS5kYXRhLnNsdWdcbiAgICAgIH07XG4gICAgICByKG8pO1xuICAgIH0pO1xuICB9XG59XG5jb25zdCBoZSA9IGNlLCBTID0gXCJTQi1BZ2VudFwiLCB3ID0ge1xuICBkZWZhdWx0QWdlbnROYW1lOiBcIlNCLUpTLUNMSUVOVFwiLFxuICBkZWZhdWx0QWdlbnRWZXJzaW9uOiBcIlNCLUFnZW50LVZlcnNpb25cIixcbiAgcGFja2FnZVZlcnNpb246IFwiNi4wLjBcIlxufTtcbmxldCB5ID0ge307XG5jb25zdCBtID0ge307XG5jbGFzcyB1ZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gY29uZmlnIElTYkNvbmZpZyBpbnRlcmZhY2VcbiAgICogQHBhcmFtIGVuZHBvaW50IHN0cmluZywgb3B0aW9uYWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICBjKHRoaXMsIFwiY2xpZW50XCIpLCBjKHRoaXMsIFwibWF4UmV0cmllc1wiKSwgYyh0aGlzLCBcInJldHJpZXNEZWxheVwiKSwgYyh0aGlzLCBcInRocm90dGxlXCIpLCBjKHRoaXMsIFwiYWNjZXNzVG9rZW5cIiksIGModGhpcywgXCJjYWNoZVwiKSwgYyh0aGlzLCBcImhlbHBlcnNcIiksIGModGhpcywgXCJyZXNvbHZlQ291bnRlclwiKSwgYyh0aGlzLCBcInJlbGF0aW9uc1wiKSwgYyh0aGlzLCBcImxpbmtzXCIpLCBjKHRoaXMsIFwicmljaFRleHRSZXNvbHZlclwiKSwgYyh0aGlzLCBcInJlc29sdmVOZXN0ZWRSZWxhdGlvbnNcIiksIGModGhpcywgXCJzdHJpbmdpZmllZFN0b3JpZXNDYWNoZVwiKTtcbiAgICBsZXQgcyA9IGUuZW5kcG9pbnQgfHwgdDtcbiAgICBpZiAoIXMpIHtcbiAgICAgIGNvbnN0IGkgPSBuZXcgYigpLmdldFJlZ2lvblVSTCwgbCA9IGUuaHR0cHMgPT09ICExID8gXCJodHRwXCIgOiBcImh0dHBzXCI7XG4gICAgICBlLm9hdXRoVG9rZW4gPyBzID0gYCR7bH06Ly8ke2koZS5yZWdpb24pfS92MWAgOiBzID0gYCR7bH06Ly8ke2koZS5yZWdpb24pfS92MmA7XG4gICAgfVxuICAgIGNvbnN0IHIgPSBuZXcgSGVhZGVycygpO1xuICAgIHIuc2V0KFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKSwgci5zZXQoXCJBY2NlcHRcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpLCBlLmhlYWRlcnMgJiYgKGUuaGVhZGVycy5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIkhlYWRlcnNcIiA/IGUuaGVhZGVycy5lbnRyaWVzKCkudG9BcnJheSgpIDogT2JqZWN0LmVudHJpZXMoZS5oZWFkZXJzKSkuZm9yRWFjaCgoW2ksIGxdKSA9PiB7XG4gICAgICByLnNldChpLCBsKTtcbiAgICB9KSwgci5oYXMoUykgfHwgKHIuc2V0KFMsIHcuZGVmYXVsdEFnZW50TmFtZSksIHIuc2V0KFxuICAgICAgdy5kZWZhdWx0QWdlbnRWZXJzaW9uLFxuICAgICAgdy5wYWNrYWdlVmVyc2lvblxuICAgICkpO1xuICAgIGxldCBvID0gNTtcbiAgICBlLm9hdXRoVG9rZW4gJiYgKHIuc2V0KFwiQXV0aG9yaXphdGlvblwiLCBlLm9hdXRoVG9rZW4pLCBvID0gMyksIGUucmF0ZUxpbWl0ICYmIChvID0gZS5yYXRlTGltaXQpLCBlLnJpY2hUZXh0U2NoZW1hID8gdGhpcy5yaWNoVGV4dFJlc29sdmVyID0gbmV3IHYoZS5yaWNoVGV4dFNjaGVtYSkgOiB0aGlzLnJpY2hUZXh0UmVzb2x2ZXIgPSBuZXcgdigpLCBlLmNvbXBvbmVudFJlc29sdmVyICYmIHRoaXMuc2V0Q29tcG9uZW50UmVzb2x2ZXIoZS5jb21wb25lbnRSZXNvbHZlciksIHRoaXMubWF4UmV0cmllcyA9IGUubWF4UmV0cmllcyB8fCAxMCwgdGhpcy5yZXRyaWVzRGVsYXkgPSAzMDAsIHRoaXMudGhyb3R0bGUgPSBJKHRoaXMudGhyb3R0bGVkUmVxdWVzdCwgbywgMWUzKSwgdGhpcy5hY2Nlc3NUb2tlbiA9IGUuYWNjZXNzVG9rZW4gfHwgXCJcIiwgdGhpcy5yZWxhdGlvbnMgPSB7fSwgdGhpcy5saW5rcyA9IHt9LCB0aGlzLmNhY2hlID0gZS5jYWNoZSB8fCB7IGNsZWFyOiBcIm1hbnVhbFwiIH0sIHRoaXMuaGVscGVycyA9IG5ldyBiKCksIHRoaXMucmVzb2x2ZUNvdW50ZXIgPSAwLCB0aGlzLnJlc29sdmVOZXN0ZWRSZWxhdGlvbnMgPSBlLnJlc29sdmVOZXN0ZWRSZWxhdGlvbnMgfHwgITAsIHRoaXMuc3RyaW5naWZpZWRTdG9yaWVzQ2FjaGUgPSB7fSwgdGhpcy5jbGllbnQgPSBuZXcgaGUoe1xuICAgICAgYmFzZVVSTDogcyxcbiAgICAgIHRpbWVvdXQ6IGUudGltZW91dCB8fCAwLFxuICAgICAgaGVhZGVyczogcixcbiAgICAgIHJlc3BvbnNlSW50ZXJjZXB0b3I6IGUucmVzcG9uc2VJbnRlcmNlcHRvcixcbiAgICAgIGZldGNoOiBlLmZldGNoXG4gICAgfSk7XG4gIH1cbiAgc2V0Q29tcG9uZW50UmVzb2x2ZXIoZSkge1xuICAgIHRoaXMucmljaFRleHRSZXNvbHZlci5hZGROb2RlKFwiYmxva1wiLCAodCkgPT4ge1xuICAgICAgbGV0IHMgPSBcIlwiO1xuICAgICAgcmV0dXJuIHQuYXR0cnMuYm9keSAmJiB0LmF0dHJzLmJvZHkuZm9yRWFjaCgocikgPT4ge1xuICAgICAgICBzICs9IGUoci5jb21wb25lbnQsIHIpO1xuICAgICAgfSksIHtcbiAgICAgICAgaHRtbDogc1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICBwYXJzZVBhcmFtcyhlKSB7XG4gICAgcmV0dXJuIGUudG9rZW4gfHwgKGUudG9rZW4gPSB0aGlzLmdldFRva2VuKCkpLCBlLmN2IHx8IChlLmN2ID0gbVtlLnRva2VuXSksIEFycmF5LmlzQXJyYXkoZS5yZXNvbHZlX3JlbGF0aW9ucykgJiYgKGUucmVzb2x2ZV9yZWxhdGlvbnMgPSBlLnJlc29sdmVfcmVsYXRpb25zLmpvaW4oXCIsXCIpKSwgdHlwZW9mIGUucmVzb2x2ZV9yZWxhdGlvbnMgPCBcInVcIiAmJiAoZS5yZXNvbHZlX2xldmVsID0gMiksIGU7XG4gIH1cbiAgZmFjdG9yeVBhcmFtT3B0aW9ucyhlLCB0KSB7XG4gICAgcmV0dXJuIHRoaXMuaGVscGVycy5pc0NETlVybChlKSA/IHRoaXMucGFyc2VQYXJhbXModCkgOiB0O1xuICB9XG4gIG1ha2VSZXF1ZXN0KGUsIHQsIHMsIHIsIG8pIHtcbiAgICBjb25zdCBpID0gdGhpcy5mYWN0b3J5UGFyYW1PcHRpb25zKFxuICAgICAgZSxcbiAgICAgIHRoaXMuaGVscGVycy5nZXRPcHRpb25zUGFnZSh0LCBzLCByKVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGVSZXNwb25zZShlLCBpLCB2b2lkIDAsIG8pO1xuICB9XG4gIGdldChlLCB0LCBzKSB7XG4gICAgdCB8fCAodCA9IHt9KTtcbiAgICBjb25zdCByID0gYC8ke2V9YCwgbyA9IHRoaXMuZmFjdG9yeVBhcmFtT3B0aW9ucyhyLCB0KTtcbiAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3BvbnNlKHIsIG8sIHZvaWQgMCwgcyk7XG4gIH1cbiAgYXN5bmMgZ2V0QWxsKGUsIHQsIHMsIHIpIHtcbiAgICBjb25zdCBvID0gKHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQucGVyX3BhZ2UpIHx8IDI1LCBpID0gYC8ke2V9YCwgbCA9IGkuc3BsaXQoXCIvXCIpLCBhID0gcyB8fCBsW2wubGVuZ3RoIC0gMV0sIHUgPSAxLCBoID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdChcbiAgICAgIGksXG4gICAgICB0LFxuICAgICAgbyxcbiAgICAgIHUsXG4gICAgICByXG4gICAgKSwgZCA9IGgudG90YWwgPyBNYXRoLmNlaWwoaC50b3RhbCAvIG8pIDogMSwgZyA9IGF3YWl0IHRoaXMuaGVscGVycy5hc3luY01hcChcbiAgICAgIHRoaXMuaGVscGVycy5yYW5nZSh1LCBkKSxcbiAgICAgIChmKSA9PiB0aGlzLm1ha2VSZXF1ZXN0KGksIHQsIG8sIGYgKyAxLCByKVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuaGVscGVycy5mbGF0TWFwKFxuICAgICAgW2gsIC4uLmddLFxuICAgICAgKGYpID0+IE9iamVjdC52YWx1ZXMoZi5kYXRhW2FdKVxuICAgICk7XG4gIH1cbiAgcG9zdChlLCB0LCBzKSB7XG4gICAgY29uc3QgciA9IGAvJHtlfWA7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnRocm90dGxlKFwicG9zdFwiLCByLCB0LCBzKSk7XG4gIH1cbiAgcHV0KGUsIHQsIHMpIHtcbiAgICBjb25zdCByID0gYC8ke2V9YDtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMudGhyb3R0bGUoXCJwdXRcIiwgciwgdCwgcykpO1xuICB9XG4gIGRlbGV0ZShlLCB0LCBzKSB7XG4gICAgY29uc3QgciA9IGAvJHtlfWA7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnRocm90dGxlKFwiZGVsZXRlXCIsIHIsIHQsIHMpKTtcbiAgfVxuICBnZXRTdG9yaWVzKGUsIHQpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkUmVzb2x2ZUxldmVsKGUpLCB0aGlzLmdldChcImNkbi9zdG9yaWVzXCIsIGUsIHQpO1xuICB9XG4gIGdldFN0b3J5KGUsIHQsIHMpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkUmVzb2x2ZUxldmVsKHQpLCB0aGlzLmdldChgY2RuL3N0b3JpZXMvJHtlfWAsIHQsIHMpO1xuICB9XG4gIGdldFRva2VuKCkge1xuICAgIHJldHVybiB0aGlzLmFjY2Vzc1Rva2VuO1xuICB9XG4gIGVqZWN0SW50ZXJjZXB0b3IoKSB7XG4gICAgdGhpcy5jbGllbnQuZWplY3QoKTtcbiAgfVxuICBfYWRkUmVzb2x2ZUxldmVsKGUpIHtcbiAgICB0eXBlb2YgZS5yZXNvbHZlX3JlbGF0aW9ucyA8IFwidVwiICYmIChlLnJlc29sdmVfbGV2ZWwgPSAyKTtcbiAgfVxuICBfY2xlYW5Db3B5KGUpIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSk7XG4gIH1cbiAgX2luc2VydExpbmtzKGUsIHQsIHMpIHtcbiAgICBjb25zdCByID0gZVt0XTtcbiAgICByICYmIHIuZmllbGR0eXBlID09IFwibXVsdGlsaW5rXCIgJiYgci5saW5rdHlwZSA9PSBcInN0b3J5XCIgJiYgdHlwZW9mIHIuaWQgPT0gXCJzdHJpbmdcIiAmJiB0aGlzLmxpbmtzW3NdW3IuaWRdID8gci5zdG9yeSA9IHRoaXMuX2NsZWFuQ29weSh0aGlzLmxpbmtzW3NdW3IuaWRdKSA6IHIgJiYgci5saW5rdHlwZSA9PT0gXCJzdG9yeVwiICYmIHR5cGVvZiByLnV1aWQgPT0gXCJzdHJpbmdcIiAmJiB0aGlzLmxpbmtzW3NdW3IudXVpZF0gJiYgKHIuc3RvcnkgPSB0aGlzLl9jbGVhbkNvcHkodGhpcy5saW5rc1tzXVtyLnV1aWRdKSk7XG4gIH1cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSByZXNvbHZlSWQgQSBjb3VudGVyIG51bWJlciBhcyBhIHN0cmluZ1xuICAgKiBAcGFyYW0gdXVpZCBUaGUgdXVpZCBvZiB0aGUgc3RvcnlcbiAgICogQHJldHVybnMgc3RyaW5nIHwgb2JqZWN0XG4gICAqL1xuICBnZXRTdG9yeVJlZmVyZW5jZShlLCB0KSB7XG4gICAgcmV0dXJuIHRoaXMucmVsYXRpb25zW2VdW3RdID8gKHRoaXMuc3RyaW5naWZpZWRTdG9yaWVzQ2FjaGVbdF0gfHwgKHRoaXMuc3RyaW5naWZpZWRTdG9yaWVzQ2FjaGVbdF0gPSBKU09OLnN0cmluZ2lmeShcbiAgICAgIHRoaXMucmVsYXRpb25zW2VdW3RdXG4gICAgKSksIEpTT04ucGFyc2UodGhpcy5zdHJpbmdpZmllZFN0b3JpZXNDYWNoZVt0XSkpIDogdDtcbiAgfVxuICBfaW5zZXJ0UmVsYXRpb25zKGUsIHQsIHMsIHIpIHtcbiAgICBzLmluZGV4T2YoYCR7ZS5jb21wb25lbnR9LiR7dH1gKSA+IC0xICYmICh0eXBlb2YgZVt0XSA9PSBcInN0cmluZ1wiID8gZVt0XSA9IHRoaXMuZ2V0U3RvcnlSZWZlcmVuY2UociwgZVt0XSkgOiBBcnJheS5pc0FycmF5KGVbdF0pICYmIChlW3RdID0gZVt0XS5tYXAoKG8pID0+IHRoaXMuZ2V0U3RvcnlSZWZlcmVuY2UociwgbykpLmZpbHRlcihCb29sZWFuKSkpO1xuICB9XG4gIGl0ZXJhdGVUcmVlKGUsIHQsIHMpIHtcbiAgICBjb25zdCByID0gKG8pID0+IHtcbiAgICAgIGlmIChvICE9IG51bGwpIHtcbiAgICAgICAgaWYgKG8uY29uc3RydWN0b3IgPT09IEFycmF5KVxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgby5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHIob1tpXSk7XG4gICAgICAgIGVsc2UgaWYgKG8uY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICAgIGlmIChvLl9zdG9wUmVzb2x2aW5nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGZvciAoY29uc3QgaSBpbiBvKVxuICAgICAgICAgICAgKG8uY29tcG9uZW50ICYmIG8uX3VpZCB8fCBvLnR5cGUgPT09IFwibGlua1wiKSAmJiAodGhpcy5faW5zZXJ0UmVsYXRpb25zKFxuICAgICAgICAgICAgICBvLFxuICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICB0LFxuICAgICAgICAgICAgICBzXG4gICAgICAgICAgICApLCB0aGlzLl9pbnNlcnRMaW5rcyhcbiAgICAgICAgICAgICAgbyxcbiAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgc1xuICAgICAgICAgICAgKSksIHIob1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHIoZS5jb250ZW50KTtcbiAgfVxuICBhc3luYyByZXNvbHZlTGlua3MoZSwgdCwgcykge1xuICAgIGxldCByID0gW107XG4gICAgaWYgKGUubGlua191dWlkcykge1xuICAgICAgY29uc3QgbyA9IGUubGlua191dWlkcy5sZW5ndGgsIGkgPSBbXSwgbCA9IDUwO1xuICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCBvOyBhICs9IGwpIHtcbiAgICAgICAgY29uc3QgdSA9IE1hdGgubWluKG8sIGEgKyBsKTtcbiAgICAgICAgaS5wdXNoKGUubGlua191dWlkcy5zbGljZShhLCB1KSk7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBhID0gMDsgYSA8IGkubGVuZ3RoOyBhKyspXG4gICAgICAgIChhd2FpdCB0aGlzLmdldFN0b3JpZXMoe1xuICAgICAgICAgIHBlcl9wYWdlOiBsLFxuICAgICAgICAgIGxhbmd1YWdlOiB0Lmxhbmd1YWdlLFxuICAgICAgICAgIHZlcnNpb246IHQudmVyc2lvbixcbiAgICAgICAgICBieV91dWlkczogaVthXS5qb2luKFwiLFwiKVxuICAgICAgICB9KSkuZGF0YS5zdG9yaWVzLmZvckVhY2goXG4gICAgICAgICAgKHUpID0+IHtcbiAgICAgICAgICAgIHIucHVzaCh1KTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfSBlbHNlXG4gICAgICByID0gZS5saW5rcztcbiAgICByLmZvckVhY2goKG8pID0+IHtcbiAgICAgIHRoaXMubGlua3Nbc11bby51dWlkXSA9IHtcbiAgICAgICAgLi4ubyxcbiAgICAgICAgX3N0b3BSZXNvbHZpbmc6ICEwXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIHJlc29sdmVSZWxhdGlvbnMoZSwgdCwgcykge1xuICAgIGxldCByID0gW107XG4gICAgaWYgKGUucmVsX3V1aWRzKSB7XG4gICAgICBjb25zdCBvID0gZS5yZWxfdXVpZHMubGVuZ3RoLCBpID0gW10sIGwgPSA1MDtcbiAgICAgIGZvciAobGV0IGEgPSAwOyBhIDwgbzsgYSArPSBsKSB7XG4gICAgICAgIGNvbnN0IHUgPSBNYXRoLm1pbihvLCBhICsgbCk7XG4gICAgICAgIGkucHVzaChlLnJlbF91dWlkcy5zbGljZShhLCB1KSk7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBhID0gMDsgYSA8IGkubGVuZ3RoOyBhKyspXG4gICAgICAgIChhd2FpdCB0aGlzLmdldFN0b3JpZXMoe1xuICAgICAgICAgIHBlcl9wYWdlOiBsLFxuICAgICAgICAgIGxhbmd1YWdlOiB0Lmxhbmd1YWdlLFxuICAgICAgICAgIHZlcnNpb246IHQudmVyc2lvbixcbiAgICAgICAgICBieV91dWlkczogaVthXS5qb2luKFwiLFwiKSxcbiAgICAgICAgICBleGNsdWRpbmdfZmllbGRzOiB0LmV4Y2x1ZGluZ19maWVsZHNcbiAgICAgICAgfSkpLmRhdGEuc3Rvcmllcy5mb3JFYWNoKCh1KSA9PiB7XG4gICAgICAgICAgci5wdXNoKHUpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2VcbiAgICAgIHIgPSBlLnJlbHM7XG4gICAgciAmJiByLmxlbmd0aCA+IDAgJiYgci5mb3JFYWNoKChvKSA9PiB7XG4gICAgICB0aGlzLnJlbGF0aW9uc1tzXVtvLnV1aWRdID0ge1xuICAgICAgICAuLi5vLFxuICAgICAgICBfc3RvcFJlc29sdmluZzogITBcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSByZXNwb25zZURhdGFcbiAgICogQHBhcmFtIHBhcmFtc1xuICAgKiBAcGFyYW0gcmVzb2x2ZUlkXG4gICAqIEBkZXNjcmlwdGlvbiBSZXNvbHZlcyB0aGUgcmVsYXRpb25zIGFuZCBsaW5rcyBvZiB0aGUgc3Rvcmllc1xuICAgKiBAcmV0dXJucyBQcm9taXNlPHZvaWQ+XG4gICAqXG4gICAqL1xuICBhc3luYyByZXNvbHZlU3RvcmllcyhlLCB0LCBzKSB7XG4gICAgdmFyIHIsIG87XG4gICAgbGV0IGkgPSBbXTtcbiAgICBpZiAodGhpcy5saW5rc1tzXSA9IHt9LCB0aGlzLnJlbGF0aW9uc1tzXSA9IHt9LCB0eXBlb2YgdC5yZXNvbHZlX3JlbGF0aW9ucyA8IFwidVwiICYmIHQucmVzb2x2ZV9yZWxhdGlvbnMubGVuZ3RoID4gMCAmJiAodHlwZW9mIHQucmVzb2x2ZV9yZWxhdGlvbnMgPT0gXCJzdHJpbmdcIiAmJiAoaSA9IHQucmVzb2x2ZV9yZWxhdGlvbnMuc3BsaXQoXCIsXCIpKSwgYXdhaXQgdGhpcy5yZXNvbHZlUmVsYXRpb25zKGUsIHQsIHMpKSwgdC5yZXNvbHZlX2xpbmtzICYmIFtcIjFcIiwgXCJzdG9yeVwiLCBcInVybFwiLCBcImxpbmtcIl0uaW5kZXhPZih0LnJlc29sdmVfbGlua3MpID4gLTEgJiYgKChyID0gZS5saW5rcykgIT0gbnVsbCAmJiByLmxlbmd0aCB8fCAobyA9IGUubGlua191dWlkcykgIT0gbnVsbCAmJiBvLmxlbmd0aCkgJiYgYXdhaXQgdGhpcy5yZXNvbHZlTGlua3MoZSwgdCwgcyksIHRoaXMucmVzb2x2ZU5lc3RlZFJlbGF0aW9ucylcbiAgICAgIGZvciAoY29uc3QgbCBpbiB0aGlzLnJlbGF0aW9uc1tzXSlcbiAgICAgICAgdGhpcy5pdGVyYXRlVHJlZShcbiAgICAgICAgICB0aGlzLnJlbGF0aW9uc1tzXVtsXSxcbiAgICAgICAgICBpLFxuICAgICAgICAgIHNcbiAgICAgICAgKTtcbiAgICBlLnN0b3J5ID8gdGhpcy5pdGVyYXRlVHJlZShlLnN0b3J5LCBpLCBzKSA6IGUuc3Rvcmllcy5mb3JFYWNoKChsKSA9PiB7XG4gICAgICB0aGlzLml0ZXJhdGVUcmVlKGwsIGksIHMpO1xuICAgIH0pLCB0aGlzLnN0cmluZ2lmaWVkU3Rvcmllc0NhY2hlID0ge30sIGRlbGV0ZSB0aGlzLmxpbmtzW3NdLCBkZWxldGUgdGhpcy5yZWxhdGlvbnNbc107XG4gIH1cbiAgYXN5bmMgY2FjaGVSZXNwb25zZShlLCB0LCBzLCByKSB7XG4gICAgY29uc3QgbyA9IHRoaXMuaGVscGVycy5zdHJpbmdpZnkoeyB1cmw6IGUsIHBhcmFtczogdCB9KSwgaSA9IHRoaXMuY2FjaGVQcm92aWRlcigpO1xuICAgIGlmICh0aGlzLmNhY2hlLmNsZWFyID09PSBcImF1dG9cIiAmJiB0LnZlcnNpb24gPT09IFwiZHJhZnRcIiAmJiBhd2FpdCB0aGlzLmZsdXNoQ2FjaGUoKSwgdC52ZXJzaW9uID09PSBcInB1Ymxpc2hlZFwiICYmIGUgIT0gXCIvY2RuL3NwYWNlcy9tZVwiKSB7XG4gICAgICBjb25zdCBsID0gYXdhaXQgaS5nZXQobyk7XG4gICAgICBpZiAobClcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShsKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChsLCBhKSA9PiB7XG4gICAgICB2YXIgdTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGggPSBhd2FpdCB0aGlzLnRocm90dGxlKFwiZ2V0XCIsIGUsIHQsIHIpO1xuICAgICAgICBpZiAoaC5zdGF0dXMgIT09IDIwMClcbiAgICAgICAgICByZXR1cm4gYShoKTtcbiAgICAgICAgbGV0IGQgPSB7IGRhdGE6IGguZGF0YSwgaGVhZGVyczogaC5oZWFkZXJzIH07XG4gICAgICAgIGlmICgodSA9IGguaGVhZGVycykgIT0gbnVsbCAmJiB1W1wicGVyLXBhZ2VcIl0gJiYgKGQgPSBPYmplY3QuYXNzaWduKHt9LCBkLCB7XG4gICAgICAgICAgcGVyUGFnZTogaC5oZWFkZXJzW1wicGVyLXBhZ2VcIl0gPyBwYXJzZUludChoLmhlYWRlcnNbXCJwZXItcGFnZVwiXSkgOiAwLFxuICAgICAgICAgIHRvdGFsOiBoLmhlYWRlcnNbXCJwZXItcGFnZVwiXSA/IHBhcnNlSW50KGguaGVhZGVycy50b3RhbCkgOiAwXG4gICAgICAgIH0pKSwgZC5kYXRhLnN0b3J5IHx8IGQuZGF0YS5zdG9yaWVzKSB7XG4gICAgICAgICAgY29uc3QgZyA9IHRoaXMucmVzb2x2ZUNvdW50ZXIgPSArK3RoaXMucmVzb2x2ZUNvdW50ZXIgJSAxZTM7XG4gICAgICAgICAgYXdhaXQgdGhpcy5yZXNvbHZlU3RvcmllcyhkLmRhdGEsIHQsIGAke2d9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQudmVyc2lvbiA9PT0gXCJwdWJsaXNoZWRcIiAmJiBlICE9IFwiL2Nkbi9zcGFjZXMvbWVcIiAmJiBhd2FpdCBpLnNldChvLCBkKSwgZC5kYXRhLmN2ICYmIHQudG9rZW4gJiYgKHQudmVyc2lvbiA9PT0gXCJkcmFmdFwiICYmIG1bdC50b2tlbl0gIT0gZC5kYXRhLmN2ICYmIGF3YWl0IHRoaXMuZmx1c2hDYWNoZSgpLCBtW3QudG9rZW5dID0gdC5jdiA/IHQuY3YgOiBkLmRhdGEuY3YpLCBsKGQpO1xuICAgICAgfSBjYXRjaCAoaCkge1xuICAgICAgICBpZiAoaC5yZXNwb25zZSAmJiBoLnN0YXR1cyA9PT0gNDI5ICYmIChzID0gdHlwZW9mIHMgPiBcInVcIiA/IDAgOiBzICsgMSwgcyA8IHRoaXMubWF4UmV0cmllcykpXG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgYEhpdCByYXRlIGxpbWl0LiBSZXRyeWluZyBpbiAke3RoaXMucmV0cmllc0RlbGF5IC8gMWUzfSBzZWNvbmRzLmBcbiAgICAgICAgICApLCBhd2FpdCB0aGlzLmhlbHBlcnMuZGVsYXkodGhpcy5yZXRyaWVzRGVsYXkpLCB0aGlzLmNhY2hlUmVzcG9uc2UoZSwgdCwgcykudGhlbihsKS5jYXRjaChhKTtcbiAgICAgICAgYShoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICB0aHJvdHRsZWRSZXF1ZXN0KGUsIHQsIHMsIHIpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuc2V0RmV0Y2hPcHRpb25zKHIpLCB0aGlzLmNsaWVudFtlXSh0LCBzKTtcbiAgfVxuICBjYWNoZVZlcnNpb25zKCkge1xuICAgIHJldHVybiBtO1xuICB9XG4gIGNhY2hlVmVyc2lvbigpIHtcbiAgICByZXR1cm4gbVt0aGlzLmFjY2Vzc1Rva2VuXTtcbiAgfVxuICBzZXRDYWNoZVZlcnNpb24oZSkge1xuICAgIHRoaXMuYWNjZXNzVG9rZW4gJiYgKG1bdGhpcy5hY2Nlc3NUb2tlbl0gPSBlKTtcbiAgfVxuICBjbGVhckNhY2hlVmVyc2lvbigpIHtcbiAgICB0aGlzLmFjY2Vzc1Rva2VuICYmIChtW3RoaXMuYWNjZXNzVG9rZW5dID0gMCk7XG4gIH1cbiAgY2FjaGVQcm92aWRlcigpIHtcbiAgICBzd2l0Y2ggKHRoaXMuY2FjaGUudHlwZSkge1xuICAgICAgY2FzZSBcIm1lbW9yeVwiOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGdldChlKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHlbZV0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0QWxsKCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh5KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldChlLCB0KSB7XG4gICAgICAgICAgICByZXR1cm4geVtlXSA9IHQsIFByb21pc2UucmVzb2x2ZSh2b2lkIDApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmx1c2goKSB7XG4gICAgICAgICAgICByZXR1cm4geSA9IHt9LCBQcm9taXNlLnJlc29sdmUodm9pZCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICBjYXNlIFwiY3VzdG9tXCI6XG4gICAgICAgIGlmICh0aGlzLmNhY2hlLmN1c3RvbSkgcmV0dXJuIHRoaXMuY2FjaGUuY3VzdG9tO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRBbGwoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZvaWQgMCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZvaWQgMCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmbHVzaCgpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodm9pZCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICB9XG4gIGFzeW5jIGZsdXNoQ2FjaGUoKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuY2FjaGVQcm92aWRlcigpLmZsdXNoKCksIHRoaXMuY2xlYXJDYWNoZVZlcnNpb24oKSwgdGhpcztcbiAgfVxufVxuY29uc3QgcGUgPSAobiA9IHt9KSA9PiB7XG4gIGNvbnN0IHsgYXBpT3B0aW9uczogZSB9ID0gbjtcbiAgaWYgKCFlLmFjY2Vzc1Rva2VuKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiWW91IG5lZWQgdG8gcHJvdmlkZSBhbiBhY2Nlc3MgdG9rZW4gdG8gaW50ZXJhY3Qgd2l0aCBTdG9yeWJsb2sgQVBJLiBSZWFkIGh0dHBzOi8vd3d3LnN0b3J5Ymxvay5jb20vZG9jcy9hcGkvY29udGVudC1kZWxpdmVyeSN0b3BpY3MvYXV0aGVudGljYXRpb25cIlxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiB7IHN0b3J5Ymxva0FwaTogbmV3IHVlKGUpIH07XG59LCBnZSA9IChuKSA9PiB7XG4gIGlmICh0eXBlb2YgbiAhPSBcIm9iamVjdFwiIHx8IHR5cGVvZiBuLl9lZGl0YWJsZSA+IFwidVwiKVxuICAgIHJldHVybiB7fTtcbiAgdHJ5IHtcbiAgICBjb25zdCBlID0gSlNPTi5wYXJzZShcbiAgICAgIG4uX2VkaXRhYmxlLnJlcGxhY2UoL148IS0tI3N0b3J5YmxvayMvLCBcIlwiKS5yZXBsYWNlKC8tLT4kLywgXCJcIilcbiAgICApO1xuICAgIHJldHVybiBlID8ge1xuICAgICAgXCJkYXRhLWJsb2stY1wiOiBKU09OLnN0cmluZ2lmeShlKSxcbiAgICAgIFwiZGF0YS1ibG9rLXVpZFwiOiBlLmlkICsgXCItXCIgKyBlLnVpZFxuICAgIH0gOiB7fTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59O1xubGV0IFIsIFQgPSBcImh0dHBzOi8vYXBwLnN0b3J5Ymxvay5jb20vZi9zdG9yeWJsb2stdjItbGF0ZXN0LmpzXCI7XG5jb25zdCBmZSA9IChuLCBlLCB0ID0ge30pID0+IHtcbiAgdmFyIHM7XG4gIGNvbnN0IHIgPSAhKHR5cGVvZiB3aW5kb3cgPiBcInVcIikgJiYgdHlwZW9mIHdpbmRvdy5zdG9yeWJsb2tSZWdpc3RlckV2ZW50IDwgXCJ1XCIsIG8gPSArbmV3IFVSTCgocyA9IHdpbmRvdy5sb2NhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IHMuaHJlZikuc2VhcmNoUGFyYW1zLmdldChcbiAgICBcIl9zdG9yeWJsb2tcIlxuICApID09PSBuO1xuICBpZiAoISghciB8fCAhbykpIHtcbiAgICBpZiAoIW4pIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlN0b3J5IElEIGlzIG5vdCBkZWZpbmVkLiBQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIElELlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2luZG93LnN0b3J5Ymxva1JlZ2lzdGVyRXZlbnQoKCkgPT4ge1xuICAgICAgbmV3IHdpbmRvdy5TdG9yeWJsb2tCcmlkZ2UodCkub24oW1wiaW5wdXRcIiwgXCJwdWJsaXNoZWRcIiwgXCJjaGFuZ2VcIl0sIChpKSA9PiB7XG4gICAgICAgIGkuYWN0aW9uID09PSBcImlucHV0XCIgJiYgaS5zdG9yeS5pZCA9PT0gbiA/IGUoaS5zdG9yeSkgOiAoaS5hY3Rpb24gPT09IFwiY2hhbmdlXCIgfHwgaS5hY3Rpb24gPT09IFwicHVibGlzaGVkXCIpICYmIGkuc3RvcnlJZCA9PT0gbiAmJiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufSwgbWUgPSAobiA9IHt9KSA9PiB7XG4gIHZhciBlLCB0O1xuICBjb25zdCB7XG4gICAgYnJpZGdlOiBzLFxuICAgIGFjY2Vzc1Rva2VuOiByLFxuICAgIHVzZTogbyA9IFtdLFxuICAgIGFwaU9wdGlvbnM6IGkgPSB7fSxcbiAgICByaWNoVGV4dDogbCA9IHt9LFxuICAgIGJyaWRnZVVybDogYVxuICB9ID0gbjtcbiAgaS5hY2Nlc3NUb2tlbiA9IGkuYWNjZXNzVG9rZW4gfHwgcjtcbiAgY29uc3QgdSA9IHsgYnJpZGdlOiBzLCBhcGlPcHRpb25zOiBpIH07XG4gIGxldCBoID0ge307XG4gIG8uZm9yRWFjaCgoZykgPT4ge1xuICAgIGggPSB7IC4uLmgsIC4uLmcodSkgfTtcbiAgfSksIGEgJiYgKFQgPSBhKTtcbiAgY29uc3QgZCA9ICEodHlwZW9mIHdpbmRvdyA+IFwidVwiKSAmJiAoKHQgPSAoZSA9IHdpbmRvdy5sb2NhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IGUuc2VhcmNoKSA9PSBudWxsID8gdm9pZCAwIDogdC5pbmNsdWRlcyhcIl9zdG9yeWJsb2tfdGtcIikpO1xuICByZXR1cm4gcyAhPT0gITEgJiYgZCAmJiBPKFQpLCBSID0gbmV3IHYobC5zY2hlbWEpLCBsLnJlc29sdmVyICYmIEUoUiwgbC5yZXNvbHZlciksIGg7XG59LCBFID0gKG4sIGUpID0+IHtcbiAgbi5hZGROb2RlKFwiYmxva1wiLCAodCkgPT4ge1xuICAgIGxldCBzID0gXCJcIjtcbiAgICByZXR1cm4gdC5hdHRycy5ib2R5LmZvckVhY2goKHIpID0+IHtcbiAgICAgIHMgKz0gZShyLmNvbXBvbmVudCwgcik7XG4gICAgfSksIHtcbiAgICAgIGh0bWw6IHNcbiAgICB9O1xuICB9KTtcbn0sIGRlID0gKG4pID0+ICFuIHx8ICEobiAhPSBudWxsICYmIG4uY29udGVudC5zb21lKChlKSA9PiBlLmNvbnRlbnQgfHwgZS50eXBlID09PSBcImJsb2tcIiB8fCBlLnR5cGUgPT09IFwiaG9yaXpvbnRhbF9ydWxlXCIpKSwgeWUgPSAobiwgZSwgdCkgPT4ge1xuICBsZXQgcyA9IHQgfHwgUjtcbiAgaWYgKCFzKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiUGxlYXNlIGluaXRpYWxpemUgdGhlIFN0b3J5YmxvayBTREsgYmVmb3JlIGNhbGxpbmcgdGhlIHJlbmRlclJpY2hUZXh0IGZ1bmN0aW9uXCJcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gZGUobikgPyBcIlwiIDogKGUgJiYgKHMgPSBuZXcgdihlLnNjaGVtYSksIGUucmVzb2x2ZXIgJiYgRShzLCBlLnJlc29sdmVyKSksIHMucmVuZGVyKG4pKTtcbn0sIGJlID0gKCkgPT4gTyhUKTtcbmV4cG9ydCB7XG4gIHYgYXMgUmljaFRleHRSZXNvbHZlcixcbiAgbmUgYXMgUmljaFRleHRTY2hlbWEsXG4gIHBlIGFzIGFwaVBsdWdpbixcbiAgZGUgYXMgaXNSaWNoVGV4dEVtcHR5LFxuICBiZSBhcyBsb2FkU3RvcnlibG9rQnJpZGdlLFxuICBmZSBhcyByZWdpc3RlclN0b3J5Ymxva0JyaWRnZSxcbiAgeWUgYXMgcmVuZGVyUmljaFRleHQsXG4gIGdlIGFzIHN0b3J5Ymxva0VkaXRhYmxlLFxuICBtZSBhcyBzdG9yeWJsb2tJbml0LFxuICBmZSBhcyB1c2VTdG9yeWJsb2tCcmlkZ2Vcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@storyblok/react/dist/storyblok-js.mjs\n");

/***/ })

};
;